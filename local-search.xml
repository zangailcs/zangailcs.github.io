<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>å°ä»™å¥³çš„åä¸‡ä¸ªæ”¾å±ç†ç”±</title>
    <link href="/2024/06/15/EnjoyLife/%E5%B0%8F%E4%BB%99%E5%A5%B3%E7%9A%84%E5%8D%81%E4%B8%87%E4%B8%AA%E6%94%BE%E5%B1%81%E7%90%86%E7%94%B1/"/>
    <url>/2024/06/15/EnjoyLife/%E5%B0%8F%E4%BB%99%E5%A5%B3%E7%9A%84%E5%8D%81%E4%B8%87%E4%B8%AA%E6%94%BE%E5%B1%81%E7%90%86%E7%94%B1/</url>
    
    <content type="html"><![CDATA[<h1 id="å°ä»™å¥³çš„åä¸‡ä¸ªæ”¾å±ç†ç”±">å°ä»™å¥³çš„åä¸‡ä¸ªæ”¾å±ç†ç”±</h1><p>è®°å½•ä¸€ä¸‹å®è´è€å©†çš„æ”¾å±ç†ç”±ï¼ŒæŒç»­æ›´æ–°ğŸ˜</p><ul><li>æ‹‰è‚šå­åé—ç—‡</li><li>...</li></ul>]]></content>
    
    
    <categories>
      
      <category>lcstt</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>OnJava00--Javaä¸C++çš„åŒºåˆ«</title>
    <link href="/2024/06/15/OnJava%E5%9F%BA%E7%A1%80%E5%8D%B7/OnJava00-Java%E4%B8%8EC++%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <url>/2024/06/15/OnJava%E5%9F%BA%E7%A1%80%E5%8D%B7/OnJava00-Java%E4%B8%8EC++%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h1 id="onjava00--javaä¸cçš„åŒºåˆ«">OnJava00--Javaä¸C++çš„åŒºåˆ«</h1><h3 id="å‰è¨€">1ã€å‰è¨€</h3><p>ã€ŠOnJavaã€‹ä¹¦ä¸­å¾ˆå¤šåœ°æ–¹ä½œè€…éƒ½çç¢åœ°æ¯”è¾ƒäº†Javaä¸C++çš„å·®å¼‚ç‚¹ï¼Œç‰¹æ­¤å•ç‹¬ç”¨ä¸€ç¯‡ç¬”è®°è®°å½•ã€‚</p><h3 id="javaä¸cçš„åŒºåˆ«">2ã€Javaä¸C++çš„åŒºåˆ«</h3><h5 id="æ˜¯å¦æœ‰åŸºç±»">ï¼ˆ1ï¼‰æ˜¯å¦æœ‰åŸºç±»ï¼š</h5><ul><li>Javaçš„æ‰€æœ‰ç±»éƒ½ç»§æ‰¿è‡ªObject --<strong>å•æ ¹å±‚æ¬¡ç»“æ„</strong>ï¼Œæœ‰åˆ©äºå®ç°åƒåœ¾æ”¶é›†å™¨</li><li>C++æ— æ³•ç¡®ä¿æ‰€æœ‰å¯¹è±¡éƒ½å±äºä¸€ä¸ªåŸºç±»</li></ul><h5 id="åƒåœ¾å›æ”¶">ï¼ˆ2ï¼‰åƒåœ¾å›æ”¶ï¼š</h5><ul><li>C++å¿…é¡»åœ¨ç¼–ç æ—¶å°±æ˜ç¡®ä½•æ—¶é”€æ¯å¯¹è±¡ï¼Œå¦åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼</li><li>Javaåº•å±‚æ”¯æŒåƒåœ¾æ”¶é›†å™¨ï¼Œä¼šè‡ªåŠ¨æ‰¾åˆ°æ— ç”¨çš„å¯¹è±¡å¹¶å°†å…¶é”€æ¯</li></ul><h5 id="ä¼ å€¼å’Œä¼ å¼•ç”¨">ï¼ˆ3ï¼‰ä¼ å€¼å’Œä¼ å¼•ç”¨</h5><ul><li>C++æ”¯æŒä¼ å€¼ï¼Œä¹Ÿæ”¯æŒä¼ å¼•ç”¨</li><li>Javaä¸­åªæœ‰ä¼ å€¼ï¼Œå¯¹äºå¯¹è±¡çš„å¼•ç”¨ï¼Œå‚æ•°ä¼ é€’çš„æ˜¯å¼•ç”¨çš„ä¸€ä»½å¤åˆ¶ï¼Œæ‰€ä»¥æ–¹æ³•ä¸­ä¿®æ”¹å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œåœ¨æ–¹æ³•ç»“æŸåå¹¶ä¸ç”Ÿæ•ˆ</li></ul><h5 id="å¯„å­˜å™¨">ï¼ˆ4ï¼‰å¯„å­˜å™¨</h5><ul><li>C/C++å…è®¸å‘ç¼–è¯‘å™¨ç”³è¯·åˆ†é…å¯„å­˜å™¨ï¼Œè€ŒJavaä¸èƒ½ç›´æ¥æ§åˆ¶å¯„å­˜å™¨çš„åˆ†é…ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>OnJavaç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>OnJava01--é¢å‘å¯¹è±¡åŸºç¡€</title>
    <link href="/2024/06/15/OnJava%E5%9F%BA%E7%A1%80%E5%8D%B7/OnJava01/"/>
    <url>/2024/06/15/OnJava%E5%9F%BA%E7%A1%80%E5%8D%B7/OnJava01/</url>
    
    <content type="html"><![CDATA[<h1 id="onjava01-é¢å‘å¯¹è±¡åŸºç¡€">OnJava01-é¢å‘å¯¹è±¡åŸºç¡€</h1><h3 id="å¯¹è±¡æ— å¤„ä¸åœ¨">1ã€å¯¹è±¡æ— å¤„ä¸åœ¨</h3><h4 id="æ•°æ®ä¿å­˜åœ¨å“ª">1.1ã€æ•°æ®ä¿å­˜åœ¨å“ª</h4><h5 id="å¯„å­˜å™¨">ï¼ˆ1ï¼‰å¯„å­˜å™¨</h5><p>é€Ÿåº¦æœ€å¿«çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œç›´æ¥åŒ…å­˜åœ¨CPUé‡Œã€‚æ•°é‡å¾ˆæœ‰é™ï¼Œåªèƒ½æŒ‰éœ€åˆ†é…ã€‚Javaä¸­ä¸èƒ½ç›´æ¥æ§åˆ¶å¯„å­˜å™¨çš„åˆ†é…ã€‚</p><h5 id="æ ˆstack">ï¼ˆ2ï¼‰æ ˆï¼ˆStackï¼‰</h5><ul><li>æ•°æ®å­˜å‚¨åœ¨éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆRAMï¼‰é‡Œï¼Œå¤„ç†å™¨å¯ä»¥é€šè¿‡<strong>æ ˆæŒ‡é’ˆ</strong>ç›´æ¥æ“ä½œè¯¥æ•°æ®ã€‚</li><li>æ•ˆç‡ä»…æ¬¡äºå¯„å­˜å™¨ã€‚</li><li>Javaåœ¨åˆ›å»ºç¨‹åºæ—¶å°±è¦æ˜ç¡®æ ˆä¸Šæ‰€æœ‰å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œçº¦æŸäº†ç¨‹åºçš„çµæ´»æ€§ï¼Œå› æ­¤å¯¹è±¡å¼•ç”¨ï¼ˆä½†ä¸ä»…æ˜¯å¯¹è±¡å¼•ç”¨ï¼‰ä¼šä¿å­˜åœ¨æ ˆä¸Šï¼Œè€Œå¯¹è±¡æœ¬èº«ä¸åœ¨ã€‚</li></ul><h5 id="å †heap">ï¼ˆ3ï¼‰å †ï¼ˆHeapï¼‰</h5><ul><li>é€šç”¨çš„å†…å­˜æ± ï¼Œä¹Ÿå­˜å‚¨åœ¨RAMç©ºé—´</li><li>ç”¨äºå­˜æ”¾æ‰€æœ‰Javaå¯¹è±¡</li><li>å †çš„ä½¿ç”¨éå¸¸çµæ´»ï¼Œå¯ä»¥éšæ—¶newå¯¹è±¡ï¼ŒJavaä¼šåœ¨å †ä¸Šä¸ºè¯¥å¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´</li><li>çµæ´»çš„ä»£ä»·ï¼šåˆ†é…å’Œæ¸…ç†å †å­˜å‚¨è¦æ¯”æ ˆå­˜å‚¨èŠ±è´¹æ›´å¤šçš„æ—¶é—´--å¦‚ä»ŠJavaçš„å †å†…å­˜åˆ†é…æœºåˆ¶å·²ç»éå¸¸é«˜æ•ˆï¼Œä¸éœ€è¿‡åº¦å…³æ³¨æ­¤é—®é¢˜</li></ul><h5 id="å¸¸é‡å­˜å‚¨">ï¼ˆ4ï¼‰å¸¸é‡å­˜å‚¨</h5><ul><li>å¸¸é‡é€šå¸¸ç›´æ¥ä¿å­˜åœ¨ç¨‹åºä»£ç ä¸­ï¼Œå› ä¸ºå€¼ä¸ä¼šæ”¹å˜</li></ul><h5 id="éramå­˜å‚¨">ï¼ˆ5ï¼‰éRAMå­˜å‚¨</h5><p>æœªä¿å­˜åœ¨åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®ã€‚å…¸å‹ä¾‹å­ï¼š</p><ul><li>åºåˆ—åŒ–å¯¹è±¡ï¼šè½¬æ¢ä¸ºå­—èŠ‚æµï¼Œå¹¶å¯ä»¥å‘é€åˆ°å…¶ä»–æœºå™¨çš„å¯¹è±¡</li><li>æŒä¹…åŒ–å¯¹è±¡ï¼šç£ç›˜ä¸Šçš„å¯¹è±¡ï¼ŒJDBCã€Hibernateç­‰</li></ul><h4 id="ç‰¹æ®Šæƒ…å†µåŸºæœ¬ç±»å‹">1.2 ç‰¹æ®Šæƒ…å†µï¼šåŸºæœ¬ç±»å‹</h4><p>å¯¹äºåŸºæœ¬ç±»å‹ï¼ŒJavaæ˜¯ç›´æ¥åˆ›å»ºä¸€ä¸ªâ€œè‡ªåŠ¨å˜é‡â€ï¼Œè€Œ<strong>ä¸æ˜¯å¼•ç”¨</strong>ï¼Œè¯¥å˜é‡ä¼šç›´æ¥åœ¨æ ˆä¸Šä¿å­˜å®ƒçš„å€¼ã€‚è¿è¡Œæ•ˆç‡ä¹Ÿè¾ƒé«˜ã€‚</p><h4 id="æ— éœ€é”€æ¯å¯¹è±¡">1.3 æ— éœ€é”€æ¯å¯¹è±¡</h4><h5 id="ä½œç”¨åŸŸ">ï¼ˆ1ï¼‰ä½œç”¨åŸŸ</h5><ul><li>C/C++ã€Javaçš„ä½œç”¨åŸŸèŒƒå›´éƒ½æ˜¯é€šè¿‡å¤§æ‹¬å·{} æ¥å®šä¹‰çš„ã€‚</li><li>Javaä¸­ä¸å…è®¸åœ¨å¤–å›´çš„ä½œç”¨åŸŸä¸­â€œéšè—â€å˜é‡ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><pre><code class="hljs java">&#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;<br>    &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">96</span>; <span class="hljs-comment">// è¯­æ³•é”™è¯¯</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="å¯¹è±¡çš„ä½œç”¨åŸŸ">ï¼ˆ2ï¼‰å¯¹è±¡çš„ä½œç”¨åŸŸ</h5><p>Javaå¯¹è±¡åœ¨å…¶ä½œç”¨åŸŸç»“æŸåå¯èƒ½ä¼šä¾ç„¶å­˜åœ¨ã€‚</p><p>åƒåœ¾æ”¶é›†å™¨ä¼šç›‘è§†æ‰€æœ‰é€šè¿‡newåˆ›å»ºçš„å¯¹è±¡ï¼ŒåŠæ—¶å‘ç°ä¸å†å¼•ç”¨çš„å¯¹è±¡ï¼Œå¹¶é‡Šæ”¾æ‰€å ç”¨çš„å†…å­˜ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>OnJavaç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>mavenå…¥é—¨ç¬”è®°03--æ‰§è¡ŒMavençš„æ„å»ºå‘½ä»¤&amp;åˆ›å»ºMavençš„Webå·¥ç¨‹&amp;ä¾èµ–çš„èŒƒå›´</title>
    <link href="/2022/09/12/Maven/01/maven03/"/>
    <url>/2022/09/12/Maven/01/maven03/</url>
    
    <content type="html"><![CDATA[<h1id="mavenå…¥é—¨03-å®éªŒäºŒæ‰§è¡Œmavençš„æ„å»ºå‘½ä»¤">Mavenå…¥é—¨03-å®éªŒäºŒï¼ˆæ‰§è¡ŒMavençš„æ„å»ºå‘½ä»¤ï¼‰</h1><h3 id="è¦æ±‚">1. è¦æ±‚</h3><p>è¿è¡ŒMavenä¸­å’Œæ„å»ºç›¸å…³çš„å‘½ä»¤æ—¶ï¼Œå¿…é¡»è¿›å…¥åˆ°pom.xmlæ‰€åœ¨çš„ç›®å½•ã€‚å¦‚æœæ²¡æœ‰åœ¨pom.xmlæ‰€åœ¨çš„ç›®å½•è¿è¡Œï¼Œä¼šçœ‹åˆ°ä¸‹é¢çš„é”™è¯¯æç¤ºï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs text">The goal you specified requires a project to execute but there is no POM in this directory<br></code></pre></td></tr></table></figure><h3 id="æ¸…ç†æ“ä½œ">2. æ¸…ç†æ“ä½œ</h3><p>mvn clean</p><p>æ•ˆæœï¼šåˆ é™¤targetç›®å½•</p><h3 id="ç¼–è¯‘æ“ä½œ">3. ç¼–è¯‘æ“ä½œ</h3><ul><li>ä¸»ç¨‹åºç¼–è¯‘ï¼šmvn compile</li><li>æµ‹è¯•ç¨‹åºç¼–è¯‘ï¼šmvn test-compile</li><li>ä¸»ä½“ç¨‹åºç¼–è¯‘ç»“æœå­˜æ”¾çš„ç›®å½•ï¼štarget/classes</li><li>æµ‹è¯•ç¨‹åºç¼–è¯‘ç»“æœå­˜æ”¾çš„ç›®å½•ï¼štarget/test-classes</li></ul><h3 id="æµ‹è¯•æ“ä½œ">4. æµ‹è¯•æ“ä½œ</h3><p>mvn test</p><p>æ‰§è¡Œæ—¶ä¼šç»å†ä»¥ä¸‹å„ä¸ªç”Ÿå‘½å‘¨æœŸï¼šresourcesã€compileã€testResourcesã€testCompileã€test</p><figure><imgsrc="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/Spring/maven03-mvnTestRunning.png"alt="image-20220912195049163" /><figcaption aria-hidden="true">image-20220912195049163</figcaption></figure><p>æµ‹è¯•æŠ¥å‘Šçš„å­˜æ”¾ç›®å½•ï¼štarget-reports</p><h3 id="æ‰“åŒ…æ“ä½œ">5. æ‰“åŒ…æ“ä½œ</h3><p>mvn package</p><p>æ‰“åŒ…çš„ç»“æœ--jar/waråŒ…ï¼Œå­˜æ”¾çš„ç›®å½•ï¼štarget</p><h3 id="å®‰è£…æ“ä½œ">6. å®‰è£…æ“ä½œ</h3><p>mvn install</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">[INFO] Installing D:\codes\maven-workspace\pro01-maven-java\target\pro01-maven-java-1.0-SNAPSHOT.jar to D:\envs\maven-repo\com\lics\maven\pro01-maven-java\1.0-SNAPSHOT\pro01-maven-java-1.0-SNAPSHOT.jar<br>[INFO] Installing D:\codes\maven-workspace\pro01-maven-java\pom.xml to D:\envs\maven-repo\com\lics\maven\pro01-maven-java\1.0-SNAPSHOT\pro01-maven-java-1.0-SNAPSHOT.pom<br></code></pre></td></tr></table></figure><p>å®‰è£…çš„æ•ˆæœï¼š</p><ul><li>å°†æœ¬åœ°æ„å»ºè¿‡ç¨‹ä¸­ç”Ÿæˆçš„jaråŒ…å­˜å…¥mavenæœ¬åœ°ä»“åº“ã€‚</li><li>å°†pom.xmlæ–‡ä»¶è½¬æ¢ä¸ºXXX.pomæ–‡ä»¶ä¸€èµ·å­˜å…¥æœ¬åœ°ä»“åº“ã€‚ï¼ˆåªæ˜¯åå­—æ”¹å˜ï¼Œæœ¬è´¨ä¸Šæ˜¯åŒä¸€ä¸ªæ–‡ä»¶ï¼‰</li></ul><h1id="mavenå…¥é—¨03-å®éªŒä¸‰åˆ›å»ºmavençš„webå·¥ç¨‹">Mavenå…¥é—¨03-å®éªŒä¸‰ï¼ˆåˆ›å»ºMavençš„Webå·¥ç¨‹ï¼‰</h1><h3 id="è¯´æ˜">1. è¯´æ˜</h3><p>ä½¿ç”¨mvnarchetype:generateå‘½ä»¤ç”ŸæˆWebå·¥ç¨‹æ—¶ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªä¸“é—¨çš„archetypeï¼š<font color='cornflowerblue'>maven-archetype-webapp</font></p><p>ç”Ÿæˆçš„ç®€å•çš„webappé¡¹ç›®ç»“æ„ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml">project<br>|-- pom.xml<br>`-- src<br>    `-- main<br>        `-- webapp<br>            |-- WEB-INF<br>            |   `-- web.xml<br>            `-- index.jsp<br></code></pre></td></tr></table></figure><p>ç”¨æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mvn archetype:generate -D archetypeGroupId=org.apache.maven.archetypes -D archetypeArtifactId=maven-archetype-webapp -D archetypeVersion=1.4<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Maven</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>mavenå…¥é—¨ç¬”è®°02--æ ¹æ®åæ ‡åˆ›å»ºMavenå·¥ç¨‹</title>
    <link href="/2022/09/04/Maven/01/maven02/"/>
    <url>/2022/09/04/Maven/01/maven02/</url>
    
    <content type="html"><![CDATA[<h1id="mavenå…¥é—¨02-å®éªŒä¸€æ ¹æ®åæ ‡åˆ›å»ºmavenå·¥ç¨‹">Mavenå…¥é—¨02-å®éªŒä¸€ï¼ˆæ ¹æ®åæ ‡åˆ›å»ºMavenå·¥ç¨‹ï¼‰</h1><h3 id="mavenæ ¸å¿ƒæ¦‚å¿µåæ ‡">1. Mavenæ ¸å¿ƒæ¦‚å¿µï¼šåæ ‡</h3><h4 id="æ•°å­¦ä¸­çš„åæ ‡">â‘  æ•°å­¦ä¸­çš„åæ ‡ï¼š</h4><p>ä»¥ä¸‰ç»´ç©ºé—´åæ ‡ç³»ä¸ºä¾‹ï¼Œä½¿ç”¨xã€yã€zä¸‰ä¸ªå‘é‡ï¼Œå¯ä»¥åœ¨ç©ºé—´ä¸­å”¯ä¸€çš„å®šä½åˆ°ä¸€ä¸ªç‚¹ã€‚</p><h4 id="mavenä¸­çš„åæ ‡">â‘¡ Mavenä¸­çš„åæ ‡</h4><h5 id="å‘é‡è¯´æ˜">[1] å‘é‡è¯´æ˜</h5><p>ä½¿ç”¨ä¸‰ä¸ª<font color='cornflowerblue'>å‘é‡</font>åœ¨<font color='cornflowerblue'>Mavençš„ä»“åº“</font>ä¸­<font color='cornflowerblue'>å”¯ä¸€</font>çš„å®šä½åˆ°ä¸€ä¸ª<font color='cornflowerblue'>jar</font>åŒ…ã€‚</p><ul><li><font color='cornflowerblue'>groupId</font>ï¼šå…¬å¸æˆ–ç»„ç»‡çš„id</li><li><font color='cornflowerblue'>artifactId</font>ï¼šä¸€ä¸ªé¡¹ç›®æˆ–è€…æ˜¯é¡¹ç›®ä¸­çš„ä¸€ä¸ªæ¨¡å—çš„id</li><li><font color='cornflowerblue'>version</font>ï¼šç‰ˆæœ¬å·</li></ul><h5 id="ä¸‰ä¸ªå‘é‡çš„å–å€¼æ–¹å¼">[2] ä¸‰ä¸ªå‘é‡çš„å–å€¼æ–¹å¼</h5><ul><li>groupIdï¼šå…¬å¸æˆ–è€…ç»„ç»‡åŸŸåçš„å€’åºï¼Œé€šå¸¸ä¹Ÿä¼šåŠ ä¸Šé¡¹ç›®åç§°<ul><li>ä¾‹å¦‚ï¼šcom.lics.helloMaven</li></ul></li><li>artifactIdï¼šæ¨¡å—çš„åç§°ï¼Œå°†æ¥ä½œä¸ºMavenå·¥ç¨‹çš„å·¥ç¨‹å<ul><li>ä¾‹å¦‚ï¼špro01-lics-maven</li></ul></li><li>versionï¼šæ¨¡å—çš„ç‰ˆæœ¬å·ï¼Œæ ¹æ®éœ€è¦è®¾å®š<ul><li>ä¾‹å¦‚ï¼šSNAPSHOTè¡¨ç¤ºå¿«ç…§ç‰ˆæœ¬ï¼Œæ­£åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œä¸ç¨³å®šçš„ç‰ˆæœ¬</li><li>ä¾‹å¦‚ï¼šRELEASEè¡¨ç¤ºæ­£å¼ç‰ˆæœ¬</li></ul></li></ul><h3 id="åæ ‡å’Œä»“åº“ä¸­jaråŒ…çš„å­˜å‚¨è·¯å¾„ä¹‹é—´çš„å¯¹åº”å…³ç³»">2.åæ ‡å’Œä»“åº“ä¸­jaråŒ…çš„å­˜å‚¨è·¯å¾„ä¹‹é—´çš„å¯¹åº”å…³ç³»</h3><p>åæ ‡ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯¹åº”çš„jaråŒ…åœ¨mavenæœ¬åœ°ä»“åº“ä¸­çš„ä½ç½®ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">$&#123;mavenæœ¬åœ°ä»“åº“æ ¹ç›®å½•&#125;$\javax\servlet\javax.servlet-api\4.0.1\javax.servlet-api-4.0.1.jar<br></code></pre></td></tr></table></figure><h3 id="å®éªŒæ“ä½œ">3. å®éªŒæ“ä½œ</h3><h4 id="åˆ›å»ºç›®å½•ä½œä¸ºåé¢æ“ä½œçš„å·¥ä½œç©ºé—´">â‘ åˆ›å»ºç›®å½•ä½œä¸ºåé¢æ“ä½œçš„å·¥ä½œç©ºé—´</h4><p>ä¾‹å¦‚ï¼šD:-workspace</p><div class="notice"><p>æ­¤æ—¶æˆ‘ä»¬å·²ç»æœ‰äº†ä¸‰ä¸ªç›®å½•ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>Mavenæ ¸å¿ƒç¨‹åºï¼šä¸­å†›å¤§å¸</li><li>Mavenæœ¬åœ°ä»“åº“ï¼šå…µè¥</li><li>æœ¬åœ°å·¥ä½œç©ºé—´ï¼šæˆ˜åœº</li></ul></div><h4 id="åœ¨å·¥ä½œç©ºé—´ç›®å½•ä¸‹æ‰“å¼€cmd">â‘¡ åœ¨å·¥ä½œç©ºé—´ç›®å½•ä¸‹æ‰“å¼€cmd</h4><h4 id="ä½¿ç”¨å‘½ä»¤ç”Ÿæˆmavenå·¥ç¨‹">â‘¢ ä½¿ç”¨å‘½ä»¤ç”ŸæˆMavenå·¥ç¨‹</h4><p>è¿è¡Œ <font color='cornflowerblue'><strong>mvnarchetype:generate</strong></font> å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">Choose a number or apply filter (format: [groupId:]artifactId, <span class="hljs-keyword">case</span> sensitive contains): 7: ã€é»˜è®¤å€¼ï¼Œ7ä»£è¡¨quickstartã€‘<br>Define value <span class="hljs-keyword">for</span> property <span class="hljs-string">&#x27;groupId&#x27;</span>: com.lics.maven<br>Define value <span class="hljs-keyword">for</span> property <span class="hljs-string">&#x27;artifactId&#x27;</span>: pro01-maven-java<br>Define value <span class="hljs-keyword">for</span> property <span class="hljs-string">&#x27;version&#x27;</span> 1.0-SNAPSHOT: :ã€é»˜è®¤ç‰ˆæœ¬å·ã€‘<br>Define value <span class="hljs-keyword">for</span> property <span class="hljs-string">&#x27;package&#x27;</span> com.lics.maven: :<br></code></pre></td></tr></table></figure><h4 id="è°ƒæ•´">â‘£ è°ƒæ•´</h4><p>Mavené»˜è®¤ä¾èµ–çš„æ˜¯è¾ƒä½çš„junitç‰ˆæœ¬3.8.1ï¼Œå¯ä»¥æ”¹æˆè¾ƒåˆé€‚çš„4.12ç‰ˆæœ¬ã€‚</p><p>è‡ªåŠ¨ç”Ÿæˆçš„App.javaå’ŒAppTest.javaå¯ä»¥åˆ é™¤ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- ä¾èµ–ä¿¡æ¯é…ç½® --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- é€šè¿‡åæ ‡æ¥ä¾èµ–å…¶ä»–çš„jaråŒ… --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <br>        <span class="hljs-comment">&lt;!-- ä¾èµ–çš„èŒƒå›´ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="è‡ªåŠ¨ç”Ÿæˆçš„pom.xmlè§£è¯»">â‘¤ è‡ªåŠ¨ç”Ÿæˆçš„pom.xmlè§£è¯»</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- projectæ ‡ç­¾: æ ¹æ ‡ç­¾, è¡¨ç¤ºå¯¹å½“å‰å·¥ç¨‹è¿›è¡Œé…ç½®ã€ç®¡ç† --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- modelVersionæ ‡ç­¾: ä»maven 2å¼€å§‹å°±å›ºå®šæ˜¯4.0.0 --&gt;</span><br>  <span class="hljs-comment">&lt;!-- ä»£è¡¨å½“å‰ pom.xml æ‰€é‡‡ç”¨çš„æ ‡ç­¾ç»“æ„ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- gav åæ ‡ä¿¡æ¯ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.lics.maven<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pro01-maven-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- packagingæ ‡ç­¾: æ‰“åŒ…æ–¹å¼ --&gt;</span><br>  <span class="hljs-comment">&lt;!-- å–å€¼jar: ç”ŸæˆjaråŒ…, è¯´æ˜è¿™æ˜¯ä¸€ä¸ª Java å·¥ç¨‹ --&gt;</span><br>  <span class="hljs-comment">&lt;!-- å–å€¼war: ç”ŸæˆwaråŒ…, è¯´æ˜è¿™æ˜¯ä¸€ä¸ª Web å·¥ç¨‹ --&gt;</span><br>  <span class="hljs-comment">&lt;!-- å–å€¼pom: è¯´æ˜è¿™ä¸ªå·¥ç¨‹æ˜¯ç”¨æ¥ç®¡ç†å…¶ä»–å·¥ç¨‹çš„å·¥ç¨‹ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>jar<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>pro01-maven-java<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.apache.org<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- åœ¨Mavenä¸­å®šä¹‰å±æ€§å€¼ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- åœ¨æ„å»ºè¿‡ç¨‹ä¸­è¯»å–æºç æ—¶ä½¿ç”¨çš„å­—ç¬¦é›† --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><br>  <span class="hljs-comment">&lt;!-- dependenciesæ ‡ç­¾: é…ç½®å…·ä½“çš„ä¾èµ–ä¿¡æ¯, å¯ä»¥åŒ…å«å¤šä¸ª dependency å­æ ‡ç­¾ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- dependencyæ ‡ç­¾: é…ç½®ä¸€ä¸ªå…·ä½“çš„ä¾èµ–ä¿¡æ¯ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- åæ ‡ä¿¡æ¯ --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><br>      <span class="hljs-comment">&lt;!-- scopeæ ‡ç­¾: å½“å‰ä¾èµ–çš„èŒƒå›´ --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="mavenæ ¸å¿ƒæ¦‚å¿µpom">4. Mavenæ ¸å¿ƒæ¦‚å¿µï¼šPOM</h3><h4 id="å«ä¹‰">â‘  å«ä¹‰</h4><p>POMï¼š<font color='cornflowerblue'>P</font>roject<font color='cornflowerblue'>O</font>bject<font color='cornflowerblue'>M</font>odelï¼Œé¡¹ç›®å¯¹è±¡æ¨¡å‹ã€‚å’ŒPOMç±»ä¼¼çš„æ˜¯ï¼šDOM(DocumentObject Model)ï¼Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹ã€‚å®ƒä»¬éƒ½æ˜¯æ¨¡å‹åŒ–æ€æƒ³çš„å…·ä½“ä½“ç°ã€‚</p><h4 id="æ¨¡å‹åŒ–æ€æƒ³">â‘¡ æ¨¡å‹åŒ–æ€æƒ³</h4><p>POMè¡¨ç¤ºå°†å·¥ç¨‹æŠ½è±¡ä¸ºä¸€ä¸ªæ¨¡å‹ï¼Œå†ç”¨ç¨‹åºä¸­çš„å¯¹è±¡æ¥æè¿°è¿™ä¸ªæ¨¡å‹ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨ç¨‹åºæ¥ç®¡ç†é¡¹ç›®äº†ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ€åŸºæœ¬çš„åšæ³•å°±æ˜¯å°†ç°å®ä¸­çš„äº‹ç‰©æŠ½è±¡ä¸ºæ¨¡å‹ï¼Œç„¶åå°è£…æ¨¡å‹ç›¸å…³çš„æ•°æ®ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ç¨‹åºä¸­è®¡ç®—ä¸ç°å®äº‹ç‰©ç›¸å…³çš„æ•°æ®ã€‚</p><h4 id="å¯¹åº”çš„é…ç½®æ–‡ä»¶">â‘¢ å¯¹åº”çš„é…ç½®æ–‡ä»¶</h4><p>POMç†å¿µé›†ä¸­ä½“ç°åœ¨Mavenå·¥ç¨‹æ ¹ç›®å½•ä¸‹pom.xmlè¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­ã€‚æ‰€ä»¥è¿™ä¸ªpom.xmlé…ç½®æ–‡ä»¶å°±æ˜¯Mavenå·¥ç¨‹çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ã€‚å­¦ä¹ Mavenå°±æ˜¯å­¦ä¹ è¿™ä¸ªæ–‡ä»¶æ€ä¹ˆé…ç½®ï¼Œå„ä¸ªé…ç½®æœ‰ä»€ä¹ˆç”¨ã€‚</p><h3 id="mavenæ ¸å¿ƒæ¦‚å¿µçº¦å®šçš„ç›®å½•ç»“æ„">5.Mavenæ ¸å¿ƒæ¦‚å¿µï¼šçº¦å®šçš„ç›®å½•ç»“æ„</h3><h4 id="å„ä¸ªç›®å½•çš„ä½œç”¨">â‘  å„ä¸ªç›®å½•çš„ä½œç”¨</h4><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/Spring/maven02-folderStruct" width="50%" style="center"/></p><p>å¦å¤–è¿˜æœ‰ä¸€ä¸ªtargetç›®å½•ä¸“é—¨å­˜æ”¾æ„å»ºæ“ä½œè¾“å‡ºçš„ç»“æœã€‚</p><h4 id="çº¦å®šç›®å½•ç»“æ„çš„æ„ä¹‰">â‘¡ çº¦å®šç›®å½•ç»“æ„çš„æ„ä¹‰</h4><p>ä¸ºäº†æ„å»ºè¿‡ç¨‹èƒ½å°½å¯èƒ½åœ°è‡ªåŠ¨åŒ–ï¼Œå¿…é¡»çº¦å®šç›®å½•ç»“æ„çš„ä½œç”¨ã€‚ä¾‹å¦‚ï¼šMavenæ‰§è¡Œç¼–è¯‘æ“ä½œï¼Œå¿…é¡»å…ˆå»Javaæºç ç›®å½•è¯»å–Javaæºä»£ç ï¼Œç„¶åæŠŠç¼–è¯‘ç»“æœæ”¾åœ¨targetç›®å½•ã€‚</p><h4 id="çº¦å®šå¤§äºé…ç½®">â‘¢ çº¦å®šå¤§äºé…ç½®</h4><p>å¼€å‘é¢†åŸŸçš„æŠ€æœ¯å‘å±•è¶‹åŠ¿ï¼šçº¦å®šå¤§äºé…ç½®ï¼Œé…ç½®å¤§äºç¼–ç ã€‚</p><p>Mavenå¯¹äºç›®å½•ç»“æ„è¿™ä¸ªé—®é¢˜ï¼Œæ²¡æœ‰é‡‡ç”¨é…ç½®çš„æ–¹å¼ï¼Œè€Œæ˜¯åŸºäºçº¦å®šã€‚è¿™æ ·åœ¨å¼€å‘è¿‡ç¨‹ä¸­éå¸¸æ–¹ä¾¿ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Maven</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>mavenå…¥é—¨ç¬”è®°01--ç®€ä»‹</title>
    <link href="/2022/09/04/Maven/01/maven01/"/>
    <url>/2022/09/04/Maven/01/maven01/</url>
    
    <content type="html"><![CDATA[<h1 id="mavenå…¥é—¨01--ç®€ä»‹">Mavenå…¥é—¨01--ç®€ä»‹</h1><p>Mavenæ˜¯Apacheç»„ç»‡ç»´æŠ¤çš„ä¸€æ¬¾ä¸“é—¨ä¸ºJavaé¡¹ç›®æä¾›<strong>æ„å»º</strong>å’Œ<strong>ä¾èµ–</strong>ç®¡ç†æ”¯æŒçš„å·¥å…·ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯maven">ä»€ä¹ˆæ˜¯Maven</h3><h4 id="æ„å»º">1. æ„å»º</h4><p>Javaé¡¹ç›®å¼€å‘ä¸­ï¼Œæ„å»ºæŒ‡çš„æ˜¯ä½¿ç”¨<strong>åŸææ–™</strong>ç”Ÿäº§<strong>äº§å“</strong>çš„è¿‡ç¨‹ã€‚</p><ul><li>åŸææ–™<ul><li>Javaæºä»£ç </li><li>åŸºäºHTMLçš„Thymeleafæ–‡ä»¶</li><li>å›¾ç‰‡</li><li>é…ç½®æ–‡ä»¶</li><li>......</li></ul></li><li>äº§å“<ul><li>ä¸€ä¸ªå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œçš„é¡¹ç›®</li></ul></li></ul><p>æ„å»ºè¿‡ç¨‹åŒ…å«çš„ä¸»è¦ç¯èŠ‚ï¼š</p><ul><li>æ¸…ç†ï¼šåˆ é™¤ä¸Šä¸€æ¬¡æ„å»ºçš„ç»“æœï¼Œä¸ºä¸‹ä¸€æ¬¡æ„å»ºåšå‡†å¤‡</li><li>ç¼–è¯‘ï¼šJavaæºç¨‹åºç¼–è¯‘æˆ*.classæ–‡ä»¶</li><li>æµ‹è¯•ï¼šè¿è¡Œæå‰å‡†å¤‡å¥½çš„æµ‹è¯•ç¨‹åºï¼ˆé’ˆå¯¹ç‰¹å®šåŠŸèƒ½ç‚¹çš„Junitï¼‰</li><li>æŠ¥å‘Šï¼šé’ˆå¯¹åˆšæ‰æµ‹è¯•çš„ç»“æœç”Ÿæˆä¸€ä¸ªå…¨é¢çš„ä¿¡æ¯</li><li>æ‰“åŒ…ï¼š<ul><li>javaå·¥ç¨‹ï¼šjaråŒ…</li><li>webå·¥ç¨‹ï¼šwaråŒ…</li></ul></li><li>å®‰è£…ï¼šæŠŠä¸€ä¸ªMavenå·¥ç¨‹ç»è¿‡æ‰“åŒ…æ“ä½œç”Ÿæˆçš„jaråŒ…æˆ–waråŒ…å­˜å…¥Mavenä»“åº“</li><li>éƒ¨ç½²ï¼š<ul><li>éƒ¨ç½²jaråŒ…ï¼šæŠŠä¸€ä¸ªjaråŒ…éƒ¨ç½²åˆ°Nexusç§æœæœåŠ¡å™¨ä¸Š</li><li>éƒ¨ç½²waråŒ…ï¼šå€ŸåŠ©ç›¸å…³Mavenæ’ä»¶ï¼ˆä¾‹å¦‚cargoï¼‰ï¼Œå°†waråŒ…éƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨ä¸Š</li></ul></li></ul><h3 id="ä¾èµ–">2. ä¾èµ–</h3><p>å¦‚æœAå·¥ç¨‹é‡Œç”¨åˆ°äº†Bå·¥ç¨‹çš„ç±»ã€æ¥å£ã€é…ç½®æ–‡ä»¶ç­‰èµ„æºï¼Œå°±å¯ä»¥è¯´Aä¾èµ–Bã€‚</p><p>ä¾èµ–ç®¡ç†è¿‡ç¨‹ä¸­è¦è§£å†³çš„å…·ä½“é—®é¢˜ï¼š</p><ul><li>jaråŒ…çš„ä¸‹è½½ï¼šä½¿ç”¨Mavenä¹‹åï¼ŒjaråŒ…ä¼šä»è§„èŒƒçš„è¿œç¨‹ä»“åº“ä¸‹è½½åˆ°æœ¬åœ°</li><li>jaråŒ…ä¹‹é—´çš„ä¾èµ–ï¼šé€šè¿‡ä¾èµ–çš„ä¼ é€’æ€§è‡ªåŠ¨å®Œæˆ</li><li>jaråŒ…ä¹‹é—´çš„å†²çªï¼šé€šè¿‡å¯¹ä¾èµ–çš„é…ç½®è¿›è¡Œè°ƒæ•´ï¼Œè®©æŸäº›jaråŒ…ä¸è¢«å¯¼å…¥</li></ul><h3 id="mavençš„å·¥ä½œæœºåˆ¶">3. Mavençš„å·¥ä½œæœºåˆ¶</h3><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/Spring/Maven01_%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6.png" width="80%" style="center"/></p><h3 id="è§£å‹mavenæ ¸å¿ƒç¨‹åº">4. è§£å‹Mavenæ ¸å¿ƒç¨‹åº</h3><p>æ ¸å¿ƒç¨‹åºå‹ç¼©åŒ…ï¼šapache-maven-3.8.6-bin.zipï¼Œè§£å‹åˆ°<strong>éä¸­æ–‡ã€æ²¡æœ‰ç©ºæ ¼</strong>çš„ç›®å½•ã€‚</p><p>åœ¨è§£å‹ç›®å½•ä¸­ï¼Œé‡ç‚¹å…³æ³¨Mavençš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š<strong>conf/settings.xml</strong></p><h3 id="æŒ‡å®šæœ¬åœ°ä»“åº“">5. æŒ‡å®šæœ¬åœ°ä»“åº“</h3><p>æœ¬åœ°ä»“åº“é»˜è®¤å€¼ï¼š${user.home}/.m2/repositoryã€‚ç”±äºæœ¬åœ°ä»“åº“çš„é»˜è®¤ä½ç½®æ˜¯åœ¨ç”¨æˆ·çš„å®¶ç›®å½•ï¼ˆwindowsä¸‹é€šå¸¸åœ¨Cç›˜ï¼‰ã€‚å°†æ¥Mavenä»“åº“ä¸­jaråŒ…è¶Šæ¥è¶Šå¤šï¼Œä»“åº“ä½“ç§¯è¶Šæ¥è¶Šå¤§ï¼Œå¯èƒ½ä¼šæ‹–æ…¢Cç›˜è¿è¡Œé€Ÿåº¦ï¼Œå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚æ‰€ä»¥å»ºè®®å°†Mavençš„æœ¬åœ°ä»“åº“æ”¾åœ¨å…¶ä»–ç›˜ç¬¦ä¸‹ã€‚é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- localRepository</span><br><span class="hljs-comment">   | The path to the local repository maven will use to store artifacts.</span><br><span class="hljs-comment">   |</span><br><span class="hljs-comment">   | Default: $&#123;user.home&#125;/.m2/repository</span><br><span class="hljs-comment">  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span><br><span class="hljs-comment">  --&gt;</span><br><span class="hljs-comment">&lt;!-- é…ç½®Mavenæœ¬åœ°ä»“åº“ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">localRepository</span>&gt;</span>D:\envs\maven-repo<span class="hljs-tag">&lt;/<span class="hljs-name">localRepository</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="é…ç½®é˜¿é‡Œäº‘æä¾›çš„é•œåƒä»“åº“">6. é…ç½®é˜¿é‡Œäº‘æä¾›çš„é•œåƒä»“åº“</h3><p>Mavenä¸‹è½½jaråŒ…é»˜è®¤è®¿é—®å¢ƒå¤–çš„ä¸­å¤®ä»“åº“ï¼Œè€Œå›½å¤–ç½‘ç«™é€Ÿåº¦å¾ˆæ…¢ã€‚æ”¹æˆé˜¿é‡Œäº‘æä¾›çš„é•œåƒä»“åº“ï¼Œè®¿é—®å›½å†…ç½‘ç«™ï¼Œå¯ä»¥è®©mavenä¸‹è½½jaråŒ…çš„æ—¶å€™é€Ÿåº¦æ›´å¿«ã€‚é…ç½®çš„æ–¹å¼æ˜¯ï¼šå°†ä¸‹é¢mirroræ ‡ç­¾å¤åˆ¶åˆ°settings.xmlæ–‡ä»¶çš„mirrorsæ ‡ç­¾çš„å†…éƒ¨ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>aliyunmaven<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>central<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="é…ç½®mavenå·¥ç¨‹çš„åŸºç¡€jdkç‰ˆæœ¬">7. é…ç½®Mavenå·¥ç¨‹çš„åŸºç¡€JDKç‰ˆæœ¬</h3><p>å¦‚æœæŒ‰ç…§é»˜è®¤é…ç½®è¿è¡Œï¼Œjavaå·¥ç¨‹é»˜è®¤çš„JDKç‰ˆæœ¬æ˜¯1.5ï¼Œè€Œå¸¸ç”¨çš„æ˜¯1.8ç‰ˆæœ¬ã€‚éœ€è¦å°†ä¸‹è¿°å†…å®¹æ”¾åœ¨settings.xmlæ–‡ä»¶çš„profilesæ ‡ç­¾çš„å†…éƒ¨ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>jdk-1.8<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">jdk</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">jdk</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.compilerVersion</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Maven</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Springç¬”è®°03--AOP</title>
    <link href="/2022/06/28/Spring/Spring03/"/>
    <url>/2022/06/28/Spring/Spring03/</url>
    
    <content type="html"><![CDATA[<h1 id="springç¬”è®°03--aop">Springç¬”è®°03--AOP</h1><h3 id="ä»£ç†æ¨¡å¼">1. ä»£ç†æ¨¡å¼</h3><p>ä»£ç†æ¨¡å¼å°±æ˜¯Spring AOPçš„åº•å±‚ï¼</p><p>ä»£ç†æ¨¡å¼çš„åˆ†ç±»ï¼š</p><ul><li>é™æ€ä»£ç†</li><li>åŠ¨æ€ä»£ç†</li></ul><h3 id="aop">2. AOP</h3><h4 id="ä»€ä¹ˆæ˜¯aop">2.1 ä»€ä¹ˆæ˜¯AOP</h4><p>AOPï¼ˆAspect OrientedProgrammingï¼‰ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚é€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚</p><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/Spring/03-01-AOP-example.png" width="80%" style="center"/></p><h4 id="aopåœ¨springä¸­çš„ä½œç”¨">2.2 AOPåœ¨Springä¸­çš„ä½œç”¨</h4><p>æä¾›å£°æ˜å¼äº‹åŠ¡ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰åˆ‡é¢ã€‚</p><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/Spring/03-02-AOP-usage.png" width="80%" style="center"/></p><h4 id="ä½¿ç”¨springå®ç°aop">2.3 ä½¿ç”¨Springå®ç°AOP</h4><p>ã€é‡ç‚¹ã€‘ä½¿ç”¨AOPï¼Œéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–åŒ…ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.9.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ–¹å¼ä¸€ï¼šä½¿ç”¨Springçš„APIæ¥å£ ã€ä¸»è¦æ˜¯SpringAPIæ¥å£å®ç°ã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        http://www.springframework.org/schema/aop</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- æ³¨å†Œbean --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.service.UserServiceImpl&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;log&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.log.Log&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;logAfter&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.log.LogAfter&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- é…ç½®aop --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- åˆ‡å…¥ç‚¹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;pointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.lics.service.UserServiceImpl.*(..))&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!-- æ‰§è¡Œç¯ç»•å¢åŠ ï¼ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;log&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;pointcut&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;logAfter&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;pointcut&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br>    <br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.aop.MethodBeforeAdvice;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Log</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MethodBeforeAdvice</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">(Method method, Object[] args, Object target)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        System.out.println(target.getClass().getName() + <span class="hljs-string">&quot;çš„&quot;</span> + method.getName() + <span class="hljs-string">&quot;è¢«æ‰§è¡Œäº†&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼šè‡ªå®šä¹‰å®ç°AOPã€ä¸»è¦æ˜¯åˆ‡é¢å®šä¹‰ã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;diy&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.diy.DiyPointCut&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰åˆ‡é¢ï¼Œ ref è¦å¼•ç”¨çš„ç±»--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspect</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;diy&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- åˆ‡å…¥ç‚¹ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;point&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.lics.service.UserServiceImpl.*(..))&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!-- é€šçŸ¥ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:before</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;before&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;point&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:after</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;after&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;point&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:aspect</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;annotationPointCut&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.diy.AnnotationPointCut&quot;</span> /&gt;</span><br><span class="hljs-comment">&lt;!-- å¼€å¯æ³¨è§£æ”¯æŒ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:aspectj-autoproxy</span>/&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Before(&quot;execution(* com.lics.service.UserServiceImpl.*(..))&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;*********æ–¹æ³•æ‰§è¡Œå‰********&quot;</span>);<br>&#125;<br><br><span class="hljs-meta">@After(&quot;execution(* com.lics.service.UserServiceImpl.*(..))&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">after</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;*********æ–¹æ³•æ‰§è¡Œå********&quot;</span>);<br>&#125;<br><br><span class="hljs-meta">@Around(&quot;execution(* com.lics.service.UserServiceImpl.*(..))&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>    System.out.println(<span class="hljs-string">&quot;*********ç¯ç»•å‰********&quot;</span>);<br>    joinPoint.proceed();<br>    System.out.println(<span class="hljs-string">&quot;*********ç¯ç»•å********&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Spring</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Springç¬”è®°02--è‡ªåŠ¨è£…é…&amp;æ³¨è§£å¼€å‘</title>
    <link href="/2022/06/28/Spring/Spring02/"/>
    <url>/2022/06/28/Spring/Spring02/</url>
    
    <content type="html"><![CDATA[<h1id="springç¬”è®°02--è‡ªåŠ¨è£…é…æ³¨è§£å¼€å‘">Springç¬”è®°02--è‡ªåŠ¨è£…é…&amp;æ³¨è§£å¼€å‘</h1><h3 id="beançš„è‡ªåŠ¨è£…é…">1. beançš„è‡ªåŠ¨è£…é…</h3><ul><li>è‡ªåŠ¨è£…é…æ˜¯Springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹å¼ï¼</li><li>Springä¼šåœ¨ä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨å¯»æ‰¾ï¼Œå¹¶è‡ªåŠ¨ç»™beanè£…é…å±æ€§ï¼</li></ul><p>åœ¨Springä¸­æœ‰ä¸‰ç§è£…é…çš„æ–¹å¼ï¼š</p><ol type="1"><li>åœ¨xmlä¸­æ˜¾ç¤ºåœ°é…ç½®</li><li>åœ¨javaä¸­æ˜¾ç¤ºåœ°é…ç½®</li><li>éšå¼åœ°è‡ªåŠ¨è£…é…ã€é‡è¦ã€‘</li></ol><h4 id="bynameè‡ªåŠ¨è£…é…">1.1 byNameè‡ªåŠ¨è£…é…</h4><figure class="highlight xml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">byName: ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•åé¢çš„å€¼å¯¹åº”çš„bean idï¼</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.Person&quot;</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">&quot;byName&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;lics&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="bytypeè‡ªåŠ¨è£…é…">1.2 byTypeè‡ªåŠ¨è£…é…</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.Cat&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.Dog&quot;</span> /&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">byName: ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•åé¢çš„å€¼å¯¹åº”çš„bean idï¼</span><br><span class="hljs-comment">byType: ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡å±æ€§ç±»å‹ç›¸åŒçš„beanï¼</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.Person&quot;</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">&quot;byType&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;lics&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å°ç»“ï¼š</p><ul><li>byNameæ—¶ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰beançš„idå”¯ä¸€ï¼Œä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥å±æ€§çš„setæ–¹æ³•çš„å€¼ä¸€è‡´ï¼</li><li>byTypeæ—¶ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰beançš„classå”¯ä¸€ï¼Œä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥å±æ€§çš„ç±»å‹ä¸€è‡´ï¼</li></ul><h4 id="ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…">1.3 ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…</h4><p>è¦ä½¿ç”¨æ³¨è§£é¡»çŸ¥ï¼š</p><ol type="1"><li>å¯¼å…¥çº¦æŸï¼š contextçº¦æŸ</li><li>é…ç½®æ³¨è§£çš„æ”¯æŒï¼š <context:annotation-config/></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><p><span class="citation"data-cites="Autowired">@Autowired</span>ï¼šå¯ä»¥ç”¨åœ¨å±æ€§åä¸Šï¼Œæˆ–setæ–¹æ³•ä¸Šï¼Œ<strong>ä¸”é€šè¿‡byTypeçš„æ–¹å¼å®ç°</strong></p></li><li><p>è‹¥è‡ªåŠ¨è£…é…æ— æ³•é€šè¿‡ä¸€ä¸ª@Autowiredæ³¨è§£å®Œæˆæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <spanclass="citation" data-cites="Qualifier">@Qualifier</span>(value = "xxx")é…åˆï¼ŒæŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„beanå¯¹è±¡æ³¨å…¥ï¼</p></li></ul><h3 id="ä½¿ç”¨æ³¨è§£å¼€å‘">2. ä½¿ç”¨æ³¨è§£å¼€å‘</h3><ul><li><span class="citation"data-cites="Component">@Component</span>ï¼šç»„ä»¶ï¼Œæ”¾åœ¨ç±»ä¸Šï¼Œè¯´æ˜è¿™ä¸ªç±»è¢«Springç®¡ç†äº†ï¼Œå°±æ˜¯beanï¼</li><li><span class="citation"data-cites="Value">@Value</span>ï¼šæ³¨å…¥å±æ€§</li><li><span class="citation" data-cites="Scope">@Scope</span>ï¼šä½œç”¨åŸŸ</li></ul><h3 id="ä½¿ç”¨javaçš„æ–¹å¼é…ç½®spring">3. ä½¿ç”¨Javaçš„æ–¹å¼é…ç½®Spring</h3><p>JavaConfigæ˜¯Springçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œåœ¨Spring 4ä¹‹åï¼Œæˆä¸ºäº†ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Spring</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Springç¬”è®°01--ç®€ä»‹&amp;ä¾èµ–æ³¨å…¥&amp;beançš„ä½œç”¨åŸŸ</title>
    <link href="/2022/06/26/Spring/Spring01/"/>
    <url>/2022/06/26/Spring/Spring01/</url>
    
    <content type="html"><![CDATA[<h1id="springç¬”è®°01--ç®€ä»‹ä¾èµ–æ³¨å…¥beançš„ä½œç”¨åŸŸ">Springç¬”è®°01--ç®€ä»‹&amp;ä¾èµ–æ³¨å…¥&amp;beançš„ä½œç”¨åŸŸ</h1><h3 id="spring">1. Spring</h3><h4 id="ç®€ä»‹">1.1 ç®€ä»‹</h4><p>å®˜ç½‘ï¼šhttps://spring.io/projects/spring-framework#overview</p><p>githubï¼šhttps://github.com/spring-projects/spring-framework</p><figure class="highlight xml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.21<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="ä¼˜ç‚¹">1.2 ä¼˜ç‚¹</h4><ul><li>Springæ˜¯ä¸€ä¸ªå¼€æºã€å…è´¹çš„æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰ï¼</li><li>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ã€éå…¥ä¾µå¼çš„æ¡†æ¶ï¼</li><li>æ§åˆ¶åè½¬ï¼ˆIOCï¼‰ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰ï¼</li><li>æ”¯æŒäº‹åŠ¡çš„å¤„ç†ï¼Œå¯¹æ¡†æ¶æ•´åˆçš„æ”¯æŒï¼</li></ul><h4 id="ç»„æˆ">1.3 ç»„æˆ</h4><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/Spring/Spring01-01-7modules.jpg" width="80%" style="center"/></p><h3 id="iocç†è®º">2. IOCç†è®º</h3><p>ä¹‹å‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-type">UserDao</span> <span class="hljs-variable">userDao</span> <span class="hljs-operator">=</span>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDaoImpl</span>();<br></code></pre></td></tr></table></figure><p>åˆ©ç”¨setè¿›è¡ŒåŠ¨æ€å®ç°å€¼çš„æ³¨å…¥:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserDao</span><span class="hljs-params">(UserDao userDao)</span> &#123;<br>    <span class="hljs-built_in">this</span>.userDao = userDao;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>ä¹‹å‰ï¼Œç¨‹åºä¸»åŠ¨åˆ›å»ºå¯¹è±¡ï¼Œæ§åˆ¶æƒåœ¨ç¨‹åºå‘˜æ‰‹ä¸Šï¼›ç”¨æˆ·å˜æ›´éœ€æ±‚åï¼Œéœ€è¦ä¿®æ”¹åŸæ¥çš„ä»£ç </li><li>ä½¿ç”¨äº†setæ³¨å…¥åï¼Œç¨‹åºä¸å†å…·æœ‰ä¸»åŠ¨æ€§ï¼Œè€Œæ˜¯è¢«åŠ¨åœ°æ¥å—å¯¹è±¡ï¼</li></ul><p>è¿™ç§æ€æƒ³ï¼Œä»æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜ï¼Œç¨‹åºå‘˜ä¸éœ€è¦å†å»ç®¡ç†å¯¹è±¡çš„åˆ›å»ºï¼ç³»ç»Ÿçš„è€¦åˆæ€§å¤§å¤§é™ä½ï¼Œå¯ä»¥æ›´åŠ ä¸“æ³¨äºä¸šåŠ¡çš„å®ç°ã€‚è¿™å°±æ˜¯IOCçš„åŸå‹ã€‚</p><h3 id="iocåˆ›å»ºå¯¹è±¡çš„æ–¹å¼">3. IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h3><ol type="1"><li><p>ä½¿ç”¨æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡ï¼Œé»˜è®¤ï¼</p></li><li><p>è‹¥éœ€è¦ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡ï¼Œæ–¹æ³•ï¼š</p><ul><li><p>ç¬¬ä¸€ç§ï¼šä¸‹æ ‡èµ‹å€¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- æœ‰å‚æ„é€ ç¬¬ä¸€ç§ï¼š ä¸‹æ ‡èµ‹å€¼ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;lics&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¬¬äºŒç§ï¼šç±»å‹åŒ¹é… ã€ä¸å»ºè®®ä½¿ç”¨ã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- æœ‰å‚æ„é€ ç¬¬ä¸€ç§ï¼š ä¸‹æ ‡èµ‹å€¼ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;java.lang.String&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;lics-type&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¬¬ä¸‰ç§ï¼šå‚æ•°å ã€é€šå¸¸ä½¿ç”¨ã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;lics-arg-name&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>åœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œå®¹å™¨ä¸­ç®¡ç†çš„å¯¹è±¡å°±å·²ç»åˆå§‹åŒ–äº†ï¼Œæ— è®ºæ˜¯å¦ä½¿ç”¨ã€‚</p></li></ol><h3 id="springé…ç½®">4. Springé…ç½®</h3><h4 id="åˆ«å">4.1 åˆ«å</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- å¦‚æœæ·»åŠ äº†åˆ«åï¼Œä¹Ÿå¯ä»¥é€šè¿‡åˆ«åè·å–åˆ°è¿™ä¸ªbean --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">alias</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;userNew&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><h4 id="beançš„é…ç½®">4.2 Beançš„é…ç½®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    idï¼šbeançš„å”¯ä¸€æ ‡è¯†ç¬¦</span><br><span class="hljs-comment">    classï¼šbeanå¯¹è±¡æ‰€å¯¹åº”çš„å…¨é™å®šåï¼šåŒ…å+ç±»å‹</span><br><span class="hljs-comment">    nameï¼šä¹Ÿæ˜¯åˆ«åï¼Œä¸”nameå¯ä»¥åŒæ—¶å–å¤šä¸ªåˆ«å</span><br><span class="hljs-comment"> --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userNew&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user2 u2,u3;u4&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;java.lang.String&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;lics-type&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="import">4.3 import</h4><p>ä¸€èˆ¬ç”¨äºå›¢é˜Ÿå¼€å‘ä½¿ç”¨ï¼Œå°†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œåˆå¹¶ä¸ºä¸€ä¸ª</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;beans.xml&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><h3 id="ä¾èµ–æ³¨å…¥">5. ä¾èµ–æ³¨å…¥</h3><h4 id="æ„é€ å™¨æ³¨å…¥">5.1 æ„é€ å™¨æ³¨å…¥</h4><p>â€‹ è§3</p><h4 id="setæ–¹å¼æ³¨å…¥-é‡ç‚¹">5.2 Setæ–¹å¼æ³¨å…¥ ã€é‡ç‚¹ã€‘</h4><ul><li>ä¾èµ–æ³¨å…¥ï¼šæœ¬è´¨æ˜¯Setæ³¨å…¥<ul><li>ä¾èµ–ï¼šbeanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨</li><li>æ³¨å…¥ï¼šbeanå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ç”±å®¹å™¨æ¥æ³¨å…¥</li></ul></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.Address&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;åœ°å€&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;student&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.pojo.Student&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- ç¬¬ä¸€ç§ï¼Œæ™®é€šæ³¨å…¥ï¼Œvalue  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;lics&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- ç¬¬äºŒç§ï¼ŒBeanæ³¨å…¥ï¼Œref  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;address&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- æ•°ç»„  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;books&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>çº¢æ¥¼æ¢¦<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ°´æµ’ä¼ <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ä¸‰å›½æ¼”ä¹‰<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- List  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobbies&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å¬æ­Œ<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>çœ‹ç”µå½±<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ•²ä»£ç <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Map  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;èº«ä»½è¯&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1234556&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;é“¶è¡Œå¡&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3243241&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Set  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;games&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>lol<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>coc<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>bob<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- null  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wife&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">null</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- Properties  --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;driver&quot;</span>&gt;</span>20220628<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span>nnn<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span>123<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="æ‹“å±•æ–¹å¼æ³¨å…¥">5.3 æ‹“å±•æ–¹å¼æ³¨å…¥</h4><ul><li>på‘½åç©ºé—´ï¼ˆproperty -- setæ–¹æ³•ï¼‰</li><li>cå‘½åç©ºé—´ï¼ˆconstruct-args -- æœ‰å‚æ„é€ ï¼‰</li></ul><h3 id="beançš„ä½œç”¨åŸŸ">6. beançš„ä½œç”¨åŸŸ</h3><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/Spring/01-bean-scopes.png" width="85%" style="center"/></p><ul><li><p>å•ä¾‹æ¨¡å¼ï¼ˆSpringé»˜è®¤æœºåˆ¶ï¼‰</p></li><li><p>åŸå‹æ¨¡å¼ï¼šæ¯æ¬¡ä»å®¹å™¨ä¸­getBeançš„æ—¶å€™ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;accountService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.something.DefaultAccountService&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;prototype&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å…¶ä½™çš„requestã€sessionã€applicationç­‰åªèƒ½åœ¨webå¼€å‘ä¸­ä½¿ç”¨åˆ°ï¼</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Spring</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Mybatisç¬”è®°05--åŠ¨æ€SQL&amp;ç¼“å­˜</title>
    <link href="/2022/06/25/Mybatis/Mybatis05/"/>
    <url>/2022/06/25/Mybatis/Mybatis05/</url>
    
    <content type="html"><![CDATA[<h3 id="mybatisç¬”è®°05--åŠ¨æ€sqlç¼“å­˜">Mybatisç¬”è®°05--åŠ¨æ€SQL&amp;ç¼“å­˜</h3><h4 id="åŠ¨æ€sql">1. åŠ¨æ€SQL</h4><p><strong>ä»€ä¹ˆæ˜¯åŠ¨æ€SQLï¼šåŠ¨æ€SQLå°±æ˜¯æ ¹æ®ä¸åŒçš„æ¡ä»¶ç”Ÿæˆä¸åŒçš„SQLè¯­å¥ã€‚</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><pre><code class="hljs xml">å¦‚æœä½ ä¹‹å‰ç”¨è¿‡ JSTL æˆ–ä»»ä½•åŸºäºç±» XML è¯­è¨€çš„æ–‡æœ¬å¤„ç†å™¨ï¼Œä½ å¯¹åŠ¨æ€ SQL å…ƒç´ å¯èƒ½ä¼šæ„Ÿè§‰ä¼¼æ›¾ç›¸è¯†ã€‚åœ¨ MyBatis ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œéœ€è¦èŠ±æ—¶é—´äº†è§£å¤§é‡çš„å…ƒç´ ã€‚å€ŸåŠ©åŠŸèƒ½å¼ºå¤§çš„åŸºäº OGNL çš„è¡¨è¾¾å¼ï¼ŒMyBatis 3 æ›¿æ¢äº†ä¹‹å‰çš„å¤§éƒ¨åˆ†å…ƒç´ ï¼Œå¤§å¤§ç²¾ç®€äº†å…ƒç´ ç§ç±»ï¼Œç°åœ¨è¦å­¦ä¹ çš„å…ƒç´ ç§ç±»æ¯”åŸæ¥çš„ä¸€åŠè¿˜è¦å°‘ã€‚<br>if<br>choose (when, otherwise)<br>trim (where, set)<br>foreach<br></code></pre></td></tr></table></figure><h5 id="æ­å»ºç¯å¢ƒ">æ­å»ºç¯å¢ƒ</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `blog`(<br>    `id` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢id&#x27;</span>,<br>    `title` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢æ ‡é¢˜&#x27;</span>,<br>    `author` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢ä½œè€…&#x27;</span>,<br>    `create_time` DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,<br>    `views` <span class="hljs-type">INT</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;æµè§ˆé‡&#x27;</span><br>)ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8;<br></code></pre></td></tr></table></figure><h5 id="if">IF</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIF&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from blog<br>    where 1=1<br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>        and title = #&#123;title&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>        and author = #&#123;author&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="choosewhenotherwise">chooseã€whenã€otherwise</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogChoose&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">choose</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>                title = #&#123;title&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>                author = #&#123;author&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">otherwise</span>&gt;</span><br>                views = #&#123;views&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">otherwise</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">choose</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="trimwhereset">trimã€whereã€set</h5><p><strong>ä½¿ç”¨whereå…ƒç´ </strong>ï¼šwhereå…ƒç´ åªä¼šåœ¨å­å…ƒç´ è¿”å›ä»»ä½•å†…å®¹çš„æƒ…å†µä¸‹æ‰æ’å…¥ â€œWHEREâ€å­å¥ã€‚è€Œä¸”ï¼Œè‹¥å­å¥çš„å¼€å¤´ä¸º â€œANDâ€ æˆ– â€œORâ€ï¼Œwhere å…ƒç´ ä¹Ÿä¼šå°†å®ƒä»¬å»é™¤ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIF&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>            title = #&#123;title&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>            author = #&#123;author&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>ä½¿ç”¨setå…ƒç´ </strong>ï¼šç”¨äºåŠ¨æ€æ›´æ–°è¯­å¥çš„ç±»ä¼¼è§£å†³æ–¹æ¡ˆå«åšsetã€‚set å…ƒç´ å¯ä»¥ç”¨äºåŠ¨æ€åŒ…å«éœ€è¦æ›´æ–°çš„åˆ—ï¼Œå¿½ç•¥å…¶å®ƒä¸æ›´æ–°çš„åˆ—ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateBlog&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>    update mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>            title = #&#123;title&#125;,<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>            author = #&#123;author&#125;,<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>    where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>trim</strong>ï¼š</p><p><em>prefixOverrides</em>å±æ€§ä¼šå¿½ç•¥é€šè¿‡ç®¡é“ç¬¦åˆ†éš”çš„æ–‡æœ¬åºåˆ—ï¼ˆæ³¨æ„æ­¤ä¾‹ä¸­çš„ç©ºæ ¼æ˜¯å¿…è¦çš„ï¼‰ã€‚ä¸Šè¿°ä¾‹å­ä¼šç§»é™¤æ‰€æœ‰<em>prefixOverrides</em> å±æ€§ä¸­æŒ‡å®šçš„å†…å®¹ï¼Œå¹¶ä¸”æ’å…¥ <em>prefix</em>å±æ€§ä¸­æŒ‡å®šçš„å†…å®¹ã€‚</p><p>å’Œ <em>where</em> å…ƒç´ ç­‰ä»·çš„è‡ªå®šä¹‰ trim å…ƒç´ ä¸ºï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">trim</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">&quot;WHERE&quot;</span> <span class="hljs-attr">prefixOverrides</span>=<span class="hljs-string">&quot;AND |OR &quot;</span>&gt;</span><br>  ...<br><span class="hljs-tag">&lt;/<span class="hljs-name">trim</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡ä½¿ç”¨<em>trim</em>å…ƒç´ æ¥è¾¾åˆ°setçš„æ•ˆæœï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">trim</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">&quot;SET&quot;</span> <span class="hljs-attr">suffixOverrides</span>=<span class="hljs-string">&quot;,&quot;</span>&gt;</span><br>  ...<br><span class="hljs-tag">&lt;/<span class="hljs-name">trim</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="sqlç‰‡æ®µ">SQLç‰‡æ®µ</h5><p>æœ‰æ—¶éœ€è¦å°†ä¸€äº›åŠŸèƒ½çš„éƒ¨åˆ†æŠ½å–å‡ºæ¥ï¼Œæ–¹ä¾¿å¤ç”¨ã€‚</p><ol type="1"><li><p>ä½¿ç”¨sqlæ ‡ç­¾æŠ½å–å…¬å…±çš„éƒ¨åˆ†</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;if-title-author&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>        title = #&#123;title&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>        author = #&#123;author&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹ç”¨includeæ ‡ç­¾å¼•ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;if-title-author&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h5 id="foreachimage-04-foreach">ForEach<imgsrc="/..%20https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/MyBatis/04-foreach.png"alt="image-04-foreach" /></h5><h4 id="ç¼“å­˜">2. ç¼“å­˜</h4><h5 id="ç®€ä»‹">2.1 ç®€ä»‹</h5><p>æŸ¥è¯¢ï¼šé“¾æ¥æ•°æ®åº“ -- è€—èµ„æºï¼</p><p>â€‹ å°†ä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœï¼Œæš‚å­˜åˆ°ä¸€ä¸ªå¯ä»¥ç›´æ¥å–åˆ°çš„åœ°æ–¹ï¼šå†…å­˜ -- ç¼“å­˜</p><p>å†æ¬¡æŸ¥è¯¢ç›¸åŒæ•°æ®çš„æ—¶å€™ï¼Œç›´æ¥èµ°ç¼“å­˜ï¼Œå°±ä¸ç”¨èµ°æ•°æ®åº“äº†ã€‚</p><ol type="1"><li>ä»€ä¹ˆæ˜¯ç¼“å­˜[Cache]ï¼Ÿ<ul><li>å­˜åœ¨å†…å­˜ä¸­çš„æ•°æ®</li><li>å°†ç»å¸¸æŸ¥è¯¢çš„æ•°æ®æ”¾åœ¨ç¼“å­˜ï¼ˆå†…å­˜ï¼‰ä¸­ï¼Œç”¨æˆ·å»æŸ¥è¯¢æ•°æ®ä¸ç”¨ä»å…³ç³»å‹æ•°æ®åº“æ•°æ®æ–‡ä»¶ï¼ˆç¡¬ç›˜ä¸Šï¼‰æŸ¥è¯¢ï¼Œä»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè§£å†³é«˜å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚</li></ul></li><li>ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Ÿ<ul><li>å‡å°‘å’Œæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡ã€‚</li></ul></li><li>ä»€ä¹ˆæ ·çš„æ•°æ®èƒ½ä½¿ç”¨ç¼“å­˜ï¼Ÿ<ul><li>ç»å¸¸æŸ¥è¯¢ä¸”ä¸ç»å¸¸æ”¹å˜çš„æ•°æ®</li></ul></li></ol><h5 id="mybatisç¼“å­˜">2.2 Mybatisç¼“å­˜</h5><ul><li>MyBatiså†…ç½®äº†ä¸€ä¸ªå¼ºå¤§çš„äº‹åŠ¡æ€§æŸ¥è¯¢ç¼“å­˜æœºåˆ¶ï¼Œå®ƒå¯ä»¥éå¸¸æ–¹ä¾¿åœ°é…ç½®å’Œå®šåˆ¶ã€‚</li><li>MyBatisä¸­é»˜è®¤å®šä¹‰äº†ä¸¤çº§ç¼“å­˜ï¼š<strong>ä¸€çº§ç¼“å­˜</strong>å’Œ<strong>äºŒçº§ç¼“å­˜</strong><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªå¯ç”¨äº†æœ¬åœ°çš„ä¼šè¯ç¼“å­˜ï¼Œå®ƒä»…ä»…å¯¹ä¸€ä¸ªä¼šè¯ä¸­ï¼ˆsqlSessionï¼‰çš„æ•°æ®è¿›è¡Œç¼“å­˜ã€‚</li><li>äºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¼Œæ˜¯åŸºäºnamespaceï¼ˆä¸€ä¸ªæ¥å£/ä¸€ä¸ªMapper.xmlæ–‡ä»¶ï¼‰çº§åˆ«çš„ç¼“å­˜ã€‚</li></ul></li></ul><h5 id="ä¸€çº§ç¼“å­˜">2.3 ä¸€çº§ç¼“å­˜</h5><ul><li>é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œåªåœ¨ä¸€æ¬¡sqlSessionä¸­æœ‰æ•ˆ</li></ul><p>â€‹ ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼š</p><ol type="1"><li><p>æŸ¥è¯¢ä¸åŒçš„ä¸œè¥¿</p></li><li><p>å¢åˆ æ”¹æ“ä½œï¼Œå¯èƒ½ä¼šæ”¹å˜åŸæ¥çš„æ•°æ®ï¼Œæ‰€ä»¥å¿…å®šä¼šåˆ·æ–°ç¼“å­˜ï¼</p></li><li><p>æŸ¥è¯¢ä¸åŒçš„Mapper.xml</p></li><li><p>æ‰‹åŠ¨æ¸…ç†ç¼“å­˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">sqlSession.clearCache(); <br></code></pre></td></tr></table></figure></li></ol><h5 id="äºŒçº§ç¼“å­˜">2.4 äºŒçº§ç¼“å­˜</h5><p>è¦å¯ç”¨å…¨å±€çš„äºŒçº§ç¼“å­˜ï¼Œåªéœ€è¦åœ¨SQL æ˜ å°„æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">cache</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å‚æ•°ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">cache</span></span><br><span class="hljs-tag">  <span class="hljs-attr">eviction</span>=<span class="hljs-string">&quot;FIFO&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">&quot;60000&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;512&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">readOnly</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>å°ç»“ï¼š</p><ul><li>åªè¦å¼€å¯äº†äºŒçº§ç¼“å­˜ï¼Œåœ¨åŒä¸€ä¸ªMapperä¸‹å°±æœ‰æ•ˆ</li><li>æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šå…ˆæ”¾åœ¨ä¸€çº§ç¼“å­˜ä¸­</li><li>åªæœ‰å½“ä¼šè¯å…³é—­æˆ–è€…æäº¤æ—¶ï¼Œæ‰ä¼šæäº¤åˆ°äºŒçº§ç¼“å­˜</li></ul>]]></content>
    
    
    <categories>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Mybatisç¬”è®°04--å¤šå¯¹ä¸€ä¸ä¸€å¯¹å¤š</title>
    <link href="/2022/06/25/Mybatis/Mybatis04/"/>
    <url>/2022/06/25/Mybatis/Mybatis04/</url>
    
    <content type="html"><![CDATA[<h3id="mybatisç¬”è®°04--å¤šå¯¹ä¸€ä¸ä¸€å¯¹å¤š">Mybatisç¬”è®°04--å¤šå¯¹ä¸€ä¸ä¸€å¯¹å¤š</h3><h4 id="å¤šå¯¹ä¸€å¤„ç†">1. å¤šå¯¹ä¸€å¤„ç†</h4><p>å¤šä¸ªå­¦ç”Ÿé€‰ä¸€ä½è€å¸ˆçš„è¯¾</p><ul><li>å¤šä¸ªå­¦ç”Ÿï¼Œå¯¹åº”ä¸€ä½è€å¸ˆ</li><li>å¯¹äºå­¦ç”Ÿè€Œè¨€ï¼Œ<strong>å…³è”</strong>ï¼Œå¤šä¸ªå­¦ç”Ÿå…³è”ä¸€ä¸ªè€å¸ˆã€å¤šå¯¹ä¸€ã€‘</li><li>å¯¹äºè€å¸ˆè€Œè¨€ï¼Œ<strong>é›†åˆ</strong>ï¼Œä¸€ä¸ªè€å¸ˆæœ‰å¾ˆå¤šä¸ªå­¦ç”Ÿã€ä¸€å¯¹å¤šã€‘</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `teacher` (<br>  `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,<br>  `name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)<br>) ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8;<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> teacher(`id`, `name`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;ç§¦è€å¸ˆ&#x27;</span>); <br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `student` (<br>  `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,<br>  `name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `tid` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`),<br>  KEY `fktid` (`tid`),<br>  <span class="hljs-keyword">CONSTRAINT</span> `fktid` <span class="hljs-keyword">FOREIGN</span> KEY (`tid`) <span class="hljs-keyword">REFERENCES</span> `teacher` (`id`)<br>) ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8;<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;å°çº¢&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;å°å¼ &#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;å°æ&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;å°ç‹&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>);<br></code></pre></td></tr></table></figure><h5 id="æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†">æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    æ€è·¯ï¼š</span><br><span class="hljs-comment">        1. æŸ¥è¯¢æ‰€æœ‰çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="hljs-comment">        2. æ ¹æ®æŸ¥è¯¢å‡ºçš„å­¦ç”Ÿçš„tidï¼Œå¯»æ‰¾å¯¹åº”çš„è€å¸ˆ</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudent&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span>&gt;</span><br>    select * from student s, teacher t<br>    where s.tid = t.id;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!-- å¤æ‚å±æ€§ï¼ˆTeacherï¼‰ï¼Œéœ€è¦å•ç‹¬å¤„ç†</span><br><span class="hljs-comment">            å¯¹è±¡ï¼šassociation</span><br><span class="hljs-comment">            é›†åˆï¼šcollection</span><br><span class="hljs-comment">        --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    select * from teacher where id = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†">æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç† --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudent2&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;StudentTeacher2&quot;</span>&gt;</span><br>    select s.id sid, s.name sname, t.name tname, t.id tid<br>    from student s, teacher t<br>    where s.tid = t.id;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sname&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tname&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å›é¡¾mysqlå¤šå¯¹ä¸€æŸ¥è¯¢æ–¹å¼ï¼š</p><ul><li>å­æŸ¥è¯¢ -- ã€æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ã€‘</li><li>è”è¡¨æŸ¥è¯¢ -- ã€æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ã€‘</li></ul><h4 id="ä¸€å¯¹å¤šå¤„ç†">2. ä¸€å¯¹å¤šå¤„ç†</h4><p>æ¯”å¦‚ï¼šä¸€ä¸ªè€å¸ˆæ•™æˆå¤šä¸ªå­¦ç”Ÿã€‚å¯¹äºè€å¸ˆè€Œè¨€ï¼Œå°±æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚</p><h5 id="æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†-1">æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher2&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;TeacherStudent2&quot;</span> &gt;</span><br>    select * from teacher<br>    where id = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;TeacherStudent2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;students&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;ArrayList&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;Student&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getStudentByTeacherId&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudentByTeacherId&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    select * from student<br>    where tid = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†-1">æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;TeacherStudent&quot;</span>&gt;</span><br>    select s.id sid, s.name sname, t.name tname, t.id tid<br>    from student s, teacher t<br>    where s.tid = t.id and t.id = #&#123;tid&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;TeacherStudent&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tname&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- å¤æ‚å±æ€§ï¼ˆTeacherï¼‰ï¼Œéœ€è¦å•ç‹¬å¤„ç†</span><br><span class="hljs-comment">        å¯¹è±¡ï¼šassociation</span><br><span class="hljs-comment">        é›†åˆï¼šcollection</span><br><span class="hljs-comment">       javaType = æŒ‡å®šå±æ€§çš„ç±»å‹ï¼</span><br><span class="hljs-comment">       é›†åˆä¸­çš„æ³›å‹ä¿¡æ¯ï¼Œç”¨ ofTypeè·å–</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;students&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sname&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="å°ç»“">3. å°ç»“</h4><ol type="1"><li><p>å…³è” -- association ã€å¤šå¯¹ä¸€ã€‘</p></li><li><p>é›†åˆ -- collection ã€ä¸€å¯¹å¤šã€‘</p></li><li><p>javaType &amp; ofType</p><ul><li><p>javaType ç”¨æ¥æŒ‡å®šå®ä½“ç±»ä¸­å±æ€§çš„ç±»å‹</p></li><li><p>ofTypeç”¨æ¥æŒ‡å®šæ˜ å°„åˆ°Listæˆ–è€…é›†åˆä¸­çš„pojoç±»å‹ï¼ˆæ³›å‹ä¸­çš„çº¦æŸç±»å‹ï¼‰</p></li></ul></li></ol><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>ä¿è¯SQLçš„å¯è¯»æ€§ï¼Œå°½é‡ä¿è¯é€šä¿—æ˜“æ‡‚</li><li>æ³¨æ„ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€ä¸­ï¼Œå±æ€§åå’Œå­—æ®µçš„é—®é¢˜</li></ul>]]></content>
    
    
    <categories>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Mybatisç¬”è®°03--æ—¥å¿—&amp;åˆ†é¡µ&amp;æ³¨è§£å¼€å‘</title>
    <link href="/2022/06/22/Mybatis/Mybatis03/"/>
    <url>/2022/06/22/Mybatis/Mybatis03/</url>
    
    <content type="html"><![CDATA[<h3id="mybatisç¬”è®°03--æ—¥å¿—åˆ†é¡µæ³¨è§£å¼€å‘">Mybatisç¬”è®°03--æ—¥å¿—&amp;åˆ†é¡µ&amp;æ³¨è§£å¼€å‘</h3><h4 id="æ—¥å¿—">1. æ—¥å¿—</h4><h5 id="æ—¥å¿—å·¥å‚">1.1 æ—¥å¿—å·¥å‚</h5><p>å½“æ•°æ®åº“å‡ºç°å¼‚å¸¸æ—¶ï¼Œéœ€è¦æ’é”™ã€‚æ—¥å¿—æ˜¯æœ€å¥½çš„åŠ©æ‰‹ï¼</p><p>æ›¾ç»ï¼šsoutã€debug</p><p>ç°åœ¨ï¼šæ—¥å¿—å·¥å‚ï¼</p><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/MyBatis/03-settings-log.png" width="90%"  style="center"/></p><ul><li>SLF4J</li><li>LOG4J ã€æŒæ¡ã€‘</li><li>LOG4J2</li><li>JDK_LOGGING</li><li>COMMONS_LOGGING</li><li>STDOUT_LOGGING ã€æŒæ¡ã€‘</li><li>NO_LOGGING</li></ul><p>åœ¨è®¾ç½®ä¸­è®¾å®šMyBatisä¸­å…·ä½“ä½¿ç”¨å“ªä¸€ä¸ªæ—¥å¿—ï¼</p><p><strong>STDOUT_LOGGING æ ‡å‡†æ—¥å¿—è¾“å‡º</strong></p><p>åœ¨mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®æ—¥å¿—</p><figure class="highlight xml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="log4j">2.2 LOG4J</h5><p>ä»€ä¹ˆæ˜¯LOG4Jï¼Ÿ</p><ul><li>æ˜¯<ahref="https://baike.baidu.com/item/Apache/8512995">Apache</a>çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯<ahref="https://baike.baidu.com/item/æ§åˆ¶å°/2438626">æ§åˆ¶å°</a>ã€æ–‡ä»¶ã€<ahref="https://baike.baidu.com/item/GUI">GUI</a>ç»„ä»¶</li><li>ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼</li><li>é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹</li><li>é€šè¿‡ä¸€ä¸ª<ahref="https://baike.baidu.com/item/é…ç½®æ–‡ä»¶/286550">é…ç½®æ–‡ä»¶</a>æ¥çµæ´»åœ°è¿›è¡Œé…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç </li></ul><ol type="1"><li><p>å…ˆå¯¼å…¥log4jçš„åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.17<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>log4j.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç </span><br><span class="hljs-attr">log4j.rootLogger</span>=<span class="hljs-string">DEBUG,console,file</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span><br><span class="hljs-attr">log4j.appender.console</span> = <span class="hljs-string">org.apache.log4j.ConsoleAppender</span><br><span class="hljs-attr">log4j.appender.console.Target</span> = <span class="hljs-string">System.out</span><br><span class="hljs-attr">log4j.appender.console.Threshold</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.appender.console.layout</span> = <span class="hljs-string">org.apache.log4j.PatternLayout</span><br><span class="hljs-attr">log4j.appender.console.layout.ConversionPattern</span>=<span class="hljs-string">[%c]-%m%n</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span><br><span class="hljs-attr">log4j.appender.file</span> = <span class="hljs-string">org.apache.log4j.RollingFileAppender</span><br><span class="hljs-attr">log4j.appender.file.File</span>=<span class="hljs-string">./log/lics.log</span><br><span class="hljs-attr">log4j.appender.file.MaxFileSize</span>=<span class="hljs-string">10mb</span><br><span class="hljs-attr">log4j.appender.file.Threshold</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.appender.file.layout</span>=<span class="hljs-string">org.apache.log4j.PatternLayout</span><br><span class="hljs-attr">log4j.appender.file.layout.ConversionPattern</span>=<span class="hljs-string">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ—¥å¿—è¾“å‡ºçº§åˆ«</span><br><span class="hljs-attr">log4j.logger.org.mybatis</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.logger.java.sql</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.logger.java.sql.Statement</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.logger.java.sql.ResultSet</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-attr">log4j.logger.java.sql.PreparedStatement</span>=<span class="hljs-string">DEBUG</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®log4jä¸ºæ—¥å¿—çš„å®ç°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;LOG4J&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><p><strong>ç®€å•ä½¿ç”¨</strong></p><ol type="1"><li><p>åœ¨è¦ä½¿ç”¨log4jçš„ç±»ä¸­ï¼Œå¯¼å…¥åŒ… importorg.apache.log4j.Logger;</p></li><li><p>æ—¥å¿—å¯¹è±¡ï¼Œå‚æ•°ä¸ºå½“å‰ç±»çš„class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">static</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> Logger.getLogger(UserMapperTest.class);<br></code></pre></td></tr></table></figure></li><li><p>æ—¥å¿—çº§åˆ«</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">logger.info(<span class="hljs-string">&quot;info:è¿›å…¥äº†test02æ–¹æ³•&quot;</span>);<br>logger.debug(<span class="hljs-string">&quot;debug:è¿›å…¥äº†test02æ–¹æ³•&quot;</span>);<br>logger.error(<span class="hljs-string">&quot;error:è¿›å…¥äº†test02æ–¹æ³•&quot;</span>);<br></code></pre></td></tr></table></figure></li></ol><h4 id="åˆ†é¡µ">2. åˆ†é¡µ</h4><p><strong>ä¸ºä»€ä¹ˆè¦åˆ†é¡µï¼Ÿ</strong></p><ul><li>å‡å°‘æ•°æ®çš„å¤„ç†é‡</li></ul><p><strong>ä½¿ç”¨limitåˆ†é¡µ</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">è¯­æ³•ï¼š<br>select * from user limit startIndex, pageSize;<br>select * from user limit n; # [0, n-1]<br></code></pre></td></tr></table></figure><p><strong>ä½¿ç”¨Mybatiså®ç°åˆ†é¡µï¼Œæ ¸å¿ƒï¼šSQL</strong></p><ol type="1"><li><p>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// åˆ†é¡µ</span><br>List&lt;User&gt; <span class="hljs-title function_">getUserByLimit</span><span class="hljs-params">(Map&lt;String, Integer&gt; map)</span>;<br></code></pre></td></tr></table></figure></li><li><p>Mapper.XML</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserByLimit&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>    select * from mybatis.user<br>    limit #&#123;startIndex&#125;, #&#123;pageSize&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testGetUserByLimit</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSqlSession();<br><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br><br>    HashMap&lt;String, Integer&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><br>    map.put(<span class="hljs-string">&quot;startIndex&quot;</span>, <span class="hljs-number">2</span>);<br>    map.put(<span class="hljs-string">&quot;pageSize&quot;</span>, <span class="hljs-number">2</span>);<br><br>    List&lt;User&gt; userByLimit = mapper.getUserByLimit(map);<br><br>    System.out.println(userByLimit);<br><br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h4 id="ä½¿ç”¨æ³¨è§£å¼€å‘">3. ä½¿ç”¨æ³¨è§£å¼€å‘</h4><h5 id="æ³¨è§£åœ¨æ¥å£ä¸Šå®ç°">3.1 æ³¨è§£åœ¨æ¥å£ä¸Šå®ç°</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Select(&quot;select * from user&quot;)</span><br>List&lt;User&gt; <span class="hljs-title function_">getUserListByAnnotations</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><h5 id="éœ€è¦åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ¥å£">3.2éœ€è¦åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ¥å£</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.dao.UserMapper&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æœ¬è´¨ï¼šåå°„æœºåˆ¶å®ç°</p><p>åº•å±‚ï¼šåŠ¨æ€ä»£ç†</p><h5 id="crud">3.3 CRUD</h5><p>ç¼–å†™æ¥å£ï¼Œå¢åŠ æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Select(&quot;select * from user&quot;)</span><br>List&lt;User&gt; <span class="hljs-title function_">getUserListByAnnotations</span><span class="hljs-params">()</span>;<br><br><span class="hljs-meta">@Update(&quot;update user &quot; +</span><br><span class="hljs-meta">        &quot;set id = #&#123;id&#125;, name = #&#123;name&#125;, pwd = #&#123;password&#125; &quot; +</span><br><span class="hljs-meta">        &quot;where id = #&#123;id&#125;&quot;)</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">updateUserByAnnotations</span><span class="hljs-params">(User user)</span>;<br><br><span class="hljs-meta">@Insert(&quot;insert into user (id, name, pwd) &quot; +</span><br><span class="hljs-meta">        &quot;values &quot; +</span><br><span class="hljs-meta">        &quot;(#&#123;id&#125;, #&#123;name&#125;, #&#123;password&#125;)&quot;)</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">addUserByAnnotations</span><span class="hljs-params">(User user)</span>;<br><br><span class="hljs-meta">@Delete(&quot;delete from user &quot; +</span><br><span class="hljs-meta">        &quot;where id = #&#123;id&#125;&quot;)</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">deleteUserByIdByAnnotations</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;id&quot;)</span> <span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure><p><strong>å…³äº@Param() æ³¨è§£</strong></p><ul><li>åŸºæœ¬ç±»å‹æˆ–è€…Stringç±»å‹çš„å‚æ•°ï¼Œéœ€è¦åŠ ä¸Š</li><li>å¼•ç”¨ç±»å‹ä¸éœ€è¦åŠ </li><li>å¦‚æœåªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œå¯ä»¥å¿½ç•¥ï¼Œä½†å»ºè®®éƒ½åŠ ä¸Šï¼</li><li>åœ¨SQLä¸­å¼•ç”¨çš„å°±æ˜¯@Param() ä¸­è®¾å®šçš„å±æ€§åã€‚</li></ul><p><strong>#{} å’Œ ${} åŒºåˆ«</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-number">1</span>ï¼‰#&#123;&#125;æ˜¯é¢„ç¼–è¯‘å¤„ç†ï¼Œ$&#123;&#125;æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ã€‚<br><span class="hljs-number">2</span>ï¼‰mybatisåœ¨å¤„ç†ä¸¤ä¸ªå­—ç¬¦æ—¶ï¼Œå¤„ç†çš„æ–¹å¼ä¹Ÿæ˜¯ä¸åŒçš„ï¼š<br>â‘ ã€å¤„ç†#&#123;&#125;æ—¶ï¼Œä¼šå°†sqlä¸­çš„#&#123;&#125;æ•´ä½“æ›¿æ¢ä¸ºå ä½ç¬¦ï¼ˆå³ï¼š?ï¼‰ï¼Œè°ƒç”¨PreparedStatementçš„setæ–¹æ³•æ¥èµ‹å€¼ï¼›<br>â‘¡ã€åœ¨å¤„ç†$&#123;&#125; æ—¶ï¼Œå°±æ˜¯æŠŠ$&#123;&#125;æ›¿æ¢æˆå˜é‡çš„å€¼ã€‚<br><span class="hljs-number">3</span>ï¼‰å‡å¦‚ç”¨$&#123;&#125;æ¥ç¼–å†™SQLä¼šå‡ºç°ï¼šæ¶æ„SQLæ³¨å…¥ï¼Œå¯¹äºæ•°æ®åº“çš„æ•°æ®å®‰å…¨æ€§å°±æ²¡åŠæ³•ä¿è¯äº†ã€‚<br><span class="hljs-number">4</span>ï¼‰ä½¿ç”¨ #&#123;&#125; å¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢SQLæ³¨å…¥ï¼Œæé«˜ç³»ç»Ÿå®‰å…¨æ€§ï¼š<br>é¢„ç¼–è¯‘çš„æœºåˆ¶ã€‚é¢„ç¼–è¯‘æ˜¯æå‰å¯¹SQLè¯­å¥è¿›è¡Œé¢„ç¼–è¯‘ï¼Œè€Œåå†è°ƒç”¨SQLï¼Œæ³¨å…¥çš„å‚æ•°å°±ä¸ä¼šå†è¿›è¡ŒSQLç¼–è¯‘ã€‚è€ŒSQLæ³¨å…¥æ˜¯å‘ç”Ÿåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºæ¶æ„æ³¨å…¥äº†æŸäº›ç‰¹æ®Šå­—ç¬¦ï¼Œæœ€åè¢«ç¼–è¯‘æ—¶SQLæ—¶è½»è€Œæ˜“ä¸¾çš„é€šè¿‡ï¼Œä»è€Œå¯¼è‡´æ•°æ®æ³„éœ²ã€‚è€Œé¢„ç¼–è¯‘æœºåˆ¶åˆ™å¯ä»¥å¾ˆå¥½çš„é˜²æ­¢SQLæ³¨å…¥ã€‚<br></code></pre></td></tr></table></figure><h4 id="lombok">4. Lombok</h4><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol type="1"><li><p>åœ¨IDEAä¸­å®‰è£…Lombokæ’ä»¶ï¼</p></li><li><p>åœ¨é¡¹ç›®ä¸­å¯¼å…¥lombokçš„jaråŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.22<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨å®ä½“ç±»ä¸ŠåŠ æ³¨è§£</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Getter</span> and <span class="hljs-meta">@Setter</span><br><span class="hljs-meta">@FieldNameConstants</span><br><span class="hljs-meta">@ToString</span><br><span class="hljs-meta">@EqualsAndHashCode</span><br><span class="hljs-meta">@AllArgsConstructor</span>, <span class="hljs-meta">@RequiredArgsConstructor</span> and <span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@Log</span>, <span class="hljs-meta">@Log4j</span>, <span class="hljs-meta">@Log4j2</span>, <span class="hljs-meta">@Slf4j</span>, <span class="hljs-meta">@XSlf4j</span>, <span class="hljs-meta">@CommonsLog</span>, <span class="hljs-meta">@JBossLog</span>, <span class="hljs-meta">@Flogger</span>, <span class="hljs-meta">@CustomLog</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@Builder</span><br><span class="hljs-meta">@SuperBuilder</span><br><span class="hljs-meta">@Singular</span><br><span class="hljs-meta">@Delegate</span><br><span class="hljs-meta">@Value</span><br><span class="hljs-meta">@Accessors</span><br><span class="hljs-meta">@Wither</span><br><span class="hljs-meta">@With</span><br><span class="hljs-meta">@SneakyThrows</span><br><span class="hljs-meta">@val</span><br><span class="hljs-meta">@var</span><br>experimental <span class="hljs-meta">@var</span><br><span class="hljs-meta">@UtilityClass</span><br>Lombok config system<br>Code inspections<br>Refactoring <span class="hljs-title function_">actions</span> <span class="hljs-params">(lombok and delombok)</span><br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span>: æ— å‚æ„é€ ã€getã€setã€toStringã€hashCodeã€equals<br><span class="hljs-meta">@AllArgsConstructor</span>ï¼šæœ‰å‚æ„é€ <br><span class="hljs-meta">@NoArgsConstructor</span>ï¼šæ— å‚æ„é€ <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Mybatisç¬”è®°02--CRUD&amp;æ ¸å¿ƒé…ç½®&amp;resultMap</title>
    <link href="/2022/06/19/Mybatis/Mybatis02/"/>
    <url>/2022/06/19/Mybatis/Mybatis02/</url>
    
    <content type="html"><![CDATA[<h3id="mybatisç¬”è®°02--crudæ ¸å¿ƒé…ç½®resultmap">Mybatisç¬”è®°02--CRUD&amp;æ ¸å¿ƒé…ç½®&amp;resultMap</h3><h4 id="crud">1. CRUD</h4><p>ï¼ˆ1ï¼‰<strong>namespace</strong>:namespaceä¸­çš„åŒ…åè¦å’ŒDao/mapperæ¥å£çš„åŒ…åä¸€è‡´ï¼</p><p>ï¼ˆ2ï¼‰<strong>select</strong>: é€‰æ‹©/æŸ¥è¯¢è¯­å¥ï¼›</p><ul><li><p>idï¼šå°±æ˜¯å¯¹åº”çš„namespaceä¸­çš„æ–¹æ³•åï¼›</p></li><li><p>resultType: Sqlè¯­å¥æ‰§è¡Œçš„è¿”å›å€¼</p></li><li><p>parameterTypeï¼šå‚æ•°ç±»å‹</p><p><strong>æ­¥éª¤</strong>ï¼š</p></li></ul><ol type="1"><li><p>ç¼–å†™æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·</span><br>User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å¯¹åº”çš„mapperä¸­çš„sqlè¯­å¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span>&gt;</span><br>    select * from mybatis.user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test02</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// è·å–sqlSessionå¯¹è±¡</span><br>    <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSqlSession();<br><br>    <span class="hljs-comment">// æ‰§è¡ŒSQL</span><br>    <span class="hljs-type">UserMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);<br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> mapper.getUserById(<span class="hljs-number">1</span>);<br>    System.out.println(user);<br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>â€‹ ï¼ˆ3ï¼‰å¢</p><div class="code-wrapper"><pre><code class="hljs">  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span>&gt;</span><br>    insert into mybatis.user (id, name, pwd) values<br>    (#&#123;id&#125;, #&#123;name&#125;, #&#123;pwd&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br></code></pre></td></tr></table></figure></code></pre><p>â€‹ ï¼ˆ4ï¼‰åˆ </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>    delete from mybatis.user<br>    where id=#&#123;id&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹ ï¼ˆ5ï¼‰æ”¹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span>&gt;</span><br>    update mybatis.user<br>    set name = #&#123;name&#125;, pwd=#&#123;pwd&#125;<br>    where id=#&#123;id&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong><font color="red">æ³¨æ„ï¼šå¢åˆ æ”¹éœ€è¦æäº¤äº‹åŠ¡ï¼Â </font></strong></p><h4 id="æ ¸å¿ƒé…ç½®">2. æ ¸å¿ƒé…ç½®</h4><p>MyBatis çš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¼šæ·±æ·±å½±å“ MyBatis è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯ã€‚é…ç½®æ–‡æ¡£çš„é¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml">configurationï¼ˆé…ç½®ï¼‰<br>    propertiesï¼ˆå±æ€§ï¼‰<br>    settingsï¼ˆè®¾ç½®ï¼‰<br>    typeAliasesï¼ˆç±»å‹åˆ«åï¼‰<br>    typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰<br>    objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰<br>    pluginsï¼ˆæ’ä»¶ï¼‰<br>    environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰<br>    environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰<br>    transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰<br>    dataSourceï¼ˆæ•°æ®æºï¼‰<br>    databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰<br>    mappersï¼ˆæ˜ å°„å™¨ï¼‰<br></code></pre></td></tr></table></figure><h5 id="ç¯å¢ƒé…ç½®environments">2.1 ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰</h5><p>Mybatiså¯ä»¥é…ç½®æˆé€‚åº”å¤šç§ç¯å¢ƒ</p><p><strong>ä¸è¿‡è¦è®°ä½ï¼šå°½ç®¡å¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œä½†æ¯ä¸ª SqlSessionFactoryå®ä¾‹åªèƒ½é€‰æ‹©ä¸€ç§ç¯å¢ƒã€‚</strong></p><p>ä¸ºäº†æŒ‡å®šåˆ›å»ºå“ªç§ç¯å¢ƒï¼Œåªè¦å°†å®ƒä½œä¸ºå¯é€‰çš„å‚æ•°ä¼ é€’ç»™SqlSessionFactoryBuilder å³å¯ã€‚å¯ä»¥æ¥å—ç¯å¢ƒé…ç½®çš„ä¸¤ä¸ªæ–¹æ³•ç­¾åæ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(reader, environment);<br><span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(reader, environment, properties);<br></code></pre></td></tr></table></figure><p>å¦‚æœå¿½ç•¥äº†ç¯å¢ƒå‚æ•°ï¼Œé‚£ä¹ˆå°†ä¼šåŠ è½½é»˜è®¤ç¯å¢ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(reader);<br><span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(reader, properties);<br></code></pre></td></tr></table></figure><p>Mybatisé»˜è®¤çš„äº‹åŠ¡ç®¡ç†å™¨ï¼šJDBCï¼Œ è¿æ¥æ± ï¼šPOOLED</p><h5 id="å±æ€§properties">2.2 å±æ€§ï¼ˆpropertiesï¼‰</h5><p>è¿™äº›å±æ€§å¯ä»¥åœ¨å¤–éƒ¨è¿›è¡Œé…ç½®ï¼Œå¹¶å¯ä»¥è¿›è¡ŒåŠ¨æ€æ›¿æ¢ã€‚æ—¢å¯ä»¥åœ¨å…¸å‹çš„ Javaå±æ€§æ–‡ä»¶ä¸­é…ç½®è¿™äº›å±æ€§ï¼Œä¹Ÿå¯ä»¥åœ¨ propertieså…ƒç´ çš„å­å…ƒç´ ä¸­è®¾ç½®ã€db.propertiesã€‘ã€‚</p><p>ç¼–å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶db.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-attr">url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/mybatis?useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8</span><br><span class="hljs-attr">username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">password</span>=<span class="hljs-string">***</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼•å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- å¼•å…¥å¤–éƒ¨é…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;db.properties&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;111&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><p>å¯ä»¥ç›´æ¥å¼•å…¥å¤–éƒ¨æ–‡ä»¶</p></li><li><p>å¯ä»¥åœ¨<properties> </properties>ä¸­å¢åŠ ä¸€äº›å±æ€§é…ç½®</p></li><li><p>å¦‚æœä¸Šé¢ä¸¤å¤„æœ‰åŒä¸€ä¸ªå­—æ®µï¼Œä¼˜å…ˆä½¿ç”¨å¤–éƒ¨æ–‡ä»¶ä¸­çš„ï¼</p><p>è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p><p>å¦‚æœä¸€ä¸ªå±æ€§åœ¨ä¸åªä¸€ä¸ªåœ°æ–¹è¿›è¡Œäº†é…ç½®ï¼Œé‚£ä¹ˆï¼ŒMyBatiså°†æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ¥åŠ è½½ï¼š</p><ul><li>é¦–å…ˆè¯»å–åœ¨ properties å…ƒç´ ä½“å†…æŒ‡å®šçš„å±æ€§ã€‚</li><li>ç„¶åæ ¹æ® properties å…ƒç´ ä¸­çš„ resourceå±æ€§è¯»å–ç±»è·¯å¾„ä¸‹å±æ€§æ–‡ä»¶ï¼Œæˆ–æ ¹æ® urlå±æ€§æŒ‡å®šçš„è·¯å¾„è¯»å–å±æ€§æ–‡ä»¶ï¼Œå¹¶<strong>è¦†ç›–</strong>ä¹‹å‰è¯»å–è¿‡çš„åŒåå±æ€§ã€‚</li><li>æœ€åè¯»å–ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ é€’çš„å±æ€§ï¼Œå¹¶<strong>è¦†ç›–</strong>ä¹‹å‰è¯»å–è¿‡çš„åŒåå±æ€§ã€‚</li></ul><p>å› æ­¤ï¼Œé€šè¿‡æ–¹æ³•å‚æ•°ä¼ é€’çš„å±æ€§å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ï¼Œresource/urlå±æ€§ä¸­æŒ‡å®šçš„é…ç½®æ–‡ä»¶æ¬¡ä¹‹ï¼Œæœ€ä½ä¼˜å…ˆçº§çš„åˆ™æ˜¯ propertieså…ƒç´ ä¸­æŒ‡å®šçš„å±æ€§ã€‚</p></li></ul><h5 id="ç±»å‹åˆ«åtypealiases">2.3 ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰</h5><p>ç±»å‹åˆ«åå¯ä¸º Javaç±»å‹è®¾ç½®ä¸€ä¸ªç¼©å†™åå­—ï¼Œæ„åœ¨é™ä½å†—ä½™çš„å…¨é™å®šç±»åä¹¦å†™ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAlias</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;User&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ…åï¼Œmybatisä¼šåœ¨åŒ…åä¸‹æœç´¢éœ€è¦çš„Java Beanï¼Œæ¯”å¦‚ï¼š</p><p>æ‰«æå®ä½“ç±»çš„åŒ…ï¼Œå®ƒçš„é»˜è®¤åˆ«åå°±æ˜¯è¿™ä¸ªç±»çš„ ç±»åï¼Œé¦–å­—æ¯å°å†™ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.lics.pojo&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="æ˜ å°„å™¨mappers">2.4 æ˜ å°„å™¨ï¼ˆmappersï¼‰</h5><p>MapperRegistry: æ³¨å†Œç»‘å®šMapperæ–‡ä»¶</p><p>æ–¹å¼ä¸€ï¼šã€æ¨èä½¿ç”¨ã€‘ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/lics/dao/UserMapper.xml&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼šä½¿ç”¨classæ–‡ä»¶ç»‘å®šæ³¨å†Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.lics.dao.UserMapper&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹ æ³¨æ„ç‚¹ï¼š</p><ul><li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åŒåï¼Œä¸”åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li></ul><p>æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ‰«æåŒ…è¿›è¡Œæ³¨å†Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.lics.dao&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹åŒæ–¹å¼äºŒã€‚</p><h4 id="ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ">3. ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ</h4><p>ä½œç”¨åŸŸï¼Œå’Œç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºé”™è¯¯çš„ä½¿ç”¨ä¼šå¯¼è‡´éå¸¸ä¸¥é‡çš„<strong>å¹¶å‘é—®é¢˜</strong>ã€‚</p><p><strong>SqlSessionFactoryBuilder</strong></p><ul><li>ä¸€æ—¦åˆ›å»ºäº† SqlSessionFactoryï¼Œå°±ä¸å†éœ€è¦å®ƒ</li><li>å±€éƒ¨å˜é‡</li></ul><p><strong>SqlSessionFactory</strong>ï¼š</p><ul><li>å¯ä»¥æƒ³è±¡æˆæ•°æ®åº“è¿æ¥æ± </li><li>SqlSessionFactoryä¸€æ—¦è¢«åˆ›å»ºå°±åº”è¯¥åœ¨åº”ç”¨çš„è¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œ<strong>æ²¡æœ‰ä»»ä½•ç†ç”±ä¸¢å¼ƒå®ƒæˆ–é‡æ–°åˆ›å»ºå¦ä¸€ä¸ªå®ä¾‹</strong>ã€‚</li><li>æœ€ä½³ä½œç”¨åŸŸæ˜¯åº”ç”¨ä½œç”¨åŸŸï¼Œæœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨<strong>å•ä¾‹æ¨¡å¼</strong>æˆ–è€…é™æ€å•ä¾‹æ¨¡å¼</li></ul><p><strong>SqlSession</strong>ï¼š</p><ul><li>è¿æ¥åˆ°è¿æ¥æ± çš„ä¸€ä¸ªè¯·æ±‚</li><li>SqlSessionçš„å®ä¾‹ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æ˜¯ä¸èƒ½è¢«å…±äº«çš„ï¼Œæ‰€ä»¥å®ƒçš„æœ€ä½³çš„ä½œç”¨åŸŸæ˜¯è¯·æ±‚æˆ–æ–¹æ³•ä½œç”¨åŸŸ</li><li>è¿”å›ä¸€ä¸ªå“åº”åï¼Œå°±å…³é—­å®ƒï¼Œå¦åˆ™èµ„æºè¢«å ç”¨ï¼</li></ul><h4 id="è§£å†³ç±»çš„å±æ€§åå’Œæ•°æ®åº“ä¸­å­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜">4.è§£å†³ç±»çš„å±æ€§åå’Œæ•°æ®åº“ä¸­å­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜</h4><h6 id="é—®é¢˜">4.1 é—®é¢˜</h6><p>æ•°æ®åº“å­—æ®µï¼š</p><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/MyBatis/01-dbnames.png" width="70%"  style="center"/></p><p>ç±»ä¸­å±æ€§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String password;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢å‡ºç°é—®é¢˜ï¼š</p><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/MyBatis/02-problem-pwdnull.png" width="70%"  style="center"/></p><p>è§£å†³åŠæ³•ï¼š</p><ul><li>èµ·åˆ«åï¼ˆä¸æ¨èï¼‰</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>    select id, name, pwd as password from mybatis.user<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><strong>resultMap</strong></li></ul><h6 id="resultmap">4.2 resultMap</h6><p>ç»“æœé›†æ˜ å°„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;user&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- columnï¼šæ•°æ®åº“ä¸­çš„å­—æ®µ  propertyï¼šå±æ€§å --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;pwd&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserList&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>    select * from mybatis.user<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><code>resultMap</code> å…ƒç´ æ˜¯ MyBatis ä¸­æœ€é‡è¦æœ€å¼ºå¤§çš„å…ƒç´ </li><li>ResultMapçš„è®¾è®¡æ€æƒ³æ˜¯ï¼Œå¯¹ç®€å•çš„è¯­å¥åšåˆ°é›¶é…ç½®ï¼Œå¯¹äºå¤æ‚ä¸€ç‚¹çš„è¯­å¥ï¼Œåªéœ€è¦æè¿°è¯­å¥ä¹‹é—´çš„å…³ç³»å°±è¡Œäº†ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Mybatisç¬”è®°01--ç¯å¢ƒæ­å»º</title>
    <link href="/2022/06/18/Mybatis/Mybatis01/"/>
    <url>/2022/06/18/Mybatis/Mybatis01/</url>
    
    <content type="html"><![CDATA[<h3 id="mybatisç¬”è®°01--ç¯å¢ƒæ­å»º">Mybatisç¬”è®°01--ç¯å¢ƒæ­å»º</h3><h4 id="è·å–mybatis">è·å–Mybatis</h4><ul><li>mavenä»“åº“</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br></code></pre></td></tr></table></figure><ul><li>github: https://github.com/mybatis/mybatis-3/releases</li><li>ä¸­æ–‡æ–‡æ¡£ï¼šhttps://mybatis.org/mybatis-3/zh/index.html</li></ul><h4 id="æ­å»ºç¯å¢ƒ">æ­å»ºç¯å¢ƒ</h4><h5 id="åˆ›å»ºæ•°æ®åº“">1. åˆ›å»ºæ•°æ®åº“</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> database `mybatis`;<br><br>use `mybatis`;<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> `<span class="hljs-keyword">user</span>` (<br>  `id` <span class="hljs-type">int</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">primary</span> key,<br>  `name` <span class="hljs-type">varchar</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEfault</span> <span class="hljs-keyword">null</span>,<br>  `pwd` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span><br>) engine<span class="hljs-operator">=</span>innodb <span class="hljs-keyword">default</span> charset<span class="hljs-operator">=</span>utf8;<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` (`id`, `name`, `pwd`) <span class="hljs-keyword">VALUES</span> <br>(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="hljs-string">&#x27;123456&#x27;</span>), <br>(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;æå››&#x27;</span>, <span class="hljs-string">&#x27;123456&#x27;</span>), <br>(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;ç‹äº”&#x27;</span>, <span class="hljs-string">&#x27;123890&#x27;</span>); <br></code></pre></td></tr></table></figure><h5 id="åˆ›å»ºmavené¡¹ç›®å¹¶å¯¼å…¥mavenä¾èµ–">2.åˆ›å»ºmavené¡¹ç›®ï¼Œå¹¶å¯¼å…¥mavenä¾èµ–</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--   mysqlé©±åŠ¨   --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.49<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--   mybatis   --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--   junit   --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.13<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="åˆ›å»ºä¸€ä¸ªæ¨¡å—module">3. åˆ›å»ºä¸€ä¸ªæ¨¡å—module</h5><ul><li><h6id="ç¼–å†™mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶">ç¼–å†™mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h6></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configuration æ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;zxc&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><h6 id="ç¼–å†™mybatiså·¥å…·ç±»">ç¼–å†™mybatiså·¥å…·ç±»</h6></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisUtils</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SqlSessionFactory sqlSessionFactory;<br><br>    <span class="hljs-keyword">static</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// ä½¿ç”¨Mybatisç¬¬ä¸€æ­¥ï¼š è·å–sqlSessionFactoryå¯¹è±¡</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">resource</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;<br>            <span class="hljs-type">InputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(resource);<br>            sqlSessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBuilder</span>().build(inputStream);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// æ—¢ç„¶æœ‰äº† SqlSessionFactoryï¼Œé¡¾åæ€ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸­è·å¾— SqlSession çš„å®ä¾‹ã€‚</span><br>    <span class="hljs-comment">// SqlSession æä¾›äº†åœ¨æ•°æ®åº“æ‰§è¡Œ SQL å‘½ä»¤æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title function_">getSqlSession</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> sqlSessionFactory.openSession();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><h6 id="ç¼–å†™ä»£ç ">ç¼–å†™ä»£ç </h6><ul><li><p>ç¼–å†™å®ä½“ç±»</p></li><li><p>ç¼–å†™æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserDao</span> &#123;<br>    List&lt;User&gt; <span class="hljs-title function_">getUserList</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ¥å£å®ç°ç±»ç”±åŸæ¥çš„***Implè½¬æ¢ä¸ºä¸€ä¸ªMapperé…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.lics.dao.UserDao&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.lics.pojo.User&quot;</span>&gt;</span><br>        select * from mybatis.user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><font color='red'>æ¯ä¸€ä¸ªMapper.XMléƒ½éœ€è¦åœ¨mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼</font></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/lics/dao/UserMapper.xml&quot;</span> /&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoTest</span> &#123;<br><br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test01</span><span class="hljs-params">()</span> &#123;<br>      <span class="hljs-comment">// è·å–sqlSessionå¯¹è±¡</span><br>      <span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> MybatisUtils.getSqlSession();<br><br>      <span class="hljs-comment">// æ‰§è¡ŒSQL</span><br>      <span class="hljs-type">UserDao</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserDao.class);<br>      List&lt;User&gt; userList = mapper.getUserList();<br><br>      System.out.println(userList);<br><br>      sqlSession.close();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h5 id="xmlæ–‡ä»¶å¯¼å‡ºå¤±è´¥">4. xmlæ–‡ä»¶å¯¼å‡ºå¤±è´¥ï¼š</h5><p>åœ¨pomæ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹è®¾ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--mavençš„èµ„æºè¿‡æ»¤é—®é¢˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>IDEAä½¿ç”¨æŠ€å·§ç¬”è®°02</title>
    <link href="/2022/06/04/IDEA/IDEA02/"/>
    <url>/2022/06/04/IDEA/IDEA02/</url>
    
    <content type="html"><![CDATA[<h3 id="ideawindowsä½¿ç”¨æŠ€å·§ç¬”è®°02">IDEAï¼ˆwindowsï¼‰ä½¿ç”¨æŠ€å·§ç¬”è®°02</h3><p><font color="red">æ³¨ï¼šæœ¬åšå®¢æ•´ç†çš„æ˜¯windowsä¸‹çš„IDEAç›¸å…³çš„å¿«æ·é”®ï¼ŒMACç­‰ç³»ç»Ÿå¯èƒ½æœ‰æ‰€å·®å¼‚ã€‚</font></p><h5 id="ç¼–å†™é«˜è´¨é‡ä»£ç ">1. ç¼–å†™é«˜è´¨é‡ä»£ç </h5><table style="width:100%;"><colgroup><col style="width: 15%" /><col style="width: 60%" /><col style="width: 16%" /><col style="width: 8%" /></colgroup><thead><tr class="header"><th>ä½¿ç”¨åœºæ™¯</th><th>å¿«æ·é”®</th><th style="text-align: left;">è¯´æ˜</th><th>æ‰€å±èœå•</th></tr></thead><tbody><tr class="odd"><td><strong>1. ä»£ç é‡æ„</strong></td><td>shift + F6</td><td style="text-align: left;">é‡æ„å˜é‡å</td><td>Refactor</td></tr><tr class="even"><td></td><td>ctrl + F6<br />(æ›´æ–¹ä¾¿çš„æ–¹å¼ï¼š<br />ä¿®æ”¹åæŒ‰ alt + Enter )</td><td style="text-align: left;">é‡æ„æ–¹æ³•ç­¾å</td><td>Refactor</td></tr><tr class="odd"><td><strong>2. æŠ½å–</strong></td><td>ctrl + alt + V</td><td style="text-align: left;">æŠ½å–ä¸ºå˜é‡</td><td>Refactor</td></tr><tr class="even"><td></td><td>ctrl + alt + C</td><td style="text-align: left;">æŠ½å–ä¸ºé™æ€å˜é‡</td><td>Refactor</td></tr><tr class="odd"><td></td><td>ctrl + alt + F</td><td style="text-align: left;">æŠ½å–ä¸ºæˆå‘˜å˜é‡</td><td>Refactor</td></tr><tr class="even"><td></td><td>ctrl + alt + P</td><td style="text-align: left;">æŠ½å–ä¸ºæ–¹æ³•å‚æ•°</td><td>Refactor</td></tr><tr class="odd"><td></td><td>ctrl + alt + M</td><td style="text-align: left;">æŠ½å–ä»£ç æ®µä¸ºæ–¹æ³•</td><td>Refactor</td></tr></tbody></table><h5 id="å¯»æ‰¾ä¿®æ”¹è½¨è¿¹gitçš„é›†æˆ">2. å¯»æ‰¾ä¿®æ”¹è½¨è¿¹ï¼ˆgitçš„é›†æˆï¼‰</h5><ul><li><p><strong>annotate</strong>ï¼šåœ¨ä»£ç è¡Œæ•°ä¸Šå³é”®å¯ä»¥çœ‹åˆ°æ­¤é€‰é¡¹ï¼Œæ‰“å¼€åèƒ½çœ‹åˆ°commitä¿¡æ¯ã€ä½œè€…ç­‰ã€‚</p></li><li><p><strong>revert</strong>ï¼šæ’¤é”€ï¼Œå¯¹åº”å¿«æ·é”®<strong>â€œctrl + alt +Zâ€</strong>ï¼Œå¯ä»¥å¯¹ï¼š</p><ul><li>å•å¤„ä¿®æ”¹</li><li>å•ä¸ªæ–‡ä»¶</li><li>æ–‡ä»¶å¤¹</li></ul><p>è¿›è¡Œæ’¤é”€æ“ä½œï¼Œå›æ»šåˆ°ä¸Šæ¬¡æäº¤çš„çŠ¶æ€ã€‚</p></li><li><p><strong>local history </strong>: æœ¬åœ°ä¿®æ”¹è®°å½•ï¼Œé€šè¿‡Help-&gt; FindAction (æˆ–å¿«æ·é”®ctrl shift A) æœç´¢â€œlocalhistoryâ€ï¼Œæ‰“å¼€æ­¤å¯¹è¯æ¡†ï¼Œå¯ä»¥æŸ¥çœ‹ideaçš„æœ¬åœ°çš„ä¿®æ”¹è®°å½•ï¼Œå³ä½¿æœªä½¿ç”¨ä»»ä½•gitç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</p></li></ul><h5 id="å…³è”ä¸€åˆ‡å¾…è¡¥å……">3. å…³è”ä¸€åˆ‡ï¼ˆå¾…è¡¥å……ï¼‰</h5><ul><li><h6 id="ä¸springçš„å…³è”">ä¸Springçš„å…³è”</h6></li><li><h6 id="ä¸æ•°æ®åº“çš„å…³è”">ä¸æ•°æ®åº“çš„å…³è”</h6></li></ul><h5 id="è°ƒè¯•ç¨‹åº">4. è°ƒè¯•ç¨‹åº</h5><table><colgroup><col style="width: 30%" /><col style="width: 30%" /><col style="width: 22%" /><col style="width: 16%" /></colgroup><thead><tr class="header"><th>ä½¿ç”¨åœºæ™¯</th><th>å¿«æ·é”®</th><th>è¯´æ˜</th><th>æ‰€å±èœå•</th></tr></thead><tbody><tr class="odd"><td><strong>1. æ–­ç‚¹è°ƒè¯•</strong></td><td>ctrl + F8</td><td>å½“å‰è¡Œæ·»åŠ æ–­ç‚¹/åˆ é™¤æ–­ç‚¹</td><td>Run</td></tr><tr class="even"><td></td><td>shift + F9</td><td>å•æ­¥è°ƒè¯•ï¼ˆDebugæ¨¡å¼è¿è¡Œï¼‰</td><td>Run</td></tr><tr class="odd"><td></td><td>F8</td><td>å•æ­¥è¿è¡Œï¼ˆStep Overï¼ŒDebugæ¨¡å¼ä¸‹ï¼‰</td><td></td></tr><tr class="even"><td></td><td>F9</td><td>è¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼ˆResumeï¼ŒDebugæ¨¡å¼ä¸‹ï¼Œ<br />è‹¥æ²¡æœ‰ä¸‹ä¸€ä¸ªæ–­ç‚¹åˆ™è¿è¡Œè‡³ç»“æŸï¼‰</td><td></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>IDEAä½¿ç”¨æŠ€å·§</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>IDEAä½¿ç”¨æŠ€å·§ç¬”è®°01</title>
    <link href="/2022/06/01/IDEA/IDEA01/"/>
    <url>/2022/06/01/IDEA/IDEA01/</url>
    
    <content type="html"><![CDATA[<h3 id="ideawindowsä½¿ç”¨æŠ€å·§ç¬”è®°01">IDEAï¼ˆwindowsï¼‰ä½¿ç”¨æŠ€å·§ç¬”è®°01</h3><p><font color="red">æ³¨ï¼šæœ¬åšå®¢æ•´ç†çš„æ˜¯windowsä¸‹çš„IDEAç›¸å…³çš„å¿«æ·é”®ï¼ŒMACç­‰ç³»ç»Ÿå¯èƒ½æœ‰æ‰€å·®å¼‚ã€‚</font></p><h5 id="çª—å£è·³è½¬">1. çª—å£è·³è½¬</h5><p>ï¼ˆ1ï¼‰å¿«æ·é”®ï¼š<strong>alt + æ•°å­—</strong></p><p>ï¼ˆ2ï¼‰å¯ä»¥è®¾ç½®æ˜¾ç¤ºçª—å£ç¼–å·ï¼š</p><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/IDEA/01_show_tools_numbers.png" width="80%" style="center"/></p><p>â€‹è®¾ç½®åï¼Œå„å·¥å…·çª—å£ä¼šæ˜¾ç¤ºå…¶å¯¹åº”çš„æ•°å­—ç¼–å·ï¼Œæƒ³è·³è½¬åˆ°æŸä¸ªçª—å£æ—¶ï¼Œå°±å¯ä»¥æŒ‰ä¸‹â€œalt+ç›¸åº”çš„æ•°å­—é”®â€ã€‚</p><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/IDEA/02_tools_windows_ex.png" width="8%" style="center"/></p><h5 id="è·³è½¬ç›¸å…³çš„å¿«æ·é”®">2. è·³è½¬ç›¸å…³çš„å¿«æ·é”®</h5><table><colgroup><col style="width: 18%" /><col style="width: 18%" /><col style="width: 43%" /><col style="width: 18%" /></colgroup><thead><tr class="header"><th>ä½¿ç”¨åœºæ™¯</th><th>å¿«æ·é”®</th><th style="text-align: left;">è¯´æ˜</th><th>æ‰€å±èœå•</th></tr></thead><tbody><tr class="odd"><td><strong>1. é¡¹ç›®ä¹‹é—´è·³è½¬</strong></td><td>ctrl + alt + ]</td><td style="text-align: left;">è·³è½¬åˆ°ä¸‹ä¸ªé¡¹ç›®</td><td>Window</td></tr><tr class="even"><td></td><td>ctrl + alt + [</td><td style="text-align: left;">è·³è½¬åˆ°ä¸Šä¸ªé¡¹ç›®</td><td>Window</td></tr><tr class="odd"><td><strong>2. æ–‡ä»¶ä¹‹é—´è·³è½¬</strong></td><td>ctrl + E</td><td style="text-align: left;">æ‰“å¼€æœ€è¿‘æŸ¥çœ‹çš„æ–‡ä»¶ï¼ˆRecent Filesï¼‰</td><td>View</td></tr><tr class="even"><td></td><td>ctrl + shift + E</td><td style="text-align: left;">æ‰“å¼€æœ€è¿‘ç¼–è¾‘çš„æ–‡ä»¶ï¼ˆRecently ChangedFilesï¼‰</td><td>View</td></tr><tr class="odd"><td></td><td>ctrl + shift + Backspace<br />ï¼ˆ<strong>oré¼ æ ‡ä¾§é”®</strong>ï¼‰</td><td style="text-align: left;">è·³è½¬åˆ°ä¸Šæ¬¡ç¼–è¾‘çš„åœ°æ–¹ï¼ˆLast EditLocationï¼‰</td><td>Navigate</td></tr><tr class="even"><td></td><td><br />ï¼ˆ<strong>oré¼ æ ‡ä¾§é”®</strong>ï¼‰</td><td style="text-align: left;">è·³è½¬åˆ°ä¸‹æ¬¡ç¼–è¾‘çš„åœ°æ–¹ï¼ˆNext EditLocationï¼‰</td><td>Navigate</td></tr><tr class="odd"><td></td><td>ï¼ˆctrl+ï¼‰alt + å·¦é”®å¤´</td><td style="text-align: left;">è·³è½¬åˆ°ä¸‹æ¬¡æµè§ˆçš„åœ°æ–¹ï¼ˆForwardï¼‰</td><td>Navigate</td></tr><tr class="even"><td></td><td>ï¼ˆctrl+ï¼‰alt + å³é”®å¤´</td><td style="text-align: left;">è·³è½¬åˆ°ä¸Šæ¬¡æµè§ˆçš„åœ°æ–¹ï¼ˆBackï¼‰</td><td>Navigate</td></tr><tr class="odd"><td>åˆ©ç”¨æ ‡ç­¾è·³è½¬<br />æµè§ˆæºç ç­‰åœºæ™¯</td><td>F11</td><td style="text-align: left;">æ·»åŠ /åˆ é™¤ä¹¦ç­¾</td><td></td></tr><tr class="even"><td></td><td>ctrl + F11</td><td style="text-align: left;">æ·»åŠ å¸¦åŠ©è®°ç¬¦å·çš„ä¹¦ç­¾</td><td></td></tr><tr class="odd"><td></td><td>ctrl + æ•°å­—é”®</td><td style="text-align: left;">å¸¦åŠ©è®°ç¬¦å·çš„æ ‡ç­¾ä¹‹é—´çš„è·³è½¬</td><td></td></tr><tr class="even"><td>æ”¶è—ä½ç½®å’Œæ–‡ä»¶</td><td>åŒå‡»Favouritesçª—å£<br />ä¸­çš„ä¹¦ç­¾åˆ—è¡¨<br /><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/IDEA/03_bookmarks.png" width="50%" style="center"/></td><td style="text-align: left;">ä¹Ÿå¯ä»¥è·³è½¬åˆ°ä¹¦ç­¾å¯¹åº”çš„ä»£ç ä½ç½®</td><td></td></tr><tr class="odd"><td><strong>3. ç¼–è¾‘åŒºå’Œæ–‡ä»¶åŒº<br />ä¹‹é—´çš„è·³è½¬</strong></td><td>alt + 1</td><td style="text-align: left;">ä»£ç ç¼–è¾‘åŒºè·³è½¬åˆ°æ–‡ä»¶åŒº</td><td></td></tr><tr class="even"><td></td><td>Esc</td><td style="text-align: left;">æ–‡ä»¶åŒºè·³è½¬åˆ°ä»£ç ç¼–è¾‘åŒº</td><td></td></tr></tbody></table><h5 id="å¿«é€Ÿå®šä½ä»£ç ">3. å¿«é€Ÿå®šä½ä»£ç </h5><table><colgroup><col style="width: 18%" /><col style="width: 18%" /><col style="width: 43%" /><col style="width: 18%" /></colgroup><thead><tr class="header"><th>ä½¿ç”¨åœºæ™¯</th><th>å¿«æ·é”®</th><th style="text-align: left;">è¯´æ˜</th><th>æ‰€å±èœå•</th></tr></thead><tbody><tr class="odd"><td><strong>ç²¾å‡†æœç´¢</strong></td><td>ctrl + N</td><td style="text-align: left;">å®šä½ç±»</td><td>Navigate</td></tr><tr class="even"><td></td><td>ctrl + shift + N</td><td style="text-align: left;">å®šä½æ–‡ä»¶</td><td>Navigate</td></tr><tr class="odd"><td></td><td>ctrl + alt + shift + N</td><td style="text-align: left;">å®šä½ç¬¦å·<br />ï¼ˆç¬¦å·ï¼šæ–¹æ³•å/å±æ€§ï¼‰</td><td>Navigate</td></tr><tr class="even"><td></td><td>ctrl + shift +F<br />(è‹¥æ— æ•ˆï¼Œå¯èƒ½æ˜¯è·Ÿwindows<br />è‡ªå¸¦çš„è¾“å…¥æ³•çš„ç®€ç¹ä½“<br />åˆ‡æ¢å¿«æ·é”®å†²çªï¼Œå…³é—­ä¹‹ã€‚)</td><td style="text-align: left;">å®šä½å­—ç¬¦ä¸²ã€‚<br />ç›¸å…³é€‰é¡¹ï¼š<br />Cc:åŒºåˆ†å¤§å°å†™<br />W: å•è¯åŒ¹é…<br />.*ï¼šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…<br />File mask:åœ¨æŒ‡å®šçš„æ–‡ä»¶ç±»å‹ä¸­æŸ¥æ‰¾</td><td>Edit</td></tr></tbody></table><h5 id="ä»£ç å°åŠ©æ‰‹">4. ä»£ç å°åŠ©æ‰‹</h5><table><colgroup><col style="width: 18%" /><col style="width: 18%" /><col style="width: 43%" /><col style="width: 18%" /></colgroup><thead><tr class="header"><th>ä½¿ç”¨åœºæ™¯</th><th>å¿«æ·é”®</th><th style="text-align: left;">è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr class="odd"><td><strong>1. ç§»åŠ¨å…‰æ ‡ä¸é€‰æ‹©</strong></td><td>shift + å³ç®­å¤´</td><td style="text-align: left;">é€‰ä¸­ä¸‹ä¸€ä¸ªå­—ç¬¦</td><td><em>å°ç»“ï¼šå¤§éƒ¨åˆ†ç§»åŠ¨å…‰æ ‡çš„å¿«æ·é”®ï¼Œ<br />åŠ ä¸Šshiftå¯ä»¥è¿›è¡Œé€‰ä¸­</em></td></tr><tr class="even"><td></td><td>ctrl + å³ç®­å¤´</td><td style="text-align: left;">ç§»åŠ¨å…‰æ ‡åˆ°å•è¯ç»“æŸä½ç½®</td><td></td></tr><tr class="odd"><td></td><td>ctrl + shift + å³ç®­å¤´</td><td style="text-align: left;">é€‰ä¸­åˆ°å•è¯ç»“æŸä½ç½®</td><td></td></tr><tr class="even"><td></td><td>Home</td><td style="text-align: left;">ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–</td><td></td></tr><tr class="odd"><td></td><td>ctrl + alt + shift + J</td><tdstyle="text-align: left;">æ‰¹é‡é€‰ä¸­æ“ä½œ<br />éœ€è¦å…ˆé€‰ä¸­ä¸€ä¸ªç¬¦å·/å˜é‡</td><td></td></tr><tr class="even"><td><strong>2. ä»£ç æ¨¡æ¿</strong><br />ï¼ˆéå¿«æ·é”®ï¼‰</td><td>live templates</td><tdstyle="text-align: left;">å¯ä»¥è‡ªå®šä¹‰ä¸€äº›<br />ç±»ä¼¼psvmçš„ä»£ç æ¨¡æ¿ï¼Œ<br />å‡å°‘æ•²é‡å¤ä»£ç </td><td></td></tr><tr class="odd"><td></td><td>postfix completion</td><td style="text-align: left;">å¸¸ç”¨ï¼š<br />- for å¾ªç¯<br />- nnåˆ¤æ–­éç©º<br />- return è¿”å›<br />- field åˆ›å»ºç±»ä¸­çš„å±æ€§</td><td></td></tr><tr class="even"><td><strong>3. ä¸‡èƒ½ç¥å™¨</strong></td><td>alt + Enter</td><td style="text-align: left;">é‡äº‹ä¸å†³ï¼Œalt Enter</td><td></td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>IDEAä½¿ç”¨æŠ€å·§</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Lambdaä¸Streamç¬”è®°01--LambdaåŸºç¡€è¯­æ³•</title>
    <link href="/2022/05/15/Stream/LambdaNotes01/"/>
    <url>/2022/05/15/Stream/LambdaNotes01/</url>
    
    <content type="html"><![CDATA[<h3id="lambdaè¡¨è¾¾å¼ä¸streamç¬”è®°01--lambdaåŸºç¡€è¯­æ³•">Lambdaè¡¨è¾¾å¼ä¸Streamç¬”è®°01--LambdaåŸºç¡€è¯­æ³•</h3><h4 id="åˆä½“éªŒ">åˆä½“éªŒ</h4><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><pre><code class="hljs java">    List&lt;Employee&gt; employees = Arrays.asList(<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-number">20</span>, <span class="hljs-number">3333.33f</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;æå››&quot;</span>, <span class="hljs-number">30</span>, <span class="hljs-number">6666.33f</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;ç‹äº”&quot;</span>, <span class="hljs-number">40</span>, <span class="hljs-number">2222.33f</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;èµµå…­&quot;</span>, <span class="hljs-number">35</span>, <span class="hljs-number">5500.33f</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">&quot;ç”°ä¸ƒ&quot;</span>, <span class="hljs-number">50</span>, <span class="hljs-number">7000.33f</span>)<br>    );<br><br>    <span class="hljs-keyword">public</span> List&lt;Employee&gt; <span class="hljs-title function_">filterEmployee</span><span class="hljs-params">(List&lt;Employee&gt; employees, MyPredicate&lt;Employee&gt; myPredicate)</span> &#123;<br>        List&lt;Employee&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (Employee e: employees) &#123;<br>            <span class="hljs-keyword">if</span> (myPredicate.test(e)) &#123;<br>                list.add(e);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> list;<br>    &#125;<br><br>    <span class="hljs-comment">// åŒ¿åå†…éƒ¨ç±»</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test01</span><span class="hljs-params">()</span> &#123;<br>        List&lt;Employee&gt; list = filterEmployee(employees, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyPredicate</span>&lt;Employee&gt;() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">test</span><span class="hljs-params">(Employee employee)</span> &#123;<br>                <span class="hljs-keyword">return</span> employee.getSalary() &gt;= <span class="hljs-number">5000</span>;<br>            &#125;<br>        &#125;);<br>        list.forEach(System.out::println);<br>    &#125;<br><br>    <span class="hljs-comment">// Lambdaè¡¨è¾¾å¼</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test02</span><span class="hljs-params">()</span> &#123;<br>        List&lt;Employee&gt; list = filterEmployee(employees, (e) -&gt; e.getSalary() &gt;= <span class="hljs-number">5000</span>);<br>        list.forEach(System.out::println);<br>    &#125;<br><br>    <span class="hljs-comment">// Stream API</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test03</span><span class="hljs-params">()</span> &#123;<br>        employees.stream()<br>                .filter((e) -&gt; e.getSalary() &gt;= <span class="hljs-number">5000</span>)<br><span class="hljs-comment">//                .limit(2)       // é™åˆ¶è¾“å‡ºæ¡æ•°</span><br><span class="hljs-comment">//                .map(Employee::getName)         // åªè¾“å‡ºåå­—</span><br>                .forEach(System.out::println);<br>    &#125;<br></code></pre></td></tr></table></figure><h4 id="åŸºç¡€è¯­æ³•">åŸºç¡€è¯­æ³•</h4><ul><li><h5 id="ç®­å¤´æ“ä½œç¬¦lambdaæ“ä½œç¬¦--">ç®­å¤´æ“ä½œç¬¦(Lambdaæ“ä½œç¬¦)-&gt;</h5><ul><li>å·¦ä¾§ï¼šLambda è¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨</li><li>å³ä¾§ï¼šLambda è¡¨è¾¾å¼ä¸­æ‰€éœ€æ‰§è¡Œçš„åŠŸèƒ½ï¼Œå³Lambda ä½“</li></ul></li><li><h5 id="è¯­æ³•æ ¼å¼">è¯­æ³•æ ¼å¼</h5><ol type="1"><li><p>æ— å‚æ•°ï¼Œæ— è¿”å›å€¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// () -&gt; states;</span><br><span class="hljs-comment">// egï¼š</span><br><span class="hljs-type">Runnable</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> () -&gt; System.out.println(<span class="hljs-string">&quot;Hello Lambda&quot;</span>);<br></code></pre></td></tr></table></figure></li><li><p>æœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ— è¿”å›å€¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// eg:</span><br>Consumer&lt;String&gt; con = (x) -&gt; System.out.println(x);<br><span class="hljs-comment">// or (åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå¯ä»¥çœç•¥å°æ‹¬å·ï¼Œä½†è¿˜æ˜¯æ¨èå†™ä¸Š)</span><br>Consumer&lt;String&gt; con1 = x -&gt; System.out.println(x);<br></code></pre></td></tr></table></figure></li><li><p>æœ‰ä¸¤ä¸ªä»¥ä¸Šå‚æ•°ï¼Œæœ‰è¿”å›å€¼ï¼Œä¸”Lambdaä½“ä¸­æœ‰å¤šæ¡è¯­å¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// éœ€è¦ç”¨å¤§æ‹¬å·å°†Lambdaä½“æ‹¬èµ·æ¥</span><br>Comparator&lt;Integer&gt; com = (x, y) -&gt; &#123;<br>System.out.println(<span class="hljs-string">&quot;å‡½æ•°å¼æ¥å£&quot;</span>);<br><span class="hljs-keyword">return</span> Integer.compare(x, y);<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p>Lambdaä½“ä¸­åªæœ‰ä¸€æ¡è¯­å¥ï¼Œä¸”æœ‰è¿”å›å€¼ï¼šreturnå’Œå¤§æ‹¬å·éƒ½å¯ä»¥çœç•¥ï¼š</p></li></ol><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Comparator&lt;Integer&gt; com = (x, y) -&gt; Integer.compare(x, y);<br></code></pre></td></tr></table></figure></p><ol start="5" type="1"><li>Lambdaè¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨çš„æ•°æ®ç±»å‹å¯ä»¥çœç•¥ä¸å†™ï¼Œå› ä¸ºJVMç¼–è¯‘å™¨å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­å‡ºæ•°æ®ç±»å‹ï¼ˆâ€œç±»å‹æ¨æ–­â€ï¼‰ã€‚</li></ol></li><li><h5id="lambdaè¡¨è¾¾å¼éœ€è¦å‡½æ•°å¼æ¥å£çš„æ”¯æŒ">Lambdaè¡¨è¾¾å¼éœ€è¦â€œå‡½æ•°å¼æ¥å£â€çš„æ”¯æŒ</h5><ul><li>å‡½æ•°å¼æ¥å£ï¼šæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•æ—¶ï¼Œç§°ä¸ºå‡½æ•°å¼æ¥å£ã€‚<ul><li>å¯ä»¥ä½¿ç”¨æ³¨è§£ <span class="citation"data-cites="FunctionalInterface">@FunctionalInterface</span>ä¿®é¥°ï¼Œä»¥æ£€æŸ¥æ˜¯å¦æ˜¯å‡½æ•°å¼æ¥å£</li></ul></li></ul></li></ul><h4 id="java8-å†…ç½®çš„å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£">Java8å†…ç½®çš„å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£</h4><ul><li><p>Consumer<T> ï¼š æ¶ˆè´¹å‹æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">accept</span><span class="hljs-params">(T t)</span>;<br></code></pre></td></tr></table></figure></li><li><p>Supplier<T> ï¼šä¾›ç»™å‹æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">T <span class="hljs-title function_">get</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure></li><li><p>Function&lt;T, R&gt; ï¼š å‡½æ•°å‹æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">R <span class="hljs-title function_">apply</span><span class="hljs-params">(T t)</span>;<br></code></pre></td></tr></table></figure></li><li><p>Predicate<T> ï¼š æ–­è¨€å‹æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">boolean</span> <span class="hljs-title function_">test</span><span class="hljs-params">(T t)</span>;<br></code></pre></td></tr></table></figure></li></ul><h4 id="æ–¹æ³•å¼•ç”¨">æ–¹æ³•å¼•ç”¨</h4><p>â€‹ è‹¥Lambda ä½“ä¸­çš„å†…å®¹æœ‰æ–¹æ³•å·²ç»å®ç°äº†ï¼Œå¯ä»¥ä½¿ç”¨â€œæ–¹æ³•å¼•ç”¨â€</p><ul><li><h5 id="ä¸‰ç§è¯­æ³•æ ¼å¼">ä¸‰ç§è¯­æ³•æ ¼å¼ï¼š</h5><ul><li><p>å¯¹è±¡::å®ä¾‹æ–¹æ³•å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Consumer&lt;String&gt; con = System.out::println;<br></code></pre></td></tr></table></figure></li><li><p>ç±»::é™æ€æ–¹æ³•å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Comparator&lt;Integer&gt; com = Integer::compare;<br></code></pre></td></tr></table></figure></li><li><p>ç±»::å®ä¾‹æ–¹æ³•å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">BiPredicate&lt;String, String&gt; bp = String::equals;<br></code></pre></td></tr></table></figure></li></ul></li><li><h5 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹ï¼š</h5><ul><li>Lambdaä½“ä¸­è°ƒç”¨æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸è¿”å›å€¼ç±»å‹ï¼Œè¦ä¸å‡½æ•°å¼æ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„ä¿æŒä¸€è‡´</li><li>è‹¥Lambdaå‚æ•°åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®ä¾‹æ–¹æ³•çš„è°ƒç”¨è€…ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¯¥å®ä¾‹æ–¹æ³•çš„å‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯­æ³•æ ¼å¼ç±»::å®ä¾‹æ–¹æ³•å</li></ul></li></ul><h4 id="æ„é€ å™¨å¼•ç”¨">æ„é€ å™¨å¼•ç”¨</h4><ul><li><h5 id="è¯­æ³•æ ¼å¼-1">è¯­æ³•æ ¼å¼ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">ClassName::<span class="hljs-keyword">new</span><br><br><span class="hljs-comment">// eg: (è°ƒç”¨çš„æ˜¯æ— å‚æ„é€ å‡½æ•°)</span><br>Supplier&lt;String&gt; sup = String::<span class="hljs-keyword">new</span>;<br><br><span class="hljs-comment">// è°ƒç”¨æœ‰å‚æ„é€ å‡½æ•°ï¼š å€ŸåŠ© Functionæ¥å£</span><br>Function&lt;String, String&gt; fun = String::<span class="hljs-keyword">new</span>;<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>Lambdaè¡¨è¾¾å¼;Stream API</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Lambdaä¸Streamç¬”è®°02--Stream API</title>
    <link href="/2022/05/14/Stream/StreamAPINotes01/"/>
    <url>/2022/05/14/Stream/StreamAPINotes01/</url>
    
    <content type="html"><![CDATA[<h3id="lambdaè¡¨è¾¾å¼ä¸streamç¬”è®°02--stream-api">Lambdaè¡¨è¾¾å¼ä¸Streamç¬”è®°02--StreamAPI</h3><h4 id="stream-åŸºç¡€çŸ¥è¯†">Stream åŸºç¡€çŸ¥è¯†</h4><ul><li><h5 id="streamçš„ä¸‰ä¸ªæ“ä½œæ­¥éª¤">Streamçš„ä¸‰ä¸ªæ“ä½œæ­¥éª¤ï¼š</h5><p>ï¼ˆ1ï¼‰åˆ›å»ºStream</p><p>ï¼ˆ2ï¼‰ä¸­é—´æ“ä½œ</p><p>ï¼ˆ3ï¼‰ç»ˆæ­¢æ“ä½œï¼ˆç»ˆç«¯æ“ä½œï¼‰</p></li><li><h5 id="åˆ›å»ºstreamçš„å››ç§æ–¹å¼">åˆ›å»ºStreamçš„å››ç§æ–¹å¼ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 1. é€šè¿‡Collection ç³»åˆ—é›†åˆæä¾›çš„ stream() æˆ– parallelStream()</span><br>      List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>      Stream&lt;String&gt; stream1 = list.stream();<br>  <br>      <span class="hljs-comment">// 2. é€šè¿‡Arraysä¸­çš„é™æ€æ–¹æ³• stream() è·å–æ•°ç»„æµ</span><br>      String[] strings = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[<span class="hljs-number">10</span>];<br>      Stream&lt;String&gt; stream2 = Arrays.stream(strings);<br>  <br>      <span class="hljs-comment">// 3. é€šè¿‡Streamä¸­çš„é™æ€æ–¹æ³• of()</span><br>      Stream&lt;String&gt; stream3 = Stream.of(<span class="hljs-string">&quot;aa&quot;</span>, <span class="hljs-string">&quot;bb&quot;</span>, <span class="hljs-string">&quot;cc&quot;</span>);<br>  <br>      <span class="hljs-comment">// 4. åˆ›å»ºæ— é™æµ</span><br>      <span class="hljs-comment">// (1) è¿­ä»£</span><br>      Stream&lt;Integer&gt; stream41 = Stream.iterate(<span class="hljs-number">0</span>, (x) -&gt; x + <span class="hljs-number">2</span>);<br>  <br>      <span class="hljs-comment">// (2) ç”Ÿæˆ</span><br>      Stream&lt;Double&gt; stream42 = Stream.generate(Math::random);<br></code></pre></td></tr></table></figure></li><li><h5 id="stream-çš„ä¸­é—´æ“ä½œ">Stream çš„ä¸­é—´æ“ä½œ</h5><ul><li><h6 id="æƒ°æ€§æ±‚å€¼">æƒ°æ€§æ±‚å€¼</h6><p>å¤šä¸ªä¸­é—´æ“ä½œå¯ä»¥è¿æ¥èµ·æ¥å½¢æˆä¸€ä¸ªæµæ°´çº¿ï¼Œé™¤éæµæ°´çº¿ä¸Šè§¦å‘ç»ˆæ­¢æ“ä½œï¼Œå¦åˆ™ä¸­é—´æ“ä½œä¸ä¼šæ‰§è¡Œä»»ä½•çš„å¤„ç†ï¼Œè€Œåœ¨ç»ˆæ­¢æ“ä½œæ—¶ä¸€æ¬¡æ€§å…¨éƒ¨å¤„ç†ï¼Œç§°ä¸ºâ€œæƒ°æ€§æ±‚å€¼â€ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä¸­é—´æ“ä½œï¼š ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œ</span><br>      Stream&lt;Employee&gt; stream = employees.stream()<br>              .filter((e) -&gt; &#123;<br>                  System.out.println(<span class="hljs-string">&quot;Stream API çš„ä¸­é—´æ“ä½œ&quot;</span>);<br>                  <span class="hljs-keyword">return</span> e.getAge() &gt; <span class="hljs-number">35</span>;<br>              &#125;);<br>    <br>      <span class="hljs-comment">// ç»ˆæ­¢æ“ä½œï¼š ä¸€æ¬¡æ€§æ‰§è¡Œå…¨éƒ¨å†…å®¹ï¼Œå³ â€œæƒ°æ€§æ±‚å€¼â€</span><br>      stream.forEach(System.out::println); <span class="hljs-comment">// è‹¥æ³¨é‡Šæ­¤è¡Œï¼Œä¸ä¼šæœ‰ä»»ä½•è¾“å‡º</span><br></code></pre></td></tr></table></figure></li><li><h6 id="ç­›é€‰ä¸åˆ‡ç‰‡">ç­›é€‰ä¸åˆ‡ç‰‡</h6><table><thead><tr class="header"><th>æ“ä½œ</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>fliter</td><td>æ¥æ”¶ Lambda ï¼Œä»æµä¸­æ’é™¤æŸäº›å…ƒç´ </td></tr><tr class="even"><td>limit</td><td>æˆªæ–­æµï¼Œä½¿å…ƒç´ ä¸è¶…è¿‡ç»™å®šæ•°é‡</td></tr><tr class="odd"><td>skip(n)</td><td>è·³è¿‡å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰nä¸ªå…ƒç´ çš„æµ</td></tr><tr class="even"><td>distinct</td><td>ç­›é€‰ï¼Œé€šè¿‡å…ƒç´ çš„hashcode() å’Œ equals å»é™¤é‡å¤å…ƒç´ </td></tr></tbody></table></li><li><h6 id="æ˜ å°„">æ˜ å°„</h6><table><colgroup><col style="width: 10%" /><col style="width: 89%" /></colgroup><thead><tr class="header"><th>æ“ä½œ</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>map</td><td>æ¥æ”¶lambdaï¼Œå°†å…ƒç´ è½¬æ¢æˆå…¶ä»–å½¢å¼æˆ–æå–ä¿¡æ¯ã€‚æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚</td></tr><tr class="even"><td>flatMap</td><td>æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰çš„æµè¿æ¥æˆä¸€ä¸ªæµã€‚</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// map</span><br>List&lt;String&gt; list = Arrays.asList(<span class="hljs-string">&quot;aaa&quot;</span>, <span class="hljs-string">&quot;bbb&quot;</span>, <span class="hljs-string">&quot;ccc&quot;</span>, <span class="hljs-string">&quot;ddd&quot;</span>);<br>list.stream()<br>    .map(String::toUpperCase)<br>    .forEach(System.out::println);<br></code></pre></td></tr></table></figure></li><li><h6 id="æ’åº">æ’åº</h6><table><thead><tr class="header"><th>æ“ä½œ</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>sorted</td><td>è‡ªç„¶æ’åº</td></tr><tr class="even"><td>sorted(Comparator com)</td><td>å®šåˆ¶æ’åº</td></tr></tbody></table></li></ul></li><li><h5 id="stream-çš„ç»ˆæ­¢æ“ä½œ">Stream çš„ç»ˆæ­¢æ“ä½œ</h5><ul><li><h6 id="æŸ¥æ‰¾ä¸åŒ¹é…">æŸ¥æ‰¾ä¸åŒ¹é…</h6><table><thead><tr class="header"><th>æ“ä½œ</th><th>è¯´æ˜</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr class="odd"><td>allMatch</td><td>æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´ </td><td>boolean</td></tr><tr class="even"><td>anyMatch</td><td>æ£€æŸ¥æ˜¯å¦åŒ¹é…è‡³å°‘ä¸€ä¸ªå…ƒç´ </td><td>boolean</td></tr><tr class="odd"><td>noneMatch</td><td>æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…æ‰€æœ‰å…ƒç´ </td><td>boolean</td></tr><tr class="even"><td>findFirst</td><td>è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ </td><td>Optional<T></td></tr><tr class="odd"><td>findAny</td><td>è¿”å›å½“å‰æµä¸­çš„ä»»æ„å…ƒç´ </td><td>Optional<T></td></tr><tr class="even"><td>count</td><td>è¿”å›æµä¸­å…ƒç´ çš„ä¸ªæ•°</td><td>Long</td></tr><tr class="odd"><td>max(Comparator com)</td><td>è¿”å›æµä¸­æœ€å¤§å€¼</td><td>Optional<T></td></tr><tr class="even"><td>min(Comparator com)</td><td>è¿”å›æµä¸­æœ€å°å€¼</td><td>Optional<T></td></tr></tbody></table><p>--Optionalå®¹å™¨ï¼šæ“ä½œç»“æœå¯èƒ½ä¸ºç©ºæ—¶ï¼Œè¿”å›Optionalå®¹å™¨ï¼Œè§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸</p></li><li><h6 id="è§„çº¦">è§„çº¦</h6><ul><li><p>reduce(T identity, BinaryOperator bo) ---------------ä¸å¯èƒ½ä¸ºç©ºï¼Œå› ä¸ºæœ‰åˆå§‹å€¼ identityï¼Œ æ‰€ä»¥è¿”å› T</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;Integer&gt; list = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>);<br><span class="hljs-type">Integer</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> list.stream()<br>                  .reduce(<span class="hljs-number">0</span>, Integer::sum);<br>System.out.println(sum);<br></code></pre></td></tr></table></figure></li><li><p>reduce(BinaryOperator bo) --------------å¯èƒ½ä¸ºç©ºï¼Œè¿”å›Optional</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">Optional&lt;Integer&gt; op = list.stream()<br>                           .reduce(Integer::sum);<br>System.out.println(op.get());<br></code></pre></td></tr></table></figure></li></ul></li><li><h6 id="æ”¶é›†">æ”¶é›†</h6><ul><li><p>collect --å°†æµè½¬æ¢æˆå…¶ä»–å½¢å¼ã€‚æ¥æ”¶ä¸€ä¸ªCollectoræ¥å£çš„å®ç°ï¼Œç”¨äºç»™æµä¸­çš„å…ƒç´ åšæ±‡æ€»çš„æ–¹æ³•ã€‚</p><p>â€‹ --å¯ä»¥ä½¿ç”¨ Collectorså·¥å…·ç±»ä¸­æä¾›çš„è¯¸å¤šé™æ€æ–¹æ³•è·å–å·²å®ç°çš„æ”¶é›†å™¨ã€‚</p><p>Collectors ä¸­å¸¸ç”¨çš„æ”¶é›†å™¨ï¼š</p><p>toList ã€toSetã€groupingByï¼ˆåˆ†ç»„ï¼‰</p></li></ul></li></ul></li><li><p>å¹¶è¡Œæµä¸é¡ºåºæµ</p><p>â€‹ è°ƒç”¨ parallel() æ–¹æ³•æˆ– sequential() åˆ‡æ¢å¹¶è¡Œæµ æˆ– ä¸²è¡Œæµ</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Lambdaè¡¨è¾¾å¼;Stream API</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Javaé›†åˆæ¡†æ¶ç¬”è®°03--Map;Collectionså·¥å…·ç±»</title>
    <link href="/2022/05/10/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/JavaCollectionNotes03/"/>
    <url>/2022/05/10/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/JavaCollectionNotes03/</url>
    
    <content type="html"><![CDATA[<h3 id="javaé›†åˆæ¡†æ¶ç¬”è®°03">Javaé›†åˆæ¡†æ¶ç¬”è®°03</h3><h4 id="map-ä½“ç³»">Map ä½“ç³»</h4><div data-align="center"><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/JavaCollectionNotes/02_Map.png" width="25%" style="center"/>`</p></div><ul><li><h5 id="mapç‰¹ç‚¹">Mapç‰¹ç‚¹</h5><p>ï¼ˆ1ï¼‰å­˜å‚¨ä»»æ„é”®å€¼å¯¹</p><p>ï¼ˆ2ï¼‰é”®ï¼šæ— åºã€æ— ä¸‹æ ‡ã€ä¸å…è®¸é‡å¤ï¼ˆå”¯ä¸€ï¼‰</p><p>ï¼ˆ3ï¼‰å€¼ï¼šæ— åºã€æ— ä¸‹æ ‡ã€å…è®¸é‡å¤</p></li><li><h5 id="éå†æ–¹æ³•">éå†æ–¹æ³•</h5><ul><li><p>keySet</p></li><li><p>entrySet ï¼ˆæ•ˆç‡é«˜äºkeySetï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><pre><code class="hljs java">Map&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><span class="hljs-comment">// æ·»åŠ å…ƒç´ </span><br>map.put(<span class="hljs-string">&quot;cn&quot;</span>, <span class="hljs-string">&quot;ä¸­å›½&quot;</span>);<br>map.put(<span class="hljs-string">&quot;uk&quot;</span>, <span class="hljs-string">&quot;è‹±å›½&quot;</span>);<br>map.put(<span class="hljs-string">&quot;usa&quot;</span>, <span class="hljs-string">&quot;ç¾å›½&quot;</span>);<br><span class="hljs-comment">// map.put(&quot;cn&quot;, &quot;zhongguo&quot;); ä¼šè¦†ç›– â€œä¸­å›½â€ çš„å€¼</span><br><br><span class="hljs-comment">// éå†--ä¸¤ç§æ–¹å¼ï¼šï¼ˆ1ï¼‰ keySet ï¼ˆ2ï¼‰entrySet</span><br>System.out.println(<span class="hljs-string">&quot;====ä½¿ç”¨ keySet éå†====&quot;</span>);<br><span class="hljs-keyword">for</span> (String key: map.keySet()) &#123;<br>    System.out.println(key + <span class="hljs-string">&quot;-----------&quot;</span> + map.get(key));<br>&#125;<br><br>System.out.println(<span class="hljs-string">&quot;====ä½¿ç”¨ entrySet éå†====&quot;</span>);<br><span class="hljs-keyword">for</span> (Map.Entry&lt;String, String&gt; entry:  map.entrySet()) &#123;<br>    System.out.println(entry.getKey() + <span class="hljs-string">&quot;-----------&quot;</span> + entry.getValue());<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ul><h4 id="map-å®ç°ç±»">Map å®ç°ç±»</h4><h5 id="hashmap">HashMap</h5><ul><li><h5 id="å±æ€§">å±æ€§</h5><table><colgroup><col style="width: 4%" /><col style="width: 25%" /><col style="width: 6%" /><col style="width: 63%" /></colgroup><thead><tr class="header"><th style="text-align: left;"></th><th>å±æ€§</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">1</td><td>DEFAULT_INITIAL_CAPACITY</td><td>16</td><td>é»˜è®¤åˆå§‹å®¹é‡</td></tr><tr class="even"><td style="text-align: left;">2</td><td>DEFAULT_LOAD_FACTOR</td><td>0.75f</td><td>é»˜è®¤åŠ è½½å› å­ï¼ˆè¾¾åˆ°å®¹é‡çš„75%ä»¥åï¼Œè¿›è¡Œæ‰©å®¹ï¼‰</td></tr><tr class="odd"><td style="text-align: left;">3</td><td>TREEIFY_THRESHOLD</td><td>8</td><td>æ¡¶é“¾è¡¨é•¿åº¦å¤§äºæ­¤å€¼åï¼Œï¼ˆä¸”æ•°ç»„é•¿åº¦å¤§äº64---è§&lt;5&gt;ï¼‰ï¼Œå°†é“¾è¡¨è°ƒæ•´æˆæ ‘</td></tr><tr class="even"><td style="text-align: left;">4</td><td>UNTREEIFY_THRESHOLD</td><td>6</td><td>æ ‘çš„å…ƒç´ ä¸ªæ•°å°äº6æ—¶ï¼Œè°ƒæ•´å›é“¾è¡¨</td></tr><tr class="odd"><td style="text-align: left;">5</td><td>MIN_TREEIFY_CAPACITY</td><td>64</td><td>&lt;3&gt;ä¸­æ ‘åŒ–çš„å¦ä¸€ä¸ªæ¡ä»¶</td></tr></tbody></table></li><li><h5 id="æ€»ç»“">æ€»ç»“</h5><p>ï¼ˆ1ï¼‰HashMapåˆšåˆ›å»ºæ—¶ï¼Œtableæ˜¯nullï¼ˆèŠ‚çœç©ºé—´ï¼‰ï¼Œæ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œtableå®¹é‡è°ƒæ•´ä¸º16</p><p>ï¼ˆ2ï¼‰å½“å…ƒç´ ä¸ªæ•°å¤§äºé˜ˆå€¼ï¼ˆcap*0.75ï¼‰æ—¶ï¼Œä¼šè¿›è¡Œæ‰©å®¹ï¼Œå®¹é‡å˜ä¸ºåŸæ¥çš„2å€ï¼ˆ2å€ï¼šå‡å°‘è°ƒæ•´å…ƒç´ çš„ä¸ªæ•°ï¼‰</p><p>ï¼ˆ3ï¼‰jdk1.8ï¼š</p><ul><li><p>å½“æ¯ä¸ªé“¾è¡¨é•¿åº¦å¤§äº8ï¼Œä¸”æ•°ç»„å…ƒç´ ä¸ªæ•°å¤§äº64æ—¶ï¼Œè°ƒæ•´ä¸ºçº¢é»‘æ ‘ï¼Œç›®çš„æ˜¯æé«˜æ‰§è¡Œæ•ˆç‡</p></li><li><p>å½“é“¾è¡¨é•¿åº¦å°äº6æ—¶ï¼Œè°ƒæ•´æˆé“¾è¡¨</p></li></ul><p>ï¼ˆ4ï¼‰jdk1.8ä»¥å‰ï¼Œé“¾è¡¨æ˜¯å¤´æ’å…¥ï¼Œjdk1.8ä»¥åæ˜¯å°¾æ’å…¥</p><p>ï¼ˆ5ï¼‰çº¿ç¨‹ä¸å®‰å…¨ï¼Œè¿è¡Œæ•ˆç‡å¿«ï¼›å…è®¸ç”¨nullä½œä¸ºkeyæˆ–value</p></li></ul><h5 id="hashtable">Hashtable</h5><ul><li>çº¿ç¨‹å®‰å…¨ï¼Œè¿è¡Œæ•ˆç‡æ…¢ï¼›ä¸å…è®¸nullä½œä¸ºkeyæˆ–value</li></ul><h5 id="properties">Properties</h5><ul><li>Hashtableçš„å­ç±»ï¼Œè¦æ±‚keyã€valueéƒ½æ˜¯Stringã€‚é€šå¸¸ç”¨äºé…ç½®æ–‡ä»¶çš„è¯»å–ã€‚</li></ul><h5 id="treemap">TreeMap</h5><ul><li>å®ç°äº†SortedMapæ¥å£ï¼Œå¯ä»¥å¯¹keyè‡ªåŠ¨æ’åº</li></ul><h4 id="collectionså·¥å…·ç±»">Collectionså·¥å…·ç±»</h4><p>åŒ…å«å¾ˆå¤šæ“ä½œé›†åˆçš„é™æ€æ–¹æ³•ã€‚</p><p>ï¼ˆ1ï¼‰sortã€binarySearchã€reverseã€shuffleã€copyç­‰</p><h4 id="é›†åˆæ•°ç»„ç›¸äº’è½¬æ¢">é›†åˆã€æ•°ç»„ç›¸äº’è½¬æ¢</h4><ul><li><p>æ•°ç»„è½¬é›†åˆåï¼Œå¾—åˆ°çš„æ˜¯å—é™é›†åˆï¼Œä¸èƒ½æ·»åŠ å’Œåˆ é™¤</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">String[] names = &#123;<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>, <span class="hljs-string">&quot;æå››&quot;</span>, <span class="hljs-string">&quot;ç‹äº”&quot;</span>&#125;;<br>List&lt;String&gt; nameList = Arrays.asList(names);<br><span class="hljs-comment">// nameList.add(&quot;èµµå…­&quot;);    // æŠ¥é”™ï¼šjava.lang.UnsupportedOperationException</span><br>System.out.println(nameList);<br></code></pre></td></tr></table></figure></li><li><p>æŠŠåŸºæœ¬ç±»å‹çš„æ•°ç»„è½¬æˆé›†åˆæ—¶ï¼Œéœ€è¦ä¿®æ”¹ä¸ºåŒ…è£…ç±»å‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] nums = &#123;<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">400</span>, <span class="hljs-number">500</span>&#125;;<br>List&lt;<span class="hljs-type">int</span>[]&gt; list = Arrays.asList(nums);     <span class="hljs-comment">// è¿”å›ç±»å‹ï¼šæ•°ç»„ çš„åˆ—è¡¨</span><br>Integer[] nums2 = &#123;<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">400</span>, <span class="hljs-number">500</span>&#125;;<br>List&lt;Integer&gt; integers = Arrays.asList(nums2);    <span class="hljs-comment">// è¿”å›ç±»å‹ï¼šåŒ…è£…ç±»  Integerçš„åˆ—è¡¨</span><br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>Javaé›†åˆæ¡†æ¶</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Javaé›†åˆæ¡†æ¶ç¬”è®°02--æ³›å‹;Set</title>
    <link href="/2022/05/05/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/JavaCollectionNotes02/"/>
    <url>/2022/05/05/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/JavaCollectionNotes02/</url>
    
    <content type="html"><![CDATA[<h3 id="javaé›†åˆæ¡†æ¶ç¬”è®°02">Javaé›†åˆæ¡†æ¶ç¬”è®°02</h3><h4 id="æ³›å‹">æ³›å‹</h4><ul><li><h5 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h5><ul><li><p>æœ¬è´¨ï¼šå‚æ•°åŒ–ç±»å‹ï¼ŒæŠŠç±»å‹ä½œä¸ºå‚æ•°ä¼ é€’</p></li><li><p>å¸¸è§å½¢å¼ï¼šæ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•</p></li><li><p>è¯­æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs java">&lt;T, ...&gt;     <span class="hljs-comment">// Tç§°ä¸ºç±»å‹å ä½ç¬¦ï¼Œè¡¨ç¤ºä¸€ç§å¼•ç”¨ç±»å‹</span><br></code></pre></td></tr></table></figure></li><li><p>å¥½å¤„ï¼š</p><p>ï¼ˆ1ï¼‰æé«˜ä»£ç çš„é‡ç”¨æ€§</p><p>ï¼ˆ2ï¼‰é˜²æ­¢ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œæé«˜ä»£ç çš„å®‰å…¨æ€§</p></li><li><p>æ³¨æ„ç‚¹ï¼š</p><p>ï¼ˆ1ï¼‰æ³›å‹åªèƒ½ ä½¿ç”¨å¼•ç”¨ç±»å‹</p><p>ï¼ˆ2ï¼‰ä¸åŒæ³›å‹å¯¹è±¡ä¹‹é—´ä¸èƒ½ç›¸äº’èµ‹å€¼</p></li></ul></li><li><h5 id="æ³›å‹ç±»çš„ç»§æ‰¿">æ³›å‹ç±»çš„ç»§æ‰¿</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Father</span>&lt;T1, T2&gt; &#123;<br>&#125;<br><br><span class="hljs-comment">// å­ç±»ä¸ä¿ç•™çˆ¶ç±»çš„æ³›å‹</span><br><span class="hljs-comment">// ï¼ˆ1ï¼‰æ²¡æœ‰ç±»å‹  æ“¦é™¤</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Son</span>&lt;A, B&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Father</span> &#123; <br>    <span class="hljs-comment">// ç­‰ä»·äº  class Son extends Father&lt;Object, Object&gt;</span><br>&#125;<br><br><span class="hljs-comment">// ï¼ˆ2ï¼‰å…·ä½“ç±»å‹</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Son2</span>&lt;A, B&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Father</span>&lt;Integer, String&gt; &#123;<br>&#125;<br><br><span class="hljs-comment">// å­ç±»ä¿ç•™çˆ¶ç±»çš„æ³›å‹</span><br><span class="hljs-comment">// ï¼ˆ1ï¼‰å…¨éƒ¨ä¿ç•™</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Son3</span>&lt;T1, T2, A, B&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Father</span>&lt;T1, T2&gt;&#123;<br>&#125;<br><br><span class="hljs-comment">// ï¼ˆ2ï¼‰éƒ¨åˆ†ä¿ç•™</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Son4</span>&lt;T2, A, B&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Father</span>&lt;Integer, T2&gt;&#123;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h5 id="æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°">æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°</h5><ul><li><p>ç±»Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼Œä½†G<A>å’ŒG<B>äºŒè€…ä¸å…·å¤‡å­çˆ¶ç±»å…³ç³»ï¼ŒäºŒè€…æ˜¯å¹¶åˆ—å…³ç³»</p><ul><li>G<A>å’ŒG<B>äºŒè€…å…±åŒçš„çˆ¶ç±»æ˜¯G&lt;?&gt; --------- ?ä¸ºé€šé…ç¬¦</li></ul></li><li><p>ç±»ï¼ˆæ¥å£ï¼‰Aæ˜¯ç±»Bçš„çˆ¶ç±»ï¼ˆæ¥å£ï¼‰ï¼ŒA<G>æ˜¯B<G>çš„çˆ¶ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">AbstractList&lt;String&gt; list1 = <span class="hljs-literal">null</span>;<br>List&lt;String&gt; list2 = <span class="hljs-literal">null</span>;<br>ArrayList&lt;String&gt; list3 = <span class="hljs-literal">null</span>;<br>list1 = list3;      <span class="hljs-comment">// å…è®¸</span><br>list2 = list3;      <span class="hljs-comment">// å…è®¸</span><br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨é€šé…ç¬¦åçš„è®¿é—®è¦æ±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;String&gt; list1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>list1.add(<span class="hljs-string">&quot;AA&quot;</span>);<br>list1.add(<span class="hljs-string">&quot;BB&quot;</span>);<br>list1.add(<span class="hljs-string">&quot;CC&quot;</span>);<br><br>List&lt;?&gt; list2 = list1;<br><br><span class="hljs-comment">// æ·»åŠ ï¼ˆå†™å…¥ï¼‰ï¼šå¯¹äºList&lt;?&gt;ä¸èƒ½å‘å…¶å†…éƒ¨æ·»åŠ æ•°æ®</span><br><span class="hljs-comment">// é™¤äº†æ·»åŠ nullä¹‹å¤–ã€‚</span><br><span class="hljs-comment">//list2.add(&quot;AA&quot;);       // ç¼–è¯‘æŠ¥é”™</span><br>list2.add(<span class="hljs-literal">null</span>);         <span class="hljs-comment">// å…è®¸</span><br><br><span class="hljs-comment">// è¯»å–ï¼šå…è®¸è¯»å–æ•°æ®ï¼Œè¯»å–çš„æ•°æ®ç±»å‹ä¸ºObject</span><br><span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> list2.get(<span class="hljs-number">0</span>);<br>System.out.println(o);<br></code></pre></td></tr></table></figure></li><li><p>æœ‰é™åˆ¶æ¡ä»¶çš„é€šé…ç¬¦çš„ä½¿ç”¨</p><ul><li>? ï¼š ï¼ˆ-âˆ, +âˆï¼‰</li><li>? extends Father: ï¼ˆ-âˆ, Father]</li><li>? super Father : [Father, +âˆï¼‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Father</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Father</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo4</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        ?   ï¼š ï¼ˆ-âˆ, +âˆï¼‰</span><br><span class="hljs-comment">        ? extends Father: ï¼ˆ-âˆ, Father]</span><br><span class="hljs-comment">        ? super Father  :  [Father, +âˆï¼‰</span><br><span class="hljs-comment">         */</span><br><br>        List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Father</span>&gt; list1 = <span class="hljs-literal">null</span>;<br>        List&lt;? <span class="hljs-built_in">super</span> Father&gt; list2 = <span class="hljs-literal">null</span>;<br><br>        List&lt;Student&gt; list3 = <span class="hljs-literal">null</span>;<br>        List&lt;Father&gt; list4 = <span class="hljs-literal">null</span>;<br>        List&lt;Object&gt; list5 = <span class="hljs-literal">null</span>;<br><br>        list1 = list3;<br>        list1 = list4;<br>        <span class="hljs-comment">// list1 = list5;   //ä¸å…è®¸</span><br><br>        <span class="hljs-comment">// list2 = list3;   //ä¸å…è®¸</span><br>        list2 = list4;<br>        list2 = list5;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ul><h4 id="æ³›å‹é›†åˆ">æ³›å‹é›†åˆ</h4><ul><li><h5 id="åŸºæœ¬æ¦‚å¿µ-1">åŸºæœ¬æ¦‚å¿µ</h5><ul><li>å‚æ•°åŒ–ç±»å‹ã€ç±»å‹å®‰å…¨çš„é›†åˆï¼Œå¼ºåˆ¶é›†åˆå…ƒç´ çš„ç±»å‹å¿…é¡»ä¸€è‡´ã€‚</li><li>ç‰¹ç‚¹ï¼š<ul><li>ç¼–è¯‘æ—¶å³å¯æ£€æŸ¥ï¼Œè€Œéè¿è¡Œæ—¶æŠ›å‡ºå¼‚å¸¸ã€‚</li><li>è®¿é—®æ—¶ï¼Œä¸å¿…ç±»å‹è½¬æ¢ã€‚</li><li>ä¸åŒæ³›å‹ä¹‹é—´å¼•ç”¨ä¸èƒ½ç›¸äº’èµ‹å€¼ï¼Œæ³›å‹ä¸å­˜åœ¨å¤šæ€ã€‚</li></ul></li></ul></li></ul><h4 id="set">Set</h4><ul><li><h5 id="åŸºæœ¬æ¦‚å¿µ-2">åŸºæœ¬æ¦‚å¿µ</h5><ul><li>ç‰¹ç‚¹ï¼šæ— åºã€æ— ä¸‹æ ‡ã€å…ƒç´ ä¸å¯é‡å¤</li><li>æ–¹æ³•ï¼šå…¨éƒ¨ç»§æ‰¿è‡ªCollectionä¸­çš„æ–¹æ³•</li></ul></li><li><h5 id="éå†æ–¹å¼">éå†æ–¹å¼</h5><ul><li>å¢å¼ºfor</li><li>è¿­ä»£å™¨</li></ul></li></ul><h4 id="set-çš„å®ç°ç±»">Set çš„å®ç°ç±»</h4><ul><li><h5 id="hashset">HashSet</h5><ul><li>åŸºäºHashCodeè®¡ç®—å…ƒç´ çš„å­˜æ”¾ä½ç½®</li><li>å½“å­˜å…¥å…ƒç´ çš„å“ˆå¸Œç ç›¸åŒæ—¶ï¼Œè°ƒç”¨equalsç¡®è®¤ï¼Œå¦‚æœç»“æœä¸ºtrueï¼Œæ‹’ç»åè€…å­˜å…¥</li><li>å­˜å‚¨ç»“æ„ï¼šå“ˆå¸Œè¡¨ï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰</li></ul></li><li><h5 id="treeset">TreeSet</h5><ul><li>åŸºäºæ’åˆ—é¡ºåºå®ç°å…ƒç´ ä¸é‡å¤</li><li>å®ç°äº†SortedSetæ¥å£ï¼Œå¯¹é›†åˆå…ƒç´ è‡ªåŠ¨æ’åº</li><li>å…ƒç´ å¯¹è±¡çš„ç±»å‹å¿…é¡»å®ç°Comparableæ¥å£ï¼ŒæŒ‡å®šæ’åºçš„è§„åˆ™<ul><li>é€šè¿‡è¯¥æ¥å£ä¸­çš„CompareToæ–¹æ³•ç¡®å®šæ˜¯å¦ä¸ºé‡å¤å…ƒç´ </li></ul></li><li>å­˜å‚¨ç»“æ„ï¼šçº¢é»‘æ ‘</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>Javaé›†åˆæ¡†æ¶</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Javaé›†åˆæ¡†æ¶ç¬”è®°01--CollectionåŸºç¡€æ¦‚å¿µ; ListåŠå®ç°ç±»</title>
    <link href="/2022/05/01/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/JavaCollectionNotes01/"/>
    <url>/2022/05/01/Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/JavaCollectionNotes01/</url>
    
    <content type="html"><![CDATA[<h3 id="javaé›†åˆæ¡†æ¶ç¬”è®°01">Javaé›†åˆæ¡†æ¶ç¬”è®°01</h3><h4 id="åŸºç¡€æ¦‚å¿µ">åŸºç¡€æ¦‚å¿µ</h4><ul><li>é›†åˆï¼š å¯¹è±¡çš„å®¹å™¨ï¼Œå®ç°äº†å¯¹ å¯¹è±¡ å¸¸ç”¨çš„æ“ä½œï¼Œç±»ä¼¼æ•°ç»„çš„åŠŸèƒ½ã€‚</li><li>é›†åˆä¸æ•°ç»„çš„åŒºåˆ«ï¼š<ul><li>æ•°ç»„é•¿åº¦å›ºå®šï¼Œé›†åˆé•¿åº¦ä¸å›ºå®šã€‚</li><li>æ•°ç»„å¯ä»¥å­˜å‚¨åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œé›†åˆåªèƒ½å­˜å‚¨å¼•ç”¨ç±»å‹</li></ul></li></ul><h4 id="collectionä½“ç³»é›†åˆ">Collectionä½“ç³»é›†åˆ</h4><ul><li><h5 id="collectionä½“ç³»é›†åˆæ¡†æ¶">Collectionä½“ç³»é›†åˆæ¡†æ¶ï¼š</h5><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/JavaCollectionNotes/01_Collection.png" width="70%" style="center"/>`</p></li><li><h5 id="collectionçˆ¶æ¥å£">Collectionçˆ¶æ¥å£</h5><ul><li><h6 id="æ–¹æ³•">æ–¹æ³•ï¼š</h6><ul><li>boolean add(E e) // æ·»åŠ ä¸€ä¸ªå…ƒç´ </li><li>boolean addAll(Collection c) // å°†é›†åˆcä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°æ­¤é›†åˆ</li><li>void clear() // æ¸…ç©ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </li><li>boolean contains(Object o) // æ£€æŸ¥é›†åˆä¸­æ˜¯å¦åŒ…å«oå…ƒç´ </li><li>boolean containsAll(Collection c) //æ£€æŸ¥é›†åˆä¸­æ˜¯å¦åŒ…å«cä¸­æ‰€æœ‰å…ƒç´ </li><li>boolean equals(Object obj) // equals</li><li>boolean isEmpty() // åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºé›†åˆ</li><li>boolean remove(Object o) // ç§»é™¤oå…ƒç´ </li><li>boolean removeAll(Collection c) //ç§»é™¤ä¹ŸåŒ…å«åœ¨é›†åˆcä¸­çš„æ‰€æœ‰å…ƒç´ </li><li>boolean retainAll(Collection c) //ç›¸å½“äºäº¤é›†ï¼Œä»…æ­¤é›†åˆä¸­ä¿ç•™ä¹ŸåŒ…å«åœ¨cä¸­çš„å…ƒç´ </li><li>int size() // è¿”å›é›†åˆä¸­çš„å…ƒç´ çš„ä¸ªæ•°</li><li>Object[] toArray() // å°†é›†åˆè½¬æ¢æˆæ•°ç»„</li></ul></li><li><h6 id="éå†collection">éå†Collectionï¼š</h6><ul><li><p>å¢å¼ºfor ï¼ˆfor-eachï¼‰</p></li><li><p>è¿­ä»£å™¨ï¼ˆIteratorï¼‰</p><p>ï¼ˆ1ï¼‰æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼š</p><ul><li>hasNext(); // æœ‰æ²¡æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ </li><li>next(); // è·å–ä¸‹ä¸€ä¸ªå…ƒç´ </li><li>remove(); // åˆ é™¤ä¸€ä¸ªå…ƒç´ </li></ul><p>ï¼ˆ2ï¼‰ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆçš„å…¸å‹ä»£ç æ®µï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Iterator</span> <span class="hljs-variable">it</span> <span class="hljs-operator">=</span> collection.iterator();<br><span class="hljs-keyword">while</span> (it.hasNext()) &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> (String) it.next();<br>    System.out.println(s);<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     * !!! ä¸å…è®¸éå†è¿‡ç¨‹ä¸­ä½¿ç”¨Collectionä¸­çš„å…¶ä»–æ–¹æ³•æ”¹å˜é›†åˆä¸­çš„å…ƒç´  !!!</span><br><span class="hljs-comment">     * å¦åˆ™å°†æŠ›å‡ºâ€œConcurrentModificationExceptionâ€ å¹¶å‘ä¿®æ”¹å¼‚å¸¸</span><br><span class="hljs-comment">     * ä½†å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨ä¸­çš„remove()æ–¹æ³•åˆ é™¤å…ƒç´ </span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-comment">// collection.remove(s);    // ä¸å…è®¸ï¼ æŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸</span><br>    <span class="hljs-comment">// it.remove();             // å…è®¸</span><br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹</p></li></ul></li></ul></li><li><h5 id="listå­æ¥å£">Listå­æ¥å£</h5><ul><li><h6 id="ç‰¹ç‚¹">ç‰¹ç‚¹ï¼š</h6><p>æœ‰åºã€æœ‰ä¸‹æ ‡ã€å…ƒç´ å¯é‡å¤</p></li><li><h6 id="æ–¹æ³•-1">æ–¹æ³•ï¼š</h6><p>åŒ…å«Collectionçˆ¶æ¥å£ä¸­çš„å…¨éƒ¨æ–¹æ³•ï¼Œå¹¶åŒ…å«ä»¥ä¸‹æ–¹æ³•ï¼š</p><ul><li>void add(int index, E element) // å°†å…ƒç´ æ’å…¥æŒ‡å®šä½ç½®</li><li>boolean addAll(int index, Collection c) //å°†cä¸­çš„æ‰€æœ‰å…ƒç´ æ’å…¥åˆ°æ­¤é›†åˆçš„æŒ‡å®šä½ç½®</li><li>E get(int index) // è·å–æŒ‡å®šä½ç½®çš„å…ƒç´ </li><li>List subList(int fromIndex, int toIndex) // æˆªå–éƒ¨åˆ†åˆ—è¡¨</li><li>indexOf(Object o) // è·å–oç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</li><li>lastIndexOf(Object o) //</li><li>remove(int index)</li></ul></li><li><h6 id="éå†æ–¹å¼">éå†æ–¹å¼ï¼š</h6><p>å¯ä»¥ä½¿ç”¨forã€å¢å¼ºforã€è¿­ä»£å™¨éå†</p></li><li><h6 id="listiterator">ListIteratorï¼š</h6><p>æ¯”Collectionçš„IteratoråŠŸèƒ½æ›´å¼ºå¤§ï¼Œæ—¢å¯ä»¥å‰å‘éå†ï¼Œåˆå¯ä»¥åå‘éå†ï¼Œè¿˜å¯ä»¥åœ¨éå†è¿‡ç¨‹ä¸­æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤å…ƒç´ ã€‚</p><p>â€‹ åŒ…å«ä»¥ä¸‹æ–¹æ³•ï¼š</p><ul><li>void add(E e) // å°†eæ’å…¥list</li><li>boolean hasNext()<br /></li><li>boolean hasPrevious()</li><li>E next() // è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ å¹¶ç§»åŠ¨æ¸¸æ ‡</li><li>int nextIndex() // è¿”å›ä¸‹ä¸ªå…ƒç´ çš„ä¸‹æ ‡</li><li>E previous()</li><li>int previousIndex()</li><li>void remove() // åˆ é™¤ä¸Šä¸€æ¬¡è°ƒç”¨nextæˆ–previousè¿”å›çš„å…ƒç´ </li><li>void set(E e) // ä¿®æ”¹ä¸Šä¸€æ¬¡è°ƒç”¨nextæˆ–previousè¿”å›çš„å…ƒç´ </li></ul></li></ul></li><li><h5 id="listçš„å®ç°ç±»">Listçš„å®ç°ç±»ï¼š</h5><ul><li>ArrayList<ul><li>æ•°ç»„ç»“æ„å®ç°ï¼ŒæŸ¥è¯¢å¿«ã€å¢åˆ æ…¢</li><li>è¿è¡Œæ•ˆç‡å¿«ã€çº¿ç¨‹ä¸å®‰å…¨</li></ul></li><li>Vector<ul><li>æ•°ç»„ç»“æ„å®ç°ï¼ŒæŸ¥è¯¢å¿«ã€å¢åˆ æ…¢</li><li>è¿è¡Œæ•ˆç‡æ…¢ã€çº¿ç¨‹å®‰å…¨</li></ul></li><li>LinkedList<ul><li>é“¾è¡¨ç»“æ„å®ç°ï¼Œå¢åˆ å¿«ã€æŸ¥è¯¢æ…¢</li></ul></li></ul></li><li><h5 id="arraylist-æºç åˆ†æ">ArrayList æºç åˆ†æ</h5><p>â€‹ DEFAULT_CAPACITY = 10 é»˜è®¤å®¹é‡å¤§å°</p><p>â€‹ --å¦‚æœæ²¡æœ‰åƒé›†åˆä¸­æ·»åŠ ä»»ä½•å…ƒç´ æ—¶ï¼Œå®¹é‡æ˜¯0ï¼›æ·»åŠ ä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œå®¹é‡æ˜¯10</p><p>â€‹ elementData å­˜æ”¾å…ƒç´ çš„æ•°ç»„</p><p>â€‹ size å®é™…å…ƒç´ ä¸ªæ•°</p><p>â€‹ addæ–¹æ³•ï¼Œåœ¨æ•°ç»„å®¹é‡ä¸å¤Ÿæ—¶ï¼Œæ‰©å®¹ä¸ºåŸæ¥çš„1.5å€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">grow</span><span class="hljs-params">(<span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    <span class="hljs-comment">// overflow-conscious code</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">oldCapacity</span> <span class="hljs-operator">=</span> elementData.length;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">newCapacity</span> <span class="hljs-operator">=</span> oldCapacity + (oldCapacity &gt;&gt; <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span> (newCapacity - minCapacity &lt; <span class="hljs-number">0</span>)<br>        newCapacity = minCapacity;<br>    <span class="hljs-keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="hljs-number">0</span>)<br>        newCapacity = hugeCapacity(minCapacity);<br>    <span class="hljs-comment">// minCapacity is usually close to size, so this is a win:</span><br>    elementData = Arrays.copyOf(elementData, newCapacity);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h5 id="linkedlist-æºç åˆ†æ">LinkedList æºç åˆ†æ</h5><p>åŸºäºåŒå‘é“¾è¡¨</p><p>int size é›†åˆå¤§å°</p><p>Node first é“¾è¡¨çš„å¤´èŠ‚ç‚¹</p><p>Node last é“¾è¡¨çš„å°¾èŠ‚ç‚¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>&lt;E&gt; &#123;<br>    E item;<br>    Node&lt;E&gt; next;<br>    Node&lt;E&gt; prev;<br><br>    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;<br>        <span class="hljs-built_in">this</span>.item = element;<br>        <span class="hljs-built_in">this</span>.next = next;<br>        <span class="hljs-built_in">this</span>.prev = prev;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">linkLast</span><span class="hljs-params">(E e)</span> &#123;<br>    <span class="hljs-keyword">final</span> Node&lt;E&gt; l = last;<br>    <span class="hljs-keyword">final</span> Node&lt;E&gt; newNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>&lt;&gt;(l, e, <span class="hljs-literal">null</span>);<br>    last = newNode;<br>    <span class="hljs-keyword">if</span> (l == <span class="hljs-literal">null</span>)<br>        first = newNode;<br>    <span class="hljs-keyword">else</span><br>        l.next = newNode;<br>    size++;<br>    modCount++;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Javaé›†åˆæ¡†æ¶</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ·±å…¥æµ…å‡ºMySQLç¬”è®°02--å¼€å‘ç¯‡</title>
    <link href="/2022/04/04/MySQL/MySQLNotes02/"/>
    <url>/2022/04/04/MySQL/MySQLNotes02/</url>
    
    <content type="html"><![CDATA[<h2 id="æ·±å…¥æµ…å‡ºmysql-å¼€å‘ç¯‡">æ·±å…¥æµ…å‡ºMySQL å¼€å‘ç¯‡</h2><h3 id="è¡¨ç±»å‹å­˜å‚¨å¼•æ“çš„é€‰æ‹©">1. è¡¨ç±»å‹ï¼ˆå­˜å‚¨å¼•æ“ï¼‰çš„é€‰æ‹©</h3><h5 id="å­˜å‚¨å¼•æ“æ¦‚è¿°">å­˜å‚¨å¼•æ“æ¦‚è¿°</h5><p>â€‹æ’ä»¶å¼å­˜å‚¨å¼•æ“æ˜¯MySQLæ•°æ®åº“é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œå¯æ ¹æ®åº”ç”¨çš„éœ€è¦é€‰æ‹©å¦‚ä½•å­˜å‚¨å’Œç´¢å¼•æ•°æ®ã€æ˜¯å¦ä½¿ç”¨äº‹åŠ¡ç­‰ã€‚MySQLé»˜è®¤æ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œä»¥é€‚åº”ä¸åŒé¢†åŸŸçš„dbåº”ç”¨éœ€æ±‚ã€‚</p><p>â€‹ MySQL 5.0 æ”¯æŒçš„å­˜å‚¨å¼•æ“ï¼šMyISAM, InnoDB, DBD, MEMORY,MERGE,ç­‰ã€‚å…¶ä¸­InnoDB, DBDæä¾›äº‹åŠ¡å®‰å…¨è¡¨ï¼Œå…¶ä»–éƒ½æ˜¯éäº‹åŠ¡å®‰å…¨è¡¨ã€‚</p><p>â€‹ MySQL 5.5 ä¹‹å‰çš„é»˜è®¤å­˜å‚¨å¼•æ“æ˜¯MyISAMï¼Œ5.5 ä¹‹åæ”¹ä¸ºäº†InnoDBã€‚</p><h5 id="å„ç§å­˜å‚¨å¼•æ“çš„ç‰¹æ€§">å„ç§å­˜å‚¨å¼•æ“çš„ç‰¹æ€§</h5><h6 id="myisam">1. MyISAM</h6><p>â€‹ä¸æ”¯æŒäº‹åŠ¡ã€ä¸æ”¯æŒå¤–é”®ï¼Œä¼˜åŠ¿æ˜¯è®¿é—®é€Ÿåº¦å¿«ï¼Œå¯¹äº‹åŠ¡å®Œæ•´æ€§æ²¡æœ‰è¦æ±‚æˆ–ä»¥SELECTINSERTä¸ºä¸»çš„åº”ç”¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªå¼•æ“åˆ›å»ºè¡¨ã€‚</p><p>â€‹ æ¯ä¸ªMyISAMåœ¨ç£ç›˜ä¸Šå­˜å‚¨æˆ3ä¸ªæ–‡ä»¶ï¼Œå…¶æ–‡ä»¶åä¸ºè¡¨åï¼Œæ‰©å±•ååˆ†åˆ«æ˜¯</p><ul><li><p>.frm ï¼ˆå­˜å‚¨è¡¨å®šä¹‰ï¼‰</p></li><li><p>.MYD ï¼ˆMYData, å­˜å‚¨æ•°æ®ï¼‰</p></li><li><p>.MYI ï¼ˆMYIndex, å­˜å‚¨ç´¢å¼•ï¼‰</p><p>MyISAMè¡¨è¿˜æ”¯æŒ3ç§ä¸åŒçš„å­˜å‚¨æ ¼å¼ï¼š</p></li><li><p>é™æ€ï¼ˆå›ºå®šé•¿åº¦ï¼‰è¡¨</p></li><li><p>åŠ¨æ€è¡¨</p></li><li><p>å‹ç¼©è¡¨</p></li></ul><p>â€‹é™æ€è¡¨æ˜¯é»˜è®¤çš„å­˜å‚¨æ ¼å¼ï¼Œè¡¨ä¸­å­—æ®µéƒ½æ˜¯éå˜é•¿å­—æ®µï¼Œä»è€Œæ¯ä¸ªè®°å½•é•¿åº¦å›ºå®šï¼Œä¼˜ç‚¹æ˜¯å­˜å‚¨è¿…é€Ÿï¼Œå®¹æ˜“ç¼“å­˜ï¼Œå‡ºæ•…éšœæ˜“æ¢å¤ï¼›ç¼ºç‚¹æ˜¯å ç”¨ç©ºé—´æ¯”åŠ¨æ€è¡¨å¤šã€‚é™æ€è¡¨æ•°æ®åœ¨å­˜å‚¨æ—¶ä¼šæŒ‰åˆ—å®½å®šä¹‰è¡¥è¶³ç©ºæ ¼ï¼Œåº”ç”¨è®¿é—®æ—¶ç©ºæ ¼åœ¨è¿”å›ç»™åº”ç”¨ä¹‹å‰è¢«å»æ‰ã€‚â€‹åŠ¨æ€è¡¨ä¸­åŒ…å«å˜é•¿å­—æ®µï¼Œè®°å½•é•¿åº¦ä¸å›ºå®šï¼Œå ç”¨ç©ºé—´å°‘ï¼Œä½†é¢‘ç¹åœ°æ›´æ–°å’Œåˆ é™¤è®°å½•ä¼šäº§ç”Ÿç¢ç‰‡ï¼Œéœ€å®šæœŸæ‰§è¡ŒOPTIMIZETABLE æˆ– myisamchk-ræ¥æ”¹å–„å‘½ä»¤ã€‚å‡ºæ•…éšœä¸æ˜“ç»´æŠ¤ã€‚ â€‹å‹ç¼©è¡¨ç”±myisampackå·¥å…·åˆ›å»ºï¼Œå æ®éå¸¸å°çš„ç£ç›˜ç©ºé—´ã€‚æ¯ä¸ªè®°å½•è¢«å•ç‹¬å‹ç¼©ï¼Œåªæœ‰éå¸¸å°çš„è®¿é—®å¼€æ”¯ã€‚</p><h6 id="innodb">2. InnoDB</h6><p>â€‹æä¾›äº†å…·æœ‰æäº¤ã€å›æ»šå’Œå´©æºƒæ¢å¤èƒ½åŠ›çš„äº‹åŠ¡å®‰å…¨ã€‚å¯¹æ¯”MyISAMï¼ŒInnoDBå†™çš„å¤„ç†æ•ˆç‡å·®ä¸€äº›ï¼Œå¹¶ä¼šå ç”¨æ›´å¤šçš„ç£ç›˜ç©ºé—´ä»¥ä¿ç•™æ•°æ®å’Œç´¢å¼•ã€‚</p><p>â€‹ InnoDBçš„è¡¨çš„ç‰¹ç‚¹ï¼š</p><ol type="1"><li><p>è‡ªåŠ¨å¢é•¿åˆ—</p><p>å®šä¹‰æ–¹å¼ï¼šcol_def auto_increment</p><p>â€‹ eg: create table tname (i smallint not null<strong>auto_increment</strong>)</p><p>è®¾ç½®è‡ªåŠ¨å¢é•¿åˆ—çš„åˆå§‹å€¼ï¼šALTER TABLE *** AUTO_INCREMENT = n(é»˜è®¤ä»1å¼€å§‹)</p><p>æŸ¥è¯¢å½“å‰çº¿ç¨‹æœ€åæ’å…¥è®°å½•ä½¿ç”¨çš„å€¼ï¼šselect LAST_INSERT_ID();</p><p>å¯¹äºInnoDBï¼Œè‡ªåŠ¨å¢é•¿åˆ—<strong>å¿…é¡»æ˜¯ç´¢å¼•</strong>ï¼Œä¹Ÿå¿…é¡»æ˜¯<strong>ç»„åˆç´¢å¼•çš„ç¬¬ä¸€åˆ—</strong>ã€‚</p></li><li><p>å¤–é”®çº¦æŸ</p><ol type="1"><li><p>MySQLæ”¯æŒå¤–é”®çš„å­˜å‚¨å¼•æ“åªæœ‰InnoDBã€‚åœ¨åˆ›å»ºå¤–é”®æ—¶ï¼Œè¦æ±‚çˆ¶è¡¨å¿…é¡»æœ‰å¯¹åº”çš„ç´¢å¼•ï¼Œå­è¡¨åœ¨åˆ›å»ºå¤–é”®æ—¶ä¹Ÿä¼šè‡ªåŠ¨åˆ›å»ºå¯¹åº”çš„ç´¢å¼•ã€‚</p></li><li><p>åˆ›å»ºç´¢å¼•æ—¶ï¼Œå¯ä»¥æŒ‡å®šåœ¨åˆ é™¤ã€æ›´æ–°çˆ¶è¡¨æ—¶ï¼Œå¯¹å­è¡¨è¿›è¡Œçš„ç›¸åº”æ“ä½œï¼ŒåŒ…æ‹¬ï¼š</p></li></ol><ul><li>RESTRICTï¼šé™åˆ¶åœ¨å­è¡¨æœ‰å…³è”è®°å½•çš„æƒ…å†µä¸‹çˆ¶è¡¨ä¸èƒ½æ›´æ–°</li><li>CASCADE: çˆ¶è¡¨åœ¨æ›´æ–°å’Œåˆ é™¤æ—¶ï¼Œæ›´æ–°æˆ–åˆ é™¤å­è¡¨å¯¹åº”è®°å½•</li><li>SET NULL: çˆ¶è¡¨åœ¨æ›´æ–°å’Œåˆ é™¤æ—¶ï¼Œå­è¡¨å¯¹åº”è®°å½•çš„å¯¹åº”å­—æ®µè¢«SET NULL</li><li>NO ACTION: åŒRESTRICT</li></ul><ol start="3" type="1"><li>å½“æŸä¸ªè¡¨è¢«å…¶ä»–è¡¨åˆ›å»ºäº†å¤–é”®å‚ç…§ï¼Œè¯¥è¡¨çš„å¯¹åº”ç´¢å¼•æˆ–ä¸»é”®ç¦æ­¢è¢«åˆ é™¤ã€‚</li><li>æŸ¥çœ‹å¤–é”®ä¿¡æ¯ï¼šshow create table å’Œ show table status</li></ol></li><li><p>å­˜å‚¨æ–¹å¼</p><ul><li>ä½¿ç”¨å…±äº«è¡¨ç©ºé—´å­˜å‚¨ï¼Œåˆ›å»ºçš„è¡¨çš„è¡¨ç»“æ„å­˜åœ¨.frmæ–‡ä»¶ä¸­ï¼Œæ•°æ®å’Œç´¢å¼•å­˜åœ¨innodb_data_home_dirå’Œinnodb_data_file_pathå®šä¹‰çš„è¡¨ç©ºé—´ä¸­ï¼Œå¯ä»¥æ˜¯å¤šä¸ªæ–‡ä»¶ã€‚</li><li>ä½¿ç”¨å¤šè¡¨ç©ºé—´å­˜å‚¨ï¼Œåˆ›å»ºçš„è¡¨çš„è¡¨ç»“æ„å­˜åœ¨.frmæ–‡ä»¶ä¸­ï¼Œä½†æ¯ä¸ªè¡¨çš„æ•°æ®å’Œç´¢å¼•å•ç‹¬ä¿å­˜åœ¨.ibdä¸­ã€‚å¦‚æœæ˜¯åˆ†åŒºè¡¨ï¼Œåˆ™æ¯ä¸ªåˆ†åŒºå¯¹åº”å•ç‹¬çš„.ibdæ–‡ä»¶ï¼Œæ–‡ä»¶åæ˜¯â€œè¡¨å+åˆ†åŒºåâ€ã€‚</li></ul><p>â€‹å¤šè¡¨ç©ºé—´çš„æ•°æ®æ–‡ä»¶æ— å¤§å°é™åˆ¶ï¼Œä¸éœ€è®¾ç½®åˆå§‹å¤§å°å’Œæ–‡ä»¶çš„æœ€å¤§é™åˆ¶ã€æ‰©å±•å¤§å°ç­‰å‚æ•°ã€‚</p></li></ol><h5 id="memory">3. MEMORY</h5><p>â€‹ä½¿ç”¨å­˜åœ¨äºå†…å­˜ä¸­çš„å†…å®¹åˆ›å»ºè¡¨ã€‚æ¯ä¸ªMEMORYè¡¨åªå¯¹åº”ä¸€ä¸ªç£ç›˜æ–‡ä»¶ï¼Œæ ¼å¼æ˜¯.frmã€‚MEMORYè¡¨è®¿é—®éå¸¸å¿«ï¼Œå› ä¸ºæ•°æ®æ”¾åœ¨å†…å­˜ä¸­ï¼Œä¸”é»˜è®¤ç”¨HASHç´¢å¼•ï¼ˆåˆ›å»ºç´¢å¼•æ—¶å¯ä»¥æŒ‡å®šä¸ºBTREEï¼‰ï¼Œä½†ä¸€æ—¦æœåŠ¡å…³é—­ï¼Œè¡¨ä¸­æ•°æ®å°±ä¼šä¸¢æ‰ã€‚</p><p>â€‹æœåŠ¡å™¨éœ€è¦è¶³å¤Ÿå†…å­˜ç»´æŒæ‰€æœ‰åŒä¸€æ—¶é—´ä½¿ç”¨çš„MEMORYè¡¨ï¼Œå½“ä¸å†éœ€è¦MEMORYè¡¨æ—¶ï¼Œéœ€è¦æ‰§è¡ŒDELETEæˆ– TRUNCATE TABLEæˆ–DROP TABLEé‡Šæ”¾å…¶å ç”¨çš„å†…å­˜ã€‚</p><p>â€‹MEMORYä¸»è¦ç”¨äºå†…å®¹å˜åŒ–ä¸é¢‘ç¹çš„ä»£ç è¡¨ï¼Œæˆ–ä½œä¸ºç»Ÿè®¡æ“ä½œçš„ä¸­é—´ç»“æœè¡¨ï¼Œä¾¿äºé«˜æ•ˆå¯¹ä¸­é—´ç»“æœè¿›è¡Œåˆ†æã€‚</p><h5 id="merge">4. MERGE</h5><p>â€‹æ˜¯ä¸€ç»„MyISAMè¡¨çš„ç»„åˆï¼Œè¿™äº›MyISAMè¡¨å¿…é¡»ç»“æ„å®Œå…¨ç›¸åŒï¼ŒMERGEè¡¨æœ¬èº«æ²¡æœ‰æ•°æ®ï¼Œå¯¹MERGEè¡¨çš„åˆ æ”¹æŸ¥æ“ä½œå®é™…æ˜¯å¯¹å†…éƒ¨çš„MyISAMè¡¨è¿›è¡Œçš„ã€‚å¯¹MERGEè¡¨çš„æ’å…¥æ“ä½œé€šè¿‡INSERT_METHODå­å¥å®šä¹‰æ’å…¥çš„è¡¨ã€‚</p><p>â€‹<strong>å¯¹MERGEè¡¨çš„DROPæ“ä½œåªæ˜¯åˆ é™¤MERGEè¡¨çš„å®šä¹‰</strong>ï¼Œå¯¹å†…éƒ¨è¡¨æ²¡æœ‰ä»»ä½•å½±å“ã€‚</p><p>â€‹ MERGEè¡¨ <strong>vs</strong>åˆ†åŒºè¡¨ï¼šMERGEè¡¨å¹¶ä¸èƒ½æ™ºèƒ½åœ°å°†è®°å½•å†™åˆ°å¯¹åº”çš„è¡¨ä¸­ï¼Œåˆ†åŒºè¡¨å¯ä»¥ã€‚é€šå¸¸ä½¿ç”¨åˆ†åŒºè¡¨é€æ˜åœ°å¯¹å¤šä¸ªè¡¨è¿›è¡ŒæŸ¥è¯¢å’Œæ›´æ–°æ“ä½œã€‚</p><h3 id="åˆé€‚çš„æ•°æ®ç±»å‹">2. åˆé€‚çš„æ•°æ®ç±»å‹</h3><ul><li>å¯¹äºå­—ç¬¦ç±»å‹ï¼Œè¦æ ¹æ®å­˜å‚¨å¼•æ“è¿›è¡Œç›¸åº”çš„é€‰æ‹©</li><li>å¯¹ç²¾åº¦è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ä¸­ï¼Œå»ºè®®ç”¨å®šç‚¹æ•°å­˜å‚¨æ•°å€¼ï¼Œä»¥ä¿è¯ç»“æœçš„æ­£ç¡®æ€§</li><li>å¯¹å«æœ‰TEXTå’ŒBLOBå­—æ®µçš„è¡¨ï¼Œå¦‚æœç»å¸¸å¢åˆ è®°å½•ï¼Œè¦å®šæœŸæ‰§è¡ŒOPTIMIZETABLEå¯¹è¡¨è¿›è¡Œç¢ç‰‡æ•´ç†</li><li>æ—¥æœŸç±»å‹å¦‚æœè¦è®©ä¸åŒæ—¶åŒºçš„ç”¨æˆ·ä½¿ç”¨ï¼Œæœ€å¥½ä½¿ç”¨TIMESTAMPï¼Œå› ä¸ºæ—¥æœŸç±»å‹ä¸­åªæœ‰å®ƒèƒ½å’Œå®é™…æ—¶åŒºå¯¹åº”ã€‚</li></ul><h3 id="å­—ç¬¦é›†">3. å­—ç¬¦é›†</h3><ul><li>å¦‚æœåº”ç”¨éœ€è¦å¤„ç†å„ç§æ–‡å­—ï¼Œæˆ–å°†å‘å¸ƒåˆ°ä¸åŒè¯­è¨€çš„å›½å®¶åœ°åŒºï¼Œåº”è¯¥é€‰æ‹©Unicode(å¯¹MySQLæ¥è¯´å°±æ˜¯UTF-8)å­—ç¬¦é›†ã€‚</li><li>å¦‚æœæ•°æ®åº“åªéœ€è¦æ”¯æŒä¸€èˆ¬ä¸­æ–‡ï¼Œæ•°æ®é‡å¤§ä¸”è¦æ±‚æ€§èƒ½ï¼Œåº”è¯¥é€‰æ‹©åŒå­—èŠ‚å®šé•¿ç¼–ç çš„ä¸­æ–‡å­—ç¬¦é›†ï¼Œegï¼šGBKã€‚GBKä¸­æ¯ä¸ªæ±‰å­—åªå 2å­—èŠ‚ï¼Œè€ŒUTF-8æ±‰å­—ç¼–ç æ˜¯3å­—èŠ‚ã€‚<ul><li>å¦‚æœåº”ç”¨ä¸»è¦å¤„ç†è‹±æ–‡å­—ç¬¦ï¼ŒUTF-8æ›´å¥½ï¼Œå› ä¸ºGBKç­‰çš„è¥¿æ–‡ç¼–ç ä¹Ÿæ˜¯2å­—èŠ‚ã€‚</li></ul></li><li>å¦‚æœæ•°æ®åº“éœ€è¦å¤§é‡çš„æ¯”è¾ƒã€æ’åºç­‰å­—ç¬¦è¿ç®—ï¼Œé‚£ä¹ˆé€‰æ‹©å®šé•¿å­—ç¬¦é›†å¤„ç†é€Ÿåº¦æ›´å¿«ã€‚</li></ul><h3 id="ç´¢å¼•">4. ç´¢å¼•</h3><p>â€‹æ‰€æœ‰MySQLåˆ—ç±»å‹éƒ½å¯ä»¥è¢«ç´¢å¼•ã€‚MyISAMå’ŒInnoDBçš„è¡¨é»˜è®¤åˆ›å»ºçš„æ˜¯BTREEç´¢å¼•ï¼›MEMORYé»˜è®¤ä½¿ç”¨HASHç´¢å¼•ã€‚</p><h5 id="è®¾è®¡ç´¢å¼•çš„åŸåˆ™">è®¾è®¡ç´¢å¼•çš„åŸåˆ™ï¼š</h5><ul><li>æœ€é€‚åˆç´¢å¼•çš„åˆ—æ˜¯å‡ºç°åœ¨WHEREå­å¥ä¸­çš„åˆ—ï¼Œæˆ–è¿æ¥å­å¥ä¸­æŒ‡å®šçš„åˆ—</li><li>ä½¿ç”¨å”¯ä¸€ç´¢å¼•ï¼šç´¢å¼•çš„åˆ—çš„åŸºæ•°ï¼ˆé›†åˆé‡Œçš„æ¦‚å¿µï¼Œä¸åŒçš„å€¼çš„ä¸ªæ•°ï¼‰è¶Šå¤§ï¼Œç´¢å¼•æ•ˆæœè¶Šå¥½ã€‚egï¼Œåœ¨å‡ºç”Ÿæ—¥æœŸåˆ—å»ºç´¢å¼•æ¯”åœ¨æ€§åˆ«ï¼ˆåªæœ‰ä¸¤ä¸ªå€¼ï¼‰åˆ—æ•ˆæœå¥½ã€‚</li><li>ä½¿ç”¨çŸ­ç´¢å¼•ï¼šå¦‚æœå¯¹å­—ç¬¦ä¸²åˆ—è¿›è¡Œç´¢å¼•ï¼Œåº”å°½å¯èƒ½æŒ‡å®šä¸€ä¸ªå‰ç¼€é•¿åº¦ã€‚çŸ­ç´¢å¼•èŠ‚çœç´¢å¼•ç©ºé—´ï¼Œä¹Ÿå¯èƒ½ä½¿æŸ¥è¯¢æ›´å¿«ï¼›æ­¤å¤–ï¼Œå¯¹äºè¾ƒçŸ­çš„é”®å€¼ï¼Œç´¢å¼•é«˜é€Ÿç¼“å­˜ä¸­çš„å—èƒ½å®¹çº³æ›´å¤šé”®å€¼ï¼Œå¢åŠ äº†æ‰¾åˆ°è¡Œè€Œä¸ç”¨è¯»å–ç´¢å¼•ä¸­è¾ƒå¤šå—çš„å¯èƒ½æ€§ã€‚</li><li>åˆ©ç”¨æœ€å·¦å‰ç¼€ï¼š</li><li>ä¸è¦è¿‡åº¦ç´¢å¼•ï¼šé¢å¤–çš„ç´¢å¼•ä¼šå ç”¨é¢å¤–ç£ç›˜ç©ºé—´ï¼Œé™ä½å†™æ“ä½œçš„æ€§èƒ½ã€‚ä¿®æ”¹è¡¨å†…å®¹æ—¶ï¼Œç´¢å¼•ä¹Ÿéœ€è¦æ›´æ–°ç”šè‡³é‡æ„ã€‚</li><li>å¯¹äºInnoDBçš„è¡¨<ul><li>è®°å½•é»˜è®¤æŒ‰ç…§ä¸€å®šçš„é¡ºåºä¿å­˜<ul><li>æœ‰æ˜ç¡®å®šä¹‰çš„ä¸»é”®ï¼šæŒ‰ä¸»é”®é¡ºåº</li><li>æ— æ˜ç¡®å®šä¹‰çš„ä¸»é”®ä½†æœ‰å”¯ä¸€ç´¢å¼•ï¼šæŒ‰å”¯ä¸€ç´¢å¼•é¡ºåº</li><li>éƒ½æ— ï¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå†…éƒ¨åˆ—ï¼ŒæŒ‰è¯¥åˆ—é¡ºåº</li></ul></li><li>æŒ‰ç…§ä¸»é”®æˆ–å†…éƒ¨åˆ—è¿›è¡Œè®¿é—®æ˜¯æœ€å¿«çš„ï¼Œæ‰€ä»¥InnoDBè¡¨å°½å¯èƒ½æŒ‡å®šä¸»é”®</li><li>å½“è¡¨ä¸­å¤šä¸ªåˆ—éƒ½æ˜¯å”¯ä¸€æ—¶ï¼Œé€‰æœ€å¸¸ä½œä¸ºè®¿é—®æ¡ä»¶çš„åˆ—ä½œä¸ºä¸»é”®</li><li>InnoDBè¡¨çš„æ™®é€šç´¢å¼•ä¹Ÿä¼šä¿å­˜ä¸»é”®çš„é”®å€¼ï¼Œæ‰€ä»¥ä¸»é”®è¦å°½å¯èƒ½çŸ­</li></ul></li></ul><h5 id="btree-ç´¢å¼•å’Œhashç´¢å¼•">BTREE ç´¢å¼•å’ŒHASHç´¢å¼•</h5><ul><li>HASHç´¢å¼•ç‰¹ç‚¹ï¼š<ul><li>åªç”¨äºä½¿ç”¨=æˆ–&lt;=&gt;æ“ä½œç¬¦çš„ç­‰å¼æ¯”è¾ƒ</li><li>ä¼˜åŒ–å™¨ä¸èƒ½ä½¿ç”¨HASHç´¢å¼•åŠ é€ŸORDER BY</li><li>åªèƒ½ç”¨æ•´ä¸ªå…³é”®å­—æ¥æœç´¢ä¸€è¡Œ</li></ul></li><li>å¯¹äºBTREEç´¢å¼•ï¼Œä½¿ç”¨&gt; , &lt; , &gt;= , &lt;= , BETWEEN , != æˆ–è€…&lt;&gt; , æˆ–è€… LIKEï¼ˆæ¨¡å¼ä¸ä»¥é€šé…ç¬¦å¼€å§‹ï¼‰æ—¶ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ç›¸å…³åˆ—ä¸Šçš„ç´¢å¼•</li></ul><h3 id="è§†å›¾">5. è§†å›¾</h3><p>â€‹è§†å›¾ï¼ˆviewï¼‰æ˜¯ä¸€ç§è™šæ‹Ÿå­˜åœ¨çš„è¡¨ï¼Œå¹¶ä¸åœ¨æ•°æ®åº“ä¸­å®é™…å­˜åœ¨ï¼Œä½¿ç”¨é€æ˜ã€‚</p><h5 id="è§†å›¾ç›¸å¯¹äºæ™®é€šçš„è¡¨ä¼˜åŠ¿">è§†å›¾ç›¸å¯¹äºæ™®é€šçš„è¡¨ä¼˜åŠ¿ï¼š</h5><ul><li>ç®€å•ï¼šç”¨æˆ·æ— éœ€å…³å¿ƒåé¢å¯¹åº”çš„è¡¨ç»“æ„ã€å…³è”æ¡ä»¶ã€ç­›é€‰æ¡ä»¶ï¼Œå¯¹ç”¨æˆ·æ¥è¯´æ˜¯è¿‡æ»¤å¥½çš„å¤åˆæ¡ä»¶çš„ç»“æœé›†ã€‚</li><li>å®‰å…¨ï¼šç”¨æˆ·åªèƒ½è®¿é—®è¢«å…è®¸æŸ¥è¯¢çš„ç»“æœé›†</li><li>æ•°æ®ç‹¬ç«‹ï¼šä¸€æ—¦è§†å›¾ç»“æ„ç¡®å®šï¼Œå¯ä»¥å±è”½è¡¨ç»“æ„å˜åŒ–å¯¹ç”¨æˆ·çš„å½±å“</li></ul><h5 id="è§†å›¾æ“ä½œ">è§†å›¾æ“ä½œ</h5><ul><li><p>åˆ›å»ºæˆ–ä¿®æ”¹è§†å›¾</p><p>åˆ›å»ºè§†å›¾éœ€è¦æœ‰CREATE VIEW æƒé™ï¼Œå¹¶å¯¹æŸ¥è¯¢æ¶‰åŠçš„åˆ—æœ‰SELECTæƒé™ã€‚è‹¥ä½¿ç”¨CREATE OR REPLACEæˆ–ALTERä¿®æ”¹è§†å›¾ï¼Œè¿˜éœ€è¦è§†å›¾çš„DROPæƒé™ã€‚</p><p>åˆ›å»ºè§†å›¾è¯­æ³•ï¼š</p><p>CREATE [OR REPLACE]</p><p>â€‹ VIEW vname [(col_list)]</p><p>â€‹ AS select_statement</p><p>ä¿®æ”¹è§†å›¾è¯­æ³•ï¼š</p><p>ALTER</p><p>â€‹ VIEW vname [(col_list)]</p><p>â€‹ AS select_statement</p></li><li><p>åˆ é™¤è§†å›¾</p><p>DROP VIEW [IF EXISES] vname</p></li><li><p>æŸ¥çœ‹è§†å›¾</p><p>MySQL 5.1å¼€å§‹ SHOW TABLES [STATUS]åŒæ—¶ä¼šæ˜¾ç¤ºè§†å›¾ä¿¡æ¯ã€‚</p></li></ul><h3 id="å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°">6. å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°</h3><p>â€‹å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°æ˜¯äº‹å…ˆç»è¿‡ç¼–è¯‘å¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä¸€æ®µSQLè¯­å¥çš„é›†åˆï¼Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°å¯ä»¥ç®€åŒ–å·¥ä½œï¼Œå‡å°‘æ•°æ®åœ¨æ•°æ®åº“å’Œåº”ç”¨æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“ï¼Œåˆ©äºæé«˜æ•°æ®å¤„ç†æ•ˆç‡ã€‚</p><p>â€‹å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°çš„åŒºåˆ«åœ¨äºå‡½æ•°å¿…é¡»æœ‰è¿”å›å€¼ï¼Œè€Œå­˜å‚¨è¿‡ç¨‹æ²¡æœ‰ï¼Œå­˜å‚¨è¿‡ç¨‹çš„å‚æ•°å¯ä»¥ä½¿ç”¨IN,OUT, INOUTç±»å‹ï¼Œå‡½æ•°çš„å‚æ•°åªèƒ½æ˜¯INã€‚</p><h5 id="ç›¸å…³æƒé™">ç›¸å…³æƒé™</h5><ul><li>åˆ›å»ºï¼šéœ€è¦CREATE ROUTINE æƒé™</li><li>ä¿®æ”¹æˆ–åˆ é™¤ï¼šéœ€è¦ALTER ROUTINE æƒé™</li><li>æ‰§è¡Œï¼šéœ€è¦EXECUTE æƒé™</li></ul><h5 id="åˆ›å»ºorä¿®æ”¹å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°">åˆ›å»ºorä¿®æ”¹å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°</h5><p>CREATE PROCEDURE sp_name ([proc_param]) â€‹ [characteristic]routine_body</p><p>CREATE FUNCTION sp_name ([func_param]) â€‹ RETURNS type â€‹[characteristic] routine_body</p><h5 id="è°ƒç”¨">è°ƒç”¨</h5><p>CALL sp_name ([proc_param])</p><h5 id="å­˜å‚¨è¿‡ç¨‹çš„å¥½å¤„">å­˜å‚¨è¿‡ç¨‹çš„å¥½å¤„</h5><p>â€‹å¤„ç†é€»è¾‘å°è£…åœ¨æ•°æ®åº“ç«¯ï¼Œè°ƒç”¨è€…ä¸éœ€è¦äº†è§£ä¸­é—´çš„å¤„ç†é€»è¾‘ï¼Œä¸€æ—¦å¤„ç†é€»è¾‘å‘ç”Ÿæ”¹å˜ï¼Œåªéœ€è¦ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ï¼Œè€Œå¯¹è°ƒç”¨è€…çš„ç¨‹åºå®Œå…¨æ²¡æœ‰å½±å“ã€‚</p><h3 id="è§¦å‘å™¨">7. è§¦å‘å™¨</h3><p>â€‹è§¦å‘å™¨æ˜¯ä¸è¡¨æœ‰å…³çš„æ•°æ®åº“å¯¹è±¡ï¼Œåœ¨æ»¡è¶³å®šä¹‰æ¡ä»¶æ—¶è§¦å‘ï¼Œå¹¶æ‰§è¡Œè§¦å‘å™¨ä¸­å®šä¹‰çš„è¯­å¥é›†åˆã€‚å¯ä»¥ååŠ©åº”ç”¨åœ¨æ•°æ®åº“ç«¯ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ã€‚</p><h5 id="åˆ›å»ºè§¦å‘å™¨">åˆ›å»ºè§¦å‘å™¨</h5><p>CREATE TRIGGER trigger_name trigger_time trigger_event</p><p>ON tb1_name FOR EACH ROW trigger_stmt</p><p>è§¦å‘å™¨åªèƒ½åˆ›å»ºåœ¨æ°¸ä¹…è¡¨ä¸Šï¼Œ ä¸èƒ½å¯¹ä¸´æ—¶è¡¨åˆ›å»ºè§¦å‘å™¨ã€‚</p><ul><li>trigger_time ï¼šè§¦å‘æ—¶é—´ï¼Œå¯ä»¥æ˜¯<ul><li>BEFORE , åœ¨æ£€æŸ¥çº¦æŸå‰è§¦å‘</li><li>AFTER , åœ¨æ£€æŸ¥çº¦æŸåè§¦å‘</li></ul></li><li>trigger_eventï¼šè§¦å‘äº‹ä»¶ï¼Œå¯ä»¥æ˜¯å¢åˆ æ”¹</li></ul><p>å¯¹åŒä¸€ä¸ªè¡¨ç›¸åŒè§¦å‘æ—¶é—´çš„ç›¸åŒè§¦å‘äº‹ä»¶ï¼Œåªèƒ½å®šä¹‰ä¸€ä¸ªè§¦å‘å™¨ã€‚</p><p><strong>å¯ä»¥ä½¿ç”¨åˆ«åOLDå’ŒNEWæ¥å¼•ç”¨è§¦å‘å™¨ä¸­å‘ç”Ÿå˜åŒ–çš„è®°å½•å†…å®¹ã€‚</strong></p><h5 id="è§¦å‘é¡ºåº">è§¦å‘é¡ºåº</h5><ul><li>å¯¹äºæœ‰é‡å¤è®°å½•ã€éœ€è¦è¿›è¡ŒUPDATE æ“ä½œçš„INSERT,è§¦å‘å™¨è§¦å‘çš„é¡ºåºæ˜¯BEFOREINSERT -&gt; BEFORE UPDATE -&gt; AFTER UPDATE;</li><li>å¯¹äºæ²¡æœ‰é‡å¤è®°å½•çš„INSERT,å°±æ˜¯ç®€å•æ‰§è¡ŒINSERT, è§¦å‘é¡ºåºæ˜¯BEFORE INSERT-&gt; AFTER INSERT</li><li><strong>å¯¹å®é™…æ‰§è¡ŒUPDATE æ“ä½œçš„è®°å½•ï¼Œä»ä¼šæ‰§è¡ŒBEFOREINSERTè§¦å‘å™¨çš„å†…å®¹</strong></li></ul><h3 id="äº‹åŠ¡æ§åˆ¶å’Œé”å®šè¯­å¥">8. äº‹åŠ¡æ§åˆ¶å’Œé”å®šè¯­å¥</h3><p>â€‹é»˜è®¤æƒ…å†µä¸‹ï¼Œè¡¨é”å’Œè¡Œé”éƒ½æ˜¯è‡ªåŠ¨è·å¾—çš„ï¼Œä¸éœ€è¦é¢å¤–å‘½ä»¤ã€‚ä½†æ˜¯åœ¨æœ‰çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·éœ€è¦æ˜ç¡®è¿›è¡Œé”è¡¨æˆ–è¿›è¡Œäº‹åŠ¡çš„æ§åˆ¶ï¼Œä»¥ç¡®ä¿äº‹åŠ¡çš„å®Œæ•´æ€§ã€‚</p><h5 id="lock-table-ä¸-unlock-table">LOCK TABLE ä¸ UNLOCK TABLE</h5><ul><li>LOCK TABLESé”å®šç”¨äºå½“å‰çº¿ç¨‹çš„è¡¨ï¼Œå¦‚æœè¡¨è¢«å…¶ä»–çº¿ç¨‹é”å®šï¼Œåˆ™å½“å‰çº¿ç¨‹ä¼šç­‰å¾…ï¼Œç›´åˆ°å¯ä»¥è·å–æ‰€æœ‰é”å®šä¸ºæ­¢</li><li>UNLOCK TABLES é‡Šæ”¾å½“å‰çº¿ç¨‹è·å¾—çš„ä»»ä½•é”å®š</li></ul><h5 id="äº‹åŠ¡æ§åˆ¶">äº‹åŠ¡æ§åˆ¶</h5><p>â€‹ é»˜è®¤æƒ…å†µä¸‹ï¼ŒMySQLæ˜¯è‡ªåŠ¨æäº¤çš„ã€‚</p><ul><li>START TRANSACTION æˆ–BEGIN å¼€å§‹ä¸€é¡¹æ–°çš„äº‹åŠ¡</li><li>COMMIT å’Œ ROLLBACK ç”¨æ¥æäº¤æˆ–å›æ»šäº‹åŠ¡</li><li>CHAIN å’Œ RELEASE å­å¥åˆ†åˆ«å®šä¹‰äº‹åŠ¡æäº¤æˆ–å›æ»šä¹‹åçš„æ“ä½œï¼Œ<ul><li>CHAIN ä¼šç«‹å³å¯åŠ¨ä¸€ä¸ªæ–°äº‹åŠ¡ï¼Œå¹¶å’Œåˆšæ‰çš„äº‹åŠ¡æœ‰ç›¸åŒçš„éš”ç¦»çº§åˆ«ï¼›</li><li>RELEASE ä¼šæ–­å¼€å’Œå®¢æˆ·ç«¯çš„è¿æ¥</li></ul></li><li>SET AUTOCOMMIT (=0)ä¿®æ”¹å½“å‰è¿æ¥çš„æäº¤æ–¹å¼ï¼Œè®¾ä¸º0æ—¶ä¹‹åçš„æ‰€æœ‰äº‹åŠ¡éƒ½éœ€è¦æ˜ç¡®çš„å‘½ä»¤è¿›è¡Œæäº¤æˆ–å›æ»šã€‚</li></ul><p><strong>å¦‚æœåœ¨é”è¡¨æœŸé—´ï¼Œç”¨start transactionå¼€å§‹ä¸€ä¸ªæ–°äº‹åŠ¡ï¼Œä¼šéšå«æ‰§è¡Œunlock tables</strong></p><h3 id="sqlä¸­çš„å®‰å…¨é—®é¢˜">9. SQLä¸­çš„å®‰å…¨é—®é¢˜</h3><h5 id="sqlæ³¨å…¥">SQLæ³¨å…¥</h5><h3 id="mysql-åˆ†åŒº">10. MySQL åˆ†åŒº</h3><p>â€‹åˆ†åŒºæ˜¯æŒ‡æ ¹æ®ä¸€å®šçš„è§„åˆ™ï¼Œæ•°æ®åº“æŠŠä¸€ä¸ªè¡¨åˆ†è§£æˆå¤šä¸ªæ›´å°çš„ã€æ›´å®¹æ˜“ç®¡ç†çš„éƒ¨åˆ†ã€‚å¯¹äºè®¿é—®æ•°æ®åº“çš„åº”ç”¨æ¥è¯´ï¼Œé€»è¾‘ä¸Šåªæœ‰ä¸€ä¸ªè¡¨æˆ–ä¸€ä¸ªç´¢å¼•ï¼Œå®é™…ä¸Šè¿™ä¸ªè¡¨å¯èƒ½æœ‰æ•°10ä¸ªç‰©ç†åˆ†åŒºå¯¹è±¡ç»„æˆï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹å¯¹è±¡ï¼Œå¯ä»¥ç‹¬è‡ªå¤„ç†ï¼Œå¯ä»¥ä½œä¸ºè¡¨çš„ä¸€éƒ¨åˆ†å¤„ç†ã€‚åˆ†åŒºå¯¹äºåº”ç”¨æ¥è¯´æ˜¯å®Œå…¨é€æ˜çš„ï¼Œä¸å½±å“åº”ç”¨çš„ä¸šåŠ¡é€»è¾‘ã€‚</p><h5 id="åˆ†åŒºçš„ä¼˜ç‚¹">åˆ†åŒºçš„ä¼˜ç‚¹</h5><ul><li>å’Œå•ä¸ªç£ç›˜æˆ–æ–‡ä»¶ç³»ç»Ÿç›¸æ¯”ï¼Œå¯ä»¥å­˜å‚¨æ›´å¤šæ•°æ®</li><li>ä¼˜åŒ–æŸ¥è¯¢ã€‚åœ¨Whereå­å¥ä¸­åŒ…å«åˆ†åŒºæ¡ä»¶æ—¶ï¼Œå¯ä»¥åªæ‰«æå¿…è¦çš„ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†åŒºæ¥æé«˜æŸ¥è¯¢æ•ˆç‡ï¼›åŒæ—¶åœ¨æ¶‰åŠSUMå’ŒCOUNTè¿™ç±»èšåˆå‡½æ•°çš„æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥å®¹æ˜“åœ°åœ¨æ¯ä¸ªåˆ†åŒºä¸Šå¹¶è¡Œå¤„ç†ï¼Œæœ€ç»ˆåªéœ€è¦æ±‡æ€»æ‰€æœ‰åˆ†åŒºå¾—åˆ°çš„ç»“æœ</li><li>å¯¹äºå·²ç»è¿‡æœŸæˆ–ä¸éœ€è¦ä¿å­˜çš„æ•°æ®ï¼Œå¯ä»¥åˆ é™¤ä¸è¿™äº›æ•°æ®æœ‰å…³çš„åˆ†åŒºæ¥å¿«é€Ÿåˆ é™¤æ•°æ®</li><li>è·¨å¤šä¸ªç£ç›˜åˆ†æ•£æ•°æ®æŸ¥è¯¢ï¼Œä»¥è·å¾—æ›´å¤§çš„æŸ¥è¯¢ååé‡</li></ul><h5 id="åˆ†åŒºæ¦‚è¿°">åˆ†åŒºæ¦‚è¿°</h5><p>â€‹åˆ†åŒºæœ‰åˆ©äºç®¡ç†éå¸¸å¤§çš„è¡¨ï¼Œé‡‡ç”¨äº†åˆ†æ²»é€»è¾‘ï¼Œåˆ†åŒºå¼•å…¥äº†åˆ†åŒºé”®çš„æ¦‚å¿µã€‚åˆ†åŒºé”®ç”¨äºæ ¹æ®æŸä¸ªåŒºé—´å€¼ã€ç‰¹å®šå€¼åˆ—è¡¨ã€HASHå‡½æ•°å€¼æ‰§è¡Œæ•°æ®çš„èšé›†ï¼Œè®©æ•°æ®æ ¹æ®è§„åˆ™åˆ†å¸ƒåœ¨ä¸åŒçš„åˆ†åŒºä¸­ã€‚</p><h5 id="åˆ†åŒºç±»å‹">åˆ†åŒºç±»å‹</h5><ul><li>RANGEåˆ†åŒºï¼šåŸºäºä¸€ä¸ªç»™å®šè¿ç»­åŒºé—´èŒƒå›´ï¼ŒæŠŠæ•°æ®åˆ†é…åˆ°ä¸åŒåˆ†åŒº</li><li>LISTåˆ†åŒºï¼šåŸºäºæšä¸¾å‡ºçš„å€¼åˆ—è¡¨åˆ†åŒº</li><li>HASHåˆ†åŒºï¼šåŸºäºç»™å®šçš„åˆ†åŒºä¸ªæ•°ï¼Œåˆ†é…æ•°æ®</li><li>KEYåˆ†åŒºï¼šç±»ä¼¼HASHåˆ†åŒº</li></ul><p><strong>æ³¨æ„</strong>ï¼šæ— è®ºå“ªç§åˆ†åŒºç±»å‹ï¼Œéƒ½ä¸èƒ½ç”¨ä¸»é”®/å”¯ä¸€é”®å­—æ®µä¹‹å¤–çš„å…¶ä»–å­—æ®µåˆ†åŒº</p><h5 id="rangeåˆ†åŒº">Rangeåˆ†åŒº</h5><p>åˆ©ç”¨å–å€¼èŒƒå›´å°†æ•°æ®åˆ†æˆåˆ†åŒºï¼ŒåŒºé—´è¦è¿ç»­ä¸”ä¸èƒ½äº’ç›¸é‡å ï¼Œä½¿ç”¨VALUES LESSTHANè¿›è¡Œåˆ†åŒºçš„å®šä¹‰ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šæ¯ä¸ªåˆ†åŒºéƒ½æŒ‰é¡ºåºè¿›è¡Œå®šä¹‰ï¼Œä»æœ€ä½åˆ°æœ€é«˜ã€‚</p><p>å¯ä»¥ä½¿ç”¨VALUES LESS THANMAXVALUEå­å¥æä¾›ç»™æ‰€æœ‰å¤§äºæ˜ç¡®æŒ‡å®šçš„æœ€é«˜å€¼çš„å€¼ã€‚</p><p>ç‰¹åˆ«é€‚ç”¨äºï¼š</p><ul><li>éœ€è¦åˆ é™¤è¿‡æœŸæ•°æ®ï¼Œegï¼šALTER TABLE tname DROP PARTITION p0</li><li>ç»å¸¸è¿è¡ŒåŒ…å«åˆ†åŒºé”®çš„æŸ¥è¯¢</li></ul><h5 id="list-åˆ†åŒº">List åˆ†åŒº</h5><p>å»ºç«‹ç¦»æ•£çš„å€¼åˆ—è¡¨å‘Šè¯‰æ•°æ®åº“ç‰¹å®šçš„å€¼å±äºå“ªä¸ªåˆ†åŒºã€‚</p><p>ä½¿ç”¨PARTITION BY LIST + VALUES IN (X,X)</p><p>LIST åˆ†åŒºä¸éœ€è¦å£°æ˜ä»»ä½•ç‰¹å®šçš„é¡ºåºã€‚</p><p>è‹¥è¯•å›¾æ’å…¥çš„åˆ—å€¼ä¸åŒ…å«åœ¨åˆ†åŒºå€¼åˆ—è¡¨ä¸­æ—¶ï¼ŒINSERTä¼šå¤±è´¥å¹¶æŠ¥é”™ã€‚</p><h5 id="columnsåˆ†åŒº">Columnsåˆ†åŒº</h5><p>å¯ä»¥ç»†åˆ†ä¸ºRANGE Columnså’ŒLISTColumnsåˆ†åŒºï¼Œéƒ½æ”¯æŒæ•´æ•°ã€æ—¥æœŸæ—¶é—´ã€å­—ç¬¦ä¸²ä¸‰å¤§æ•°æ®ç±»å‹ã€‚</p><p>Columnsåˆ†åŒºè¿˜æ”¯æŒå¤šåˆ—åˆ†åŒºã€‚</p><h5 id="hashåˆ†åŒº">Hashåˆ†åŒº</h5><p>ä¸»è¦ç”¨æ¥åˆ†æ•£çƒ­ç‚¹è¯»ï¼Œç¡®ä¿æ•°æ®åœ¨é¢„å…ˆç¡®å®šä¸ªæ•°çš„åˆ†åŒºä¸­å°½å¯èƒ½å¹³å‡åˆ†å¸ƒã€‚</p>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ·±å…¥æµ…å‡ºMySQLç¬”è®°01--åŸºç¡€ç¯‡</title>
    <link href="/2022/04/01/MySQL/MySQLNotes01/"/>
    <url>/2022/04/01/MySQL/MySQLNotes01/</url>
    
    <content type="html"><![CDATA[<h2 id="æ·±å…¥æµ…å‡ºmysql-åŸºç¡€ç¯‡">æ·±å…¥æµ…å‡ºMySQL åŸºç¡€ç¯‡</h2><h3 id="sqlåŸºç¡€">1. SQLåŸºç¡€</h3><h5 id="sqlåˆ†ç±»">SQLåˆ†ç±»</h5><ol type="1"><li>DDLè¯­å¥ï¼šæ•°æ®å®šä¹‰è¯­è¨€ï¼Œå®šä¹‰ä¸åŒçš„æ•°æ®æ®µã€æ•°æ®åº“ã€è¡¨ã€åˆ—ã€ç´¢å¼•ç­‰æ•°æ®åº“å¯¹è±¡ï¼Œå¸¸ç”¨å…³é”®å­—ï¼šcreateï¼Œdropï¼Œalterï¼›</li><li>DMLè¯­å¥ï¼šæ•°æ®æ“çºµè¯­å¥ï¼Œå¢åˆ æ”¹æŸ¥ä»¥åŠæ£€æŸ¥æ•°æ®å®Œæ•´æ€§ï¼Œå¸¸ç”¨å…³é”®å­—ï¼šinsertï¼Œdeleteï¼Œupdateï¼Œselectï¼›</li><li>DCLè¯­å¥ï¼šæ•°æ®æ§åˆ¶è¯­å¥ï¼Œæ§åˆ¶ä¸åŒæ•°æ®æ®µç›´æ¥çš„è®¸å¯å’Œè®¿é—®çº§åˆ«ï¼Œå®šä¹‰äº†è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ï¼Œä¸»è¦å…³é”®å­—ï¼šgrantï¼Œrevokeã€‚</li></ol><h5 id="æŸ¥çœ‹è¡¨å®šä¹‰">æŸ¥çœ‹è¡¨å®šä¹‰</h5><ol type="1"><li><p>DESC tname</p></li><li><p>show create table tname ---- å¯ä»¥çœ‹åˆ°å­˜å‚¨å¼•æ“å’Œå­—ç¬¦é›†ç­‰ä¿¡æ¯</p><p>â€‹ ä½¿å¾—è®°å½•èƒ½æŒ‰å­—æ®µç«–å‘æ’åˆ—</p></li></ol><h5 id="ä¿®æ”¹è¡¨">ä¿®æ”¹è¡¨</h5><ol type="1"><li><p>ä¿®æ”¹è¡¨ç±»å‹ï¼šALTER TABLE tname MODIFY col_def [FIRST | AFTERcol_name]</p><p>â€‹ col_def ï¼šåˆ—å®šä¹‰ï¼ŒåŒ…å« col_name col_type [çº¦æŸ]</p></li><li><p>å¢åŠ è¡¨å­—æ®µï¼šALTER TABLE tname ADD col_def [FIRST | AFTERcol_name]</p></li><li><p>åˆ é™¤è¡¨å­—æ®µï¼šALTER TABLE tname DROP col_name</p></li><li><p>å­—æ®µæ”¹åï¼šALTER TABLE tname CHANGE old_col_name col_def [FIRST |AFTER col_name]</p><p>â€‹ change <strong>vs</strong>modifyï¼šéƒ½å¯ä»¥ä¿®æ”¹è¡¨çš„åˆ—å®šä¹‰ï¼Œä½†changeå¯ä»¥ä¿®æ”¹åˆ—åç§°ã€‚å¦å¤–ï¼Œchangeéœ€è¦å†™ä¸¤éåˆ—åï¼Œåªéœ€è¦ä¿®æ”¹åˆ—ç±»å‹æ—¶ï¼Œç”¨modifyã€‚</p></li><li><p>ä¿®æ”¹å­—æ®µæ’åˆ—é¡ºåºï¼šFIRST | AFTER col_name</p><p>â€‹ ä¸Šè¿°124è¯­å¥ï¼ŒADDæ–°å¢çš„å­—æ®µé»˜è®¤åœ¨è¡¨æœ€åï¼ŒCHANGE &amp; MODIFYé»˜è®¤ä¸æ”¹å˜å­—æ®µä½ç½®ã€‚</p><p>â€‹ FIRST ï¼šå°†è¯¥åˆ—ç½®äºè¡¨æœ€å‰</p><p>â€‹ AFTER col_nameï¼š å°†è¯¥åˆ—ç½®äºcol_nameåˆ—å</p></li><li><p>æ›´æ”¹è¡¨åï¼š ALTER TABLE tname RENAME new_tname</p></li></ol><h5 id="æŸ¥è¯¢è¡¨">æŸ¥è¯¢è¡¨</h5><ol type="1"><li><p>æŸ¥è¯¢ä¸é‡å¤è®°å½•ï¼šdistinct</p></li><li><p>æ’åºï¼šorder byï¼Œé»˜è®¤å‡åºï¼Œdescé™åº</p></li><li><p>é™åˆ¶ï¼šlimitï¼Œé…åˆorder byè¿›è¡Œåˆ†é¡µæ˜¾ç¤º</p><p>â€‹ limit offset_start, row_count</p></li><li><p>èšåˆï¼š</p><ol type="1"><li><p>è¯­æ³•ï¼š</p><p><em>SELECT [field] fun_name</em></p><p><em>FROM tname</em></p><p><em>[WHERE condition]</em></p><p><em>[GROUP BY field1, field2, ..., fieldn]</em></p><p><em>[WITH ROLLUP]</em></p><p><em>[HAVING condition]</em></p></li><li><p>è¯´æ˜ï¼š</p><p>fun_name: èšåˆå‡½æ•°ï¼Œsumã€count(*)ã€maxã€min</p><p>GROUP BYï¼šè¦è¿›è¡Œèšåˆå¾—å­—æ®µ</p><p>WITH ROLLUPï¼š å¯é€‰ï¼Œæ˜¯å¦å¯¹åˆ†ç±»èšåˆåçš„ç»“æœè¿›è¡Œå†æ±‡æ€»</p><p>HAVING ï¼šå¯¹åˆ†ç±»åçš„ç»“æœå†è¿›è¡Œæ¡ä»¶çš„è¿‡æ»¤</p><p><strong><em>æ³¨</em></strong>ï¼šHAVING <strong>vs</strong> WHEREï¼šHAVING æ˜¯å¯¹èšåˆåçš„ç»“æœè¿›è¡Œæ¡ä»¶çš„è¿‡æ»¤ï¼ŒWHEREæ˜¯èšåˆå‰å¯¹è®°å½•è¿›è¡Œè¿‡æ»¤ã€‚</p></li></ol></li><li><p>è¡¨è¿æ¥ï¼š</p><ul><li><p>å†…è¿æ¥</p></li><li><p>å¤–è¿æ¥</p><ul><li>å·¦è¿æ¥</li><li>å³è¿æ¥</li></ul></li></ul></li><li><p>å­æŸ¥è¯¢ï¼š</p><p>â€‹ inã€=ï¼ˆå­æŸ¥è¯¢è®°å½•æ•°å”¯ä¸€ï¼‰ï¼›</p><p>â€‹ è¡¨è¿æ¥å¾ˆå¤šæƒ…å†µä¸‹ä¼˜äºå­æŸ¥è¯¢ã€‚</p></li><li><p>è®°å½•è”åˆï¼š</p><p>â€‹ unionï¼ˆä¼šå¯¹ç»“æœè¿›è¡Œdistinctï¼‰ã€unionallï¼ˆæŠŠç»“æœç›´æ¥åˆå¹¶åœ¨ä¸€èµ·ï¼‰</p></li></ol><h3 id="mysqlæ”¯æŒçš„æ•°æ®ç±»å‹">2. MySQLæ”¯æŒçš„æ•°æ®ç±»å‹</h3><ol type="1"><li><p>CHARã€VARCHAR</p><p>â€‹ æ£€ç´¢æ—¶ï¼ŒCHARåˆ—ä¼šåˆ é™¤å°¾éƒ¨çš„ç©ºæ ¼ï¼Œè€ŒVARCHARä¼šä¿ç•™</p></li><li><p>BINARY</p><p>â€‹ä¿å­˜çš„æ˜¯asciiç çš„16è¿›åˆ¶è¡¨ç¤ºï¼Œä¸”ä¼šåœ¨å€¼çš„æœ€åå¡«å……â€œ0x00â€è¾¾åˆ°æŒ‡å®šçš„é•¿åº¦</p></li><li><p>ENUM ã€ SET</p><p>â€‹ ENUM ï¼š</p><ul><li>å¿½ç•¥å¤§å°å†™ï¼›</li><li>æ’å…¥ä¸åœ¨ENUM æŒ‡å®šèŒƒå›´å†…çš„å€¼æ—¶ï¼Œä¼šæ’å…¥èŒƒå›´å†…çš„ç¬¬ä¸€ä¸ªå€¼ï¼›</li><li>åªå…è®¸å–å•ä¸ªå€¼ â€‹ SET</li><li>ä¸€æ¬¡å¯ä»¥å–å¤šä¸ªæˆå‘˜</li><li>å¯¹è¶…å‡ºå…è®¸å€¼èŒƒå›´çš„å€¼ï¼Œä¸å…è®¸æ³¨å…¥</li><li>å¯¹äºåŒ…å«é‡å¤æˆå‘˜çš„é›†åˆåªå–ä¸€æ¬¡ï¼Œeg. ï¼ˆ'a,d,a'ï¼‰-&gt; ('a,d')</li></ul></li></ol><h3 id="mysqlä¸­çš„è¿ç®—ç¬¦">3. MySQLä¸­çš„è¿ç®—ç¬¦</h3><h5 id="æ¯”è¾ƒè¿ç®—ç¬¦">æ¯”è¾ƒè¿ç®—ç¬¦</h5><ol type="1"><li><p>ä¸ç­‰äºï¼š&lt;&gt;ã€!=</p></li><li><p>&lt;=&gt;: nullå®‰å…¨çš„ç­‰äº</p><p>â€‹ null = null ---------- null</p><p>â€‹ null &lt;&gt; null ---------- null</p><p>â€‹ null &lt;=&gt; null ---------- 1</p></li></ol><h5 id="é€»è¾‘è¿ç®—ä¸null">é€»è¾‘è¿ç®—ä¸null</h5><ul><li>not null ---------- null</li><li>1 and null ---------- null ï¼ˆandæ“ä½œæ•°ä¸­ä»»ä½•ä¸€ä¸ªä¸ºnullï¼Œè¿”å›å€¼ä¸ºnullï¼‰</li><li>or<ul><li>1 or null ---------- 1</li><li>0 or null ---------- null</li><li>null or null ---------- null</li></ul></li><li>xor : æ“ä½œæ•°ä¸­ä»»ä½•ä¸€ä¸ªä¸ºnullï¼Œè¿”å›å€¼ä¸ºnull</li></ul><h5 id="ä½è¿ç®—">ä½è¿ç®—</h5><p>â€‹ä½å–åï¼šMySQLä¸­å¸¸é‡æ•°å­—é»˜è®¤ä»¥8ä¸ªå­—èŠ‚å­˜å‚¨ï¼Œå¯¹1ï¼ˆ63ä¸ªå‰å¯¼0ï¼‰å–åä¼šå¾—åˆ°éå¸¸å¤§çš„æ•°</p><h3 id="å¸¸ç”¨å‡½æ•°">4. å¸¸ç”¨å‡½æ•°</h3><h5 id="å­—ç¬¦ä¸²å‡½æ•°">å­—ç¬¦ä¸²å‡½æ•°</h5><p><img src="https://lics-blogs-1258546254.cos.ap-nanjing.myqcloud.com/images/MySQL/01_stringFunc.png" width="85%"  style="center"/></p><ol type="1"><li><p>LPADã€RPAD â€œæŒ‡å®šçš„é•¿åº¦lenâ€ä¸ºå¡«å……åçš„æ€»é•¿åº¦</p><p>LPAD(str, len,padstr)ï¼šåœ¨strçš„å·¦è¾¹å¡«å……ç»™å®šçš„å­—ç¬¦padstråˆ°æŒ‡å®šçš„é•¿åº¦lenï¼Œè¿”å›å¡«å……åçš„å­—ç¬¦ä¸²</p><p>RPAD(str, len,padstr)ï¼šåœ¨strçš„å³è¾¹å¡«å……ç»™å®šçš„å­—ç¬¦padstråˆ°æŒ‡å®šçš„é•¿åº¦lenï¼Œè¿”å›å¡«å……åçš„å­—ç¬¦ä¸²</p></li></ol><h5 id="æ•°å€¼å‡½æ•°">æ•°å€¼å‡½æ•°</h5><table><colgroup><col style="width: 50%" /><col style="width: 50%" /></colgroup><thead><tr class="header"><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>ABS(x)</td><td>è¿”å›xçš„ç»å¯¹å€¼</td></tr><tr class="even"><td>BIN(x)</td><td>è¿”å›xçš„äºŒè¿›åˆ¶ï¼ˆOCTè¿”å›å…«è¿›åˆ¶ï¼ŒHEXè¿”å›åå…­è¿›åˆ¶ï¼‰</td></tr><tr class="odd"><td>CEILING(x)</td><td>è¿”å›å¤§äºxçš„æœ€å°æ•´æ•°å€¼</td></tr><tr class="even"><td>EXP(x)</td><td>è¿”å›å€¼eï¼ˆè‡ªç„¶å¯¹æ•°çš„åº•ï¼‰çš„xæ¬¡æ–¹</td></tr><tr class="odd"><td>FLOOR(x)</td><td>è¿”å›å°äºxçš„æœ€å¤§æ•´æ•°å€¼</td></tr><tr class="even"><td>GREATEST(x1,x2,...,xn)</td><td>è¿”å›é›†åˆä¸­æœ€å¤§çš„å€¼</td></tr><tr class="odd"><td>LEAST(x1,x2,...,xn)</td><td>è¿”å›é›†åˆä¸­æœ€å°çš„å€¼</td></tr><tr class="even"><td>LN(x)</td><td>è¿”å›xçš„è‡ªç„¶å¯¹æ•°</td></tr><tr class="odd"><td>LOG(x,y)</td><td>è¿”å›xçš„ä»¥yä¸ºåº•çš„å¯¹æ•°</td></tr><tr class="even"><td>MOD(x,y)</td><td>è¿”å›x/yçš„æ¨¡ï¼ˆä½™æ•°ï¼‰</td></tr><tr class="odd"><td>PI()</td><td>è¿”å›piçš„å€¼ï¼ˆåœ†å‘¨ç‡ï¼‰</td></tr><tr class="even"><td>RAND()</td><td>è¿”å›ï¼åˆ°ï¼‘å†…çš„éšæœºå€¼,å¯ä»¥é€šè¿‡æä¾›ä¸€ä¸ªå‚æ•°(ç§å­)ä½¿RAND()éšæœºæ•°ç”Ÿæˆå™¨ç”Ÿæˆä¸€ä¸ªæŒ‡å®šçš„å€¼</td></tr><tr class="odd"><td>ROUND(x,y)</td><td>è¿”å›å‚æ•°xçš„å››èˆäº”å…¥çš„æœ‰yä½å°æ•°çš„å€¼</td></tr><tr class="even"><td>SIGN(x)</td><td>è¿”å›ä»£è¡¨æ•°å­—xçš„ç¬¦å·çš„å€¼</td></tr><tr class="odd"><td>SQRT(x)</td><td>è¿”å›ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹</td></tr><tr class="even"><td>TRUNCATE(x,y)</td><td>è¿”å›æ•°å­—xæˆªçŸ­ä¸ºyä½å°æ•°çš„ç»“æœ</td></tr></tbody></table><h5 id="æµç¨‹å‡½æ•°">æµç¨‹å‡½æ•°</h5><ul><li><p>if(value,t,f) : å¦‚æœvalueæ˜¯çœŸ,è¿”å›t;å¦åˆ™è¿”å›f</p></li><li><p>ifnull(value1,value2) :å¦‚æœvalve1ä¸ä¸ºç©ºåˆ™è¿”å›value1,å¦åˆ™è¿”å›value2</p><ul><li>ä¸€èˆ¬åœ¨å¤„ç†å«nullå€¼çš„åˆ—çš„æ•°å€¼è¿ç®—æ—¶ï¼Œç”¨æ­¤å‡½æ•°æ›¿æ¢nullå€¼</li></ul></li><li><p>case when [value1]</p><p>then [result]...else[defalult]ENDï¼šå¦‚æœvalue1æ˜¯çœŸ,è¿”å›result1,å¦åˆ™è¿”å›defalut</p></li><li><p>case [expr ] when [value1]</p><p>then[result]...else[default]END ï¼šå¦‚æœexprç­‰äºvalue1,è¿”å›result,å¦åˆ™è¿”å›defalut</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
